{"version":3,"file":"bundle.js","sources":["../../node_modules/svelte/internal/index.mjs","../../src/ToDo/ToDoInput.svelte","../../node_modules/sugar-core/sugar-core.js","../../node_modules/sugar-date/date/var/EnglishLocaleBaseDefinition.js","../../node_modules/sugar-date/common/var/coreUtilityAliases.js","../../node_modules/sugar-date/common/internal/simpleMerge.js","../../node_modules/sugar-date/common/internal/simpleClone.js","../../node_modules/sugar-date/date/internal/getEnglishVariant.js","../../node_modules/sugar-date/date/var/BritishEnglishDefinition.js","../../node_modules/sugar-date/date/var/AmericanEnglishDefinition.js","../../node_modules/sugar-date/date/var/CanadianEnglishDefinition.js","../../node_modules/sugar-date/date/var/LazyLoadedLocales.js","../../node_modules/sugar-date/date/var/LOCALE_ARRAY_FIELDS.js","../../node_modules/sugar-date/date/var/ISODefaults.js","../../node_modules/sugar-date/date/var/CoreParsingTokens.js","../../node_modules/sugar-date/date/var/CoreParsingFormats.js","../../node_modules/sugar-date/date/var/LocalizedParsingTokens.js","../../node_modules/sugar-date/common/internal/map.js","../../node_modules/sugar-date/common/internal/filter.js","../../node_modules/sugar-date/common/internal/isArrayIndex.js","../../node_modules/sugar-date/common/internal/getSparseArrayIndexes.js","../../node_modules/sugar-date/common/internal/iterateOverSparseArray.js","../../node_modules/sugar-date/common/internal/forEach.js","../../node_modules/sugar-date/common/internal/isDefined.js","../../node_modules/sugar-date/common/var/CommonChars.js","../../node_modules/sugar-date/common/internal/commaSplit.js","../../node_modules/sugar-date/common/internal/isClass.js","../../node_modules/sugar-date/common/internal/spaceSplit.js","../../node_modules/sugar-date/common/internal/isObjectType.js","../../node_modules/sugar-date/common/internal/hasOwnEnumeratedProperties.js","../../node_modules/sugar-date/common/internal/hasValidPlainObjectPrototype.js","../../node_modules/sugar-date/common/internal/isPlainObject.js","../../node_modules/sugar-date/common/var/classChecks.js","../../node_modules/sugar-date/common/var/NATIVE_TYPES.js","../../node_modules/sugar-date/common/var/mathAliases.js","../../node_modules/sugar-date/common/internal/isUndefined.js","../../node_modules/sugar-date/common/internal/getOrdinalSuffix.js","../../node_modules/sugar-date/date/internal/getArrayWithOffset.js","../../node_modules/sugar-date/date/internal/getRegNonCapturing.js","../../node_modules/sugar-date/common/internal/privatePropertyAccessor.js","../../node_modules/sugar-date/common/var/PRIVATE_PROP_PREFIX.js","../../node_modules/sugar-date/common/var/_utc.js","../../node_modules/sugar-date/common/internal/callDateGet.js","../../node_modules/sugar-date/date/internal/getYear.js","../../node_modules/sugar-date/date/internal/getMonth.js","../../node_modules/sugar-date/date/internal/getDaysInMonth.js","../../node_modules/sugar-date/date/var/DateUnits.js","../../node_modules/sugar-date/date/var/DateUnitIndexes.js","../../node_modules/sugar-date/date/internal/iterateOverDateUnits.js","../../node_modules/sugar-date/common/internal/escapeRegExp.js","../../node_modules/sugar-date/date/internal/arrayToRegAlternates.js","../../node_modules/sugar-date/common/var/chr.js","../../node_modules/sugar-date/common/internal/allCharsReg.js","../../node_modules/sugar-date/common/var/fullwidthNumberHelpers.js","../../node_modules/sugar-date/common/var/trunc.js","../../node_modules/sugar-date/common/internal/withPrecision.js","../../node_modules/sugar-date/date/internal/getAdjustedUnit.js","../../node_modules/sugar-date/date/internal/getAdjustedUnitForNumber.js","../../node_modules/sugar-date/date/internal/getParsingTokenWithSuffix.js","../../node_modules/sugar-date/date/internal/getNewLocale.js","../../node_modules/sugar-date/date/var/LocaleHelpers.js","../../node_modules/sugar-date/date/addLocale.js","../../node_modules/sugar-date/date/var/MINUTES.js","../../node_modules/sugar-date/date/var/ABBREVIATED_YEAR_REG.js","../../node_modules/sugar-date/date/internal/tzOffset.js","../../node_modules/sugar-date/common/internal/callDateSet.js","../../node_modules/sugar-date/date/internal/getLowerUnitIndex.js","../../node_modules/sugar-date/date/internal/walkUnitDown.js","../../node_modules/sugar-date/date/internal/setUnitAndLowerToEdge.js","../../node_modules/sugar-date/date/internal/resetTime.js","../../node_modules/sugar-date/date/internal/defaultNewDate.js","../../node_modules/sugar-date/date/var/DATE_OPTIONS.js","../../node_modules/sugar-date/common/var/namespaceAliases.js","../../node_modules/sugar-date/common/internal/defineAccessor.js","../../node_modules/sugar-date/common/internal/defineOptionsAccessor.js","../../node_modules/sugar-date/date/var/_dateOptions.js","../../node_modules/sugar-date/date/internal/getNewDate.js","../../node_modules/sugar-date/date/internal/setDate.js","../../node_modules/sugar-date/date/internal/getDate.js","../../node_modules/sugar-date/date/internal/getWeekday.js","../../node_modules/sugar-date/date/internal/setWeekday.js","../../node_modules/sugar-date/date/internal/resetLowerUnits.js","../../node_modules/sugar-date/date/internal/getHigherUnitIndex.js","../../node_modules/sugar-date/date/internal/setYear.js","../../node_modules/sugar-date/date/internal/setMonth.js","../../node_modules/sugar-date/date/internal/cloneDate.js","../../node_modules/sugar-date/date/internal/moveToBeginningOfWeek.js","../../node_modules/sugar-date/date/internal/moveToFirstDayOfWeekYear.js","../../node_modules/sugar-date/date/internal/setISOWeekNumber.js","../../node_modules/sugar-date/date/internal/callDateSetWithWeek.js","../../node_modules/sugar-date/common/internal/getOwnKey.js","../../node_modules/sugar-date/date/internal/getDateParamKey.js","../../node_modules/sugar-date/date/internal/getDateParam.js","../../node_modules/sugar-date/date/internal/iterateOverDateParams.js","../../node_modules/sugar-date/date/internal/updateDate.js","../../node_modules/sugar-date/date/internal/advanceDate.js","../../node_modules/sugar-date/date/internal/dateIsValid.js","../../node_modules/sugar-date/date/internal/moveToEndOfWeek.js","../../node_modules/sugar-date/date/internal/moveToEndOfUnit.js","../../node_modules/sugar-date/date/internal/deleteDateParam.js","../../node_modules/sugar-date/date/internal/moveToBeginningOfUnit.js","../../node_modules/sugar-date/date/internal/getYearFromAbbreviation.js","../../node_modules/sugar-date/date/internal/iterateOverHigherDateParams.js","../../node_modules/sugar-date/date/internal/getExtendedDate.js","../../node_modules/sugar-date/date/internal/createDate.js","../../node_modules/sugar-date/common/internal/setChainableConstructor.js","../../node_modules/sugar-date/date/internal/setDateChainableConstructor.js","../../node_modules/sugar-date/date/build/setDateChainableConstructorCall.js","../../node_modules/sugar-date/date/create.js","../../node_modules/sugar-date/common/internal/getKeys.js","../../node_modules/sugar-date/date/getAllLocaleCodes.js","../../node_modules/sugar-date/date/getAllLocales.js","../../node_modules/sugar-date/date/getLocale.js","../../node_modules/sugar-date/date/removeLocale.js","../../node_modules/sugar-date/date/setLocale.js","../../node_modules/sugar-date/common/internal/wrapNamespace.js","../../node_modules/sugar-date/common/var/methodDefineAliases.js","../../node_modules/sugar-date/common/internal/collectSimilarMethods.js","../../node_modules/sugar-date/common/internal/defineInstanceSimilar.js","../../node_modules/sugar-date/date/internal/buildNumberUnitMethods.js","../../node_modules/sugar-date/date/build/buildNumberUnitMethodsCall.js","../../node_modules/sugar-date/number/day.js","../../node_modules/sugar-date/number/dayAfter.js","../../node_modules/sugar-date/number/dayAgo.js","../../node_modules/sugar-date/number/dayBefore.js","../../node_modules/sugar-date/number/dayFromNow.js","../../node_modules/sugar-date/number/days.js","../../node_modules/sugar-date/number/daysAfter.js","../../node_modules/sugar-date/number/daysAgo.js","../../node_modules/sugar-date/number/daysBefore.js","../../node_modules/sugar-date/number/daysFromNow.js","../../node_modules/sugar-date/number/duration.js","../../node_modules/sugar-date/number/hour.js","../../node_modules/sugar-date/number/hourAfter.js","../../node_modules/sugar-date/number/hourAgo.js","../../node_modules/sugar-date/number/hourBefore.js","../../node_modules/sugar-date/number/hourFromNow.js","../../node_modules/sugar-date/number/hours.js","../../node_modules/sugar-date/number/hoursAfter.js","../../node_modules/sugar-date/number/hoursAgo.js","../../node_modules/sugar-date/number/hoursBefore.js","../../node_modules/sugar-date/number/hoursFromNow.js","../../node_modules/sugar-date/number/millisecond.js","../../node_modules/sugar-date/number/millisecondAfter.js","../../node_modules/sugar-date/number/millisecondAgo.js","../../node_modules/sugar-date/number/millisecondBefore.js","../../node_modules/sugar-date/number/millisecondFromNow.js","../../node_modules/sugar-date/number/milliseconds.js","../../node_modules/sugar-date/number/millisecondsAfter.js","../../node_modules/sugar-date/number/millisecondsAgo.js","../../node_modules/sugar-date/number/millisecondsBefore.js","../../node_modules/sugar-date/number/millisecondsFromNow.js","../../node_modules/sugar-date/number/minute.js","../../node_modules/sugar-date/number/minuteAfter.js","../../node_modules/sugar-date/number/minuteAgo.js","../../node_modules/sugar-date/number/minuteBefore.js","../../node_modules/sugar-date/number/minuteFromNow.js","../../node_modules/sugar-date/number/minutes.js","../../node_modules/sugar-date/number/minutesAfter.js","../../node_modules/sugar-date/number/minutesAgo.js","../../node_modules/sugar-date/number/minutesBefore.js","../../node_modules/sugar-date/number/minutesFromNow.js","../../node_modules/sugar-date/number/month.js","../../node_modules/sugar-date/number/monthAfter.js","../../node_modules/sugar-date/number/monthAgo.js","../../node_modules/sugar-date/number/monthBefore.js","../../node_modules/sugar-date/number/monthFromNow.js","../../node_modules/sugar-date/number/months.js","../../node_modules/sugar-date/number/monthsAfter.js","../../node_modules/sugar-date/number/monthsAgo.js","../../node_modules/sugar-date/number/monthsBefore.js","../../node_modules/sugar-date/number/monthsFromNow.js","../../node_modules/sugar-date/number/second.js","../../node_modules/sugar-date/number/secondAfter.js","../../node_modules/sugar-date/number/secondAgo.js","../../node_modules/sugar-date/number/secondBefore.js","../../node_modules/sugar-date/number/secondFromNow.js","../../node_modules/sugar-date/number/seconds.js","../../node_modules/sugar-date/number/secondsAfter.js","../../node_modules/sugar-date/number/secondsAgo.js","../../node_modules/sugar-date/number/secondsBefore.js","../../node_modules/sugar-date/number/secondsFromNow.js","../../node_modules/sugar-date/number/week.js","../../node_modules/sugar-date/number/weekAfter.js","../../node_modules/sugar-date/number/weekAgo.js","../../node_modules/sugar-date/number/weekBefore.js","../../node_modules/sugar-date/number/weekFromNow.js","../../node_modules/sugar-date/number/weeks.js","../../node_modules/sugar-date/number/weeksAfter.js","../../node_modules/sugar-date/number/weeksAgo.js","../../node_modules/sugar-date/number/weeksBefore.js","../../node_modules/sugar-date/number/weeksFromNow.js","../../node_modules/sugar-date/number/year.js","../../node_modules/sugar-date/number/yearAfter.js","../../node_modules/sugar-date/number/yearAgo.js","../../node_modules/sugar-date/number/yearBefore.js","../../node_modules/sugar-date/number/yearFromNow.js","../../node_modules/sugar-date/number/years.js","../../node_modules/sugar-date/number/yearsAfter.js","../../node_modules/sugar-date/number/yearsAgo.js","../../node_modules/sugar-date/number/yearsBefore.js","../../node_modules/sugar-date/number/yearsFromNow.js","../../node_modules/sugar-date/date/internal/compareDate.js","../../node_modules/sugar-date/common/internal/simpleCapitalize.js","../../node_modules/sugar-date/date/internal/getTimeDistanceForUnit.js","../../node_modules/sugar-date/date/internal/buildDateUnitMethods.js","../../node_modules/sugar-date/date/build/buildDateUnitMethodsCall.js","../../node_modules/sugar-date/date/addDays.js","../../node_modules/sugar-date/date/addHours.js","../../node_modules/sugar-date/date/addMilliseconds.js","../../node_modules/sugar-date/date/addMinutes.js","../../node_modules/sugar-date/date/addMonths.js","../../node_modules/sugar-date/date/addSeconds.js","../../node_modules/sugar-date/date/addWeeks.js","../../node_modules/sugar-date/date/addYears.js","../../node_modules/sugar-date/date/internal/getDateParamsFromString.js","../../node_modules/sugar-date/date/internal/collectDateParamsFromArguments.js","../../node_modules/sugar-date/date/internal/collectUpdateDateArguments.js","../../node_modules/sugar-date/date/internal/advanceDateWithArgs.js","../../node_modules/sugar-date/date/advance.js","../../node_modules/sugar-date/date/beginningOfDay.js","../../node_modules/sugar-date/date/beginningOfISOWeek.js","../../node_modules/sugar-date/date/beginningOfMonth.js","../../node_modules/sugar-date/date/beginningOfWeek.js","../../node_modules/sugar-date/date/beginningOfYear.js","../../node_modules/sugar-date/date/clone.js","../../node_modules/sugar-date/date/daysAgo.js","../../node_modules/sugar-date/date/daysFromNow.js","../../node_modules/sugar-date/date/daysInMonth.js","../../node_modules/sugar-date/date/daysSince.js","../../node_modules/sugar-date/date/daysUntil.js","../../node_modules/sugar-date/date/endOfDay.js","../../node_modules/sugar-date/date/endOfISOWeek.js","../../node_modules/sugar-date/date/endOfMonth.js","../../node_modules/sugar-date/date/endOfWeek.js","../../node_modules/sugar-date/date/endOfYear.js","../../node_modules/sugar-date/date/var/CoreOutputFormats.js","../../node_modules/sugar-date/date/var/TIMEZONE_ABBREVIATION_REG.js","../../node_modules/sugar-date/date/internal/getHours.js","../../node_modules/sugar-date/common/internal/repeatString.js","../../node_modules/sugar-date/common/internal/padNumber.js","../../node_modules/sugar-date/date/internal/getWeekNumber.js","../../node_modules/sugar-date/date/internal/getWeekYear.js","../../node_modules/sugar-date/date/internal/getUTCOffset.js","../../node_modules/sugar-date/date/internal/getDaysSince.js","../../node_modules/sugar-date/date/internal/getMeridiemToken.js","../../node_modules/sugar-date/date/var/FormatTokensBase.js","../../node_modules/sugar-date/common/var/STRING_FORMAT_REG.js","../../node_modules/sugar-date/common/internal/memoizeFunction.js","../../node_modules/sugar-date/common/var/INTERNAL_MEMOIZE_LIMIT.js","../../node_modules/sugar-date/common/internal/createFormatMatcher.js","../../node_modules/sugar-date/date/var/formattingTokens.js","../../node_modules/sugar-date/date/internal/assertDateIsValid.js","../../node_modules/sugar-date/date/internal/dateFormat.js","../../node_modules/sugar-date/date/format.js","../../node_modules/sugar-date/date/internal/createDateWithContext.js","../../node_modules/sugar-date/date/get.js","../../node_modules/sugar-date/date/getISOWeek.js","../../node_modules/sugar-date/date/getUTCOffset.js","../../node_modules/sugar-date/date/getUTCWeekday.js","../../node_modules/sugar-date/date/getWeekday.js","../../node_modules/sugar-date/date/hoursAgo.js","../../node_modules/sugar-date/date/hoursFromNow.js","../../node_modules/sugar-date/date/hoursSince.js","../../node_modules/sugar-date/date/hoursUntil.js","../../node_modules/sugar-date/common/internal/trim.js","../../node_modules/sugar-date/date/internal/compareDay.js","../../node_modules/sugar-date/date/internal/fullCompareDate.js","../../node_modules/sugar-date/date/is.js","../../node_modules/sugar-date/date/isAfter.js","../../node_modules/sugar-date/date/isBefore.js","../../node_modules/sugar-date/date/isBetween.js","../../node_modules/sugar-date/date/internal/buildRelativeAliases.js","../../node_modules/sugar-date/date/build/buildRelativeAliasesCall.js","../../node_modules/sugar-date/date/isFriday.js","../../node_modules/sugar-date/date/isFuture.js","../../node_modules/sugar-date/date/isLastMonth.js","../../node_modules/sugar-date/date/isLastWeek.js","../../node_modules/sugar-date/date/isLastYear.js","../../node_modules/sugar-date/date/isLeapYear.js","../../node_modules/sugar-date/date/isMonday.js","../../node_modules/sugar-date/date/isNextMonth.js","../../node_modules/sugar-date/date/isNextWeek.js","../../node_modules/sugar-date/date/isNextYear.js","../../node_modules/sugar-date/date/isPast.js","../../node_modules/sugar-date/date/isSaturday.js","../../node_modules/sugar-date/date/isSunday.js","../../node_modules/sugar-date/date/isThisMonth.js","../../node_modules/sugar-date/date/isThisWeek.js","../../node_modules/sugar-date/date/isThisYear.js","../../node_modules/sugar-date/date/isThursday.js","../../node_modules/sugar-date/date/isToday.js","../../node_modules/sugar-date/date/isTomorrow.js","../../node_modules/sugar-date/date/isTuesday.js","../../node_modules/sugar-date/date/internal/isUTC.js","../../node_modules/sugar-date/date/isUTC.js","../../node_modules/sugar-date/date/isValid.js","../../node_modules/sugar-date/date/isWednesday.js","../../node_modules/sugar-date/date/isWeekday.js","../../node_modules/sugar-date/date/isWeekend.js","../../node_modules/sugar-date/date/isYesterday.js","../../node_modules/sugar-date/date/iso.js","../../node_modules/sugar-date/date/millisecondsAgo.js","../../node_modules/sugar-date/date/millisecondsFromNow.js","../../node_modules/sugar-date/date/millisecondsSince.js","../../node_modules/sugar-date/date/millisecondsUntil.js","../../node_modules/sugar-date/date/minutesAgo.js","../../node_modules/sugar-date/date/minutesFromNow.js","../../node_modules/sugar-date/date/minutesSince.js","../../node_modules/sugar-date/date/minutesUntil.js","../../node_modules/sugar-date/date/monthsAgo.js","../../node_modules/sugar-date/date/monthsFromNow.js","../../node_modules/sugar-date/date/monthsSince.js","../../node_modules/sugar-date/date/monthsUntil.js","../../node_modules/sugar-date/date/internal/getAdjustedUnitForDate.js","../../node_modules/sugar-date/date/internal/dateRelative.js","../../node_modules/sugar-date/date/relative.js","../../node_modules/sugar-date/date/relativeTo.js","../../node_modules/sugar-date/date/internal/getUnitIndexForParamName.js","../../node_modules/sugar-date/date/reset.js","../../node_modules/sugar-date/date/rewind.js","../../node_modules/sugar-date/date/secondsAgo.js","../../node_modules/sugar-date/date/secondsFromNow.js","../../node_modules/sugar-date/date/secondsSince.js","../../node_modules/sugar-date/date/secondsUntil.js","../../node_modules/sugar-date/date/set.js","../../node_modules/sugar-date/date/setISOWeek.js","../../node_modules/sugar-date/date/setUTC.js","../../node_modules/sugar-date/date/setWeekday.js","../../node_modules/sugar-date/date/weeksAgo.js","../../node_modules/sugar-date/date/weeksFromNow.js","../../node_modules/sugar-date/date/weeksSince.js","../../node_modules/sugar-date/date/weeksUntil.js","../../node_modules/sugar-date/date/yearsAgo.js","../../node_modules/sugar-date/date/yearsFromNow.js","../../node_modules/sugar-date/date/yearsSince.js","../../node_modules/sugar-date/date/yearsUntil.js","../../node_modules/sugar-date/date/getOption.js","../../node_modules/sugar-date/date/setOption.js","../../node_modules/sugar-date/range/internal/getRangeMemberPrimitiveValue.js","../../node_modules/sugar-date/range/internal/cloneRangeMember.js","../../node_modules/sugar-date/range/internal/Range.js","../../node_modules/sugar-date/range/internal/getDateForRange.js","../../node_modules/sugar-date/range/var/DURATION_UNITS.js","../../node_modules/sugar-date/range/var/FULL_CAPTURED_DURATION.js","../../node_modules/sugar-date/range/var/DurationTextFormats.js","../../node_modules/sugar-date/range/var/MULTIPLIERS.js","../../node_modules/sugar-date/range/internal/incrementDate.js","../../node_modules/sugar-date/range/var/DURATION_REG.js","../../node_modules/sugar-date/range/internal/getDateIncrementObject.js","../../node_modules/sugar-date/range/internal/createDateRangeFromString.js","../../node_modules/sugar-date/range/var/DateRangeConstructor.js","../../node_modules/sugar-date/date/range.js","../../node_modules/sugar-date/range/internal/rangeClamp.js","../../node_modules/sugar-date/common/internal/defineOnPrototype.js","../../node_modules/sugar-date/range/clamp.js","../../node_modules/sugar-date/range/clone.js","../../node_modules/sugar-date/range/contains.js","../../node_modules/sugar-date/range/internal/valueIsNotInfinite.js","../../node_modules/sugar-date/range/internal/isValidRangeMember.js","../../node_modules/sugar-date/range/internal/rangeIsValid.js","../../node_modules/sugar-date/range/internal/incrementNumber.js","../../node_modules/sugar-date/range/internal/incrementString.js","../../node_modules/sugar-date/common/internal/periodSplit.js","../../node_modules/sugar-date/range/internal/getPrecision.js","../../node_modules/sugar-date/range/internal/getGreaterPrecision.js","../../node_modules/sugar-date/range/internal/rangeEvery.js","../../node_modules/sugar-date/range/internal/buildDateRangeUnits.js","../../node_modules/sugar-date/range/build/buildDateRangeUnitsCall.js","../../node_modules/sugar-date/range/every.js","../../node_modules/sugar-date/range/intersect.js","../../node_modules/sugar-date/range/isValid.js","../../node_modules/sugar-date/range/internal/getRangeMemberNumericValue.js","../../node_modules/sugar-date/range/span.js","../../node_modules/sugar-date/range/toArray.js","../../node_modules/sugar-date/range/toString.js","../../node_modules/sugar-date/range/union.js","../../node_modules/sugar-date/index.js","../../node_modules/uuid/dist/esm-browser/rng.js","../../src/ToDo/ToDoDeadlineSelector.svelte","../../src/ToDo/ToDoItem.svelte","../../src/ToDo/ToDoList.svelte","../../node_modules/uuid/dist/esm-browser/regex.js","../../node_modules/uuid/dist/esm-browser/validate.js","../../node_modules/uuid/dist/esm-browser/stringify.js","../../node_modules/uuid/dist/esm-browser/v4.js","../../src/ToDo/ToDoApp.svelte","../../src/App.svelte","../../src/main.js"],"sourcesContent":["function noop() { }\nconst identity = x => x;\nfunction assign(tar, src) {\n    // @ts-ignore\n    for (const k in src)\n        tar[k] = src[k];\n    return tar;\n}\nfunction is_promise(value) {\n    return value && typeof value === 'object' && typeof value.then === 'function';\n}\nfunction add_location(element, file, line, column, char) {\n    element.__svelte_meta = {\n        loc: { file, line, column, char }\n    };\n}\nfunction run(fn) {\n    return fn();\n}\nfunction blank_object() {\n    return Object.create(null);\n}\nfunction run_all(fns) {\n    fns.forEach(run);\n}\nfunction is_function(thing) {\n    return typeof thing === 'function';\n}\nfunction safe_not_equal(a, b) {\n    return a != a ? b == b : a !== b || ((a && typeof a === 'object') || typeof a === 'function');\n}\nlet src_url_equal_anchor;\nfunction src_url_equal(element_src, url) {\n    if (!src_url_equal_anchor) {\n        src_url_equal_anchor = document.createElement('a');\n    }\n    src_url_equal_anchor.href = url;\n    return element_src === src_url_equal_anchor.href;\n}\nfunction not_equal(a, b) {\n    return a != a ? b == b : a !== b;\n}\nfunction is_empty(obj) {\n    return Object.keys(obj).length === 0;\n}\nfunction validate_store(store, name) {\n    if (store != null && typeof store.subscribe !== 'function') {\n        throw new Error(`'${name}' is not a store with a 'subscribe' method`);\n    }\n}\nfunction subscribe(store, ...callbacks) {\n    if (store == null) {\n        return noop;\n    }\n    const unsub = store.subscribe(...callbacks);\n    return unsub.unsubscribe ? () => unsub.unsubscribe() : unsub;\n}\nfunction get_store_value(store) {\n    let value;\n    subscribe(store, _ => value = _)();\n    return value;\n}\nfunction component_subscribe(component, store, callback) {\n    component.$$.on_destroy.push(subscribe(store, callback));\n}\nfunction create_slot(definition, ctx, $$scope, fn) {\n    if (definition) {\n        const slot_ctx = get_slot_context(definition, ctx, $$scope, fn);\n        return definition[0](slot_ctx);\n    }\n}\nfunction get_slot_context(definition, ctx, $$scope, fn) {\n    return definition[1] && fn\n        ? assign($$scope.ctx.slice(), definition[1](fn(ctx)))\n        : $$scope.ctx;\n}\nfunction get_slot_changes(definition, $$scope, dirty, fn) {\n    if (definition[2] && fn) {\n        const lets = definition[2](fn(dirty));\n        if ($$scope.dirty === undefined) {\n            return lets;\n        }\n        if (typeof lets === 'object') {\n            const merged = [];\n            const len = Math.max($$scope.dirty.length, lets.length);\n            for (let i = 0; i < len; i += 1) {\n                merged[i] = $$scope.dirty[i] | lets[i];\n            }\n            return merged;\n        }\n        return $$scope.dirty | lets;\n    }\n    return $$scope.dirty;\n}\nfunction update_slot_base(slot, slot_definition, ctx, $$scope, slot_changes, get_slot_context_fn) {\n    if (slot_changes) {\n        const slot_context = get_slot_context(slot_definition, ctx, $$scope, get_slot_context_fn);\n        slot.p(slot_context, slot_changes);\n    }\n}\nfunction update_slot(slot, slot_definition, ctx, $$scope, dirty, get_slot_changes_fn, get_slot_context_fn) {\n    const slot_changes = get_slot_changes(slot_definition, $$scope, dirty, get_slot_changes_fn);\n    update_slot_base(slot, slot_definition, ctx, $$scope, slot_changes, get_slot_context_fn);\n}\nfunction get_all_dirty_from_scope($$scope) {\n    if ($$scope.ctx.length > 32) {\n        const dirty = [];\n        const length = $$scope.ctx.length / 32;\n        for (let i = 0; i < length; i++) {\n            dirty[i] = -1;\n        }\n        return dirty;\n    }\n    return -1;\n}\nfunction exclude_internal_props(props) {\n    const result = {};\n    for (const k in props)\n        if (k[0] !== '$')\n            result[k] = props[k];\n    return result;\n}\nfunction compute_rest_props(props, keys) {\n    const rest = {};\n    keys = new Set(keys);\n    for (const k in props)\n        if (!keys.has(k) && k[0] !== '$')\n            rest[k] = props[k];\n    return rest;\n}\nfunction compute_slots(slots) {\n    const result = {};\n    for (const key in slots) {\n        result[key] = true;\n    }\n    return result;\n}\nfunction once(fn) {\n    let ran = false;\n    return function (...args) {\n        if (ran)\n            return;\n        ran = true;\n        fn.call(this, ...args);\n    };\n}\nfunction null_to_empty(value) {\n    return value == null ? '' : value;\n}\nfunction set_store_value(store, ret, value) {\n    store.set(value);\n    return ret;\n}\nconst has_prop = (obj, prop) => Object.prototype.hasOwnProperty.call(obj, prop);\nfunction action_destroyer(action_result) {\n    return action_result && is_function(action_result.destroy) ? action_result.destroy : noop;\n}\n\nconst is_client = typeof window !== 'undefined';\nlet now = is_client\n    ? () => window.performance.now()\n    : () => Date.now();\nlet raf = is_client ? cb => requestAnimationFrame(cb) : noop;\n// used internally for testing\nfunction set_now(fn) {\n    now = fn;\n}\nfunction set_raf(fn) {\n    raf = fn;\n}\n\nconst tasks = new Set();\nfunction run_tasks(now) {\n    tasks.forEach(task => {\n        if (!task.c(now)) {\n            tasks.delete(task);\n            task.f();\n        }\n    });\n    if (tasks.size !== 0)\n        raf(run_tasks);\n}\n/**\n * For testing purposes only!\n */\nfunction clear_loops() {\n    tasks.clear();\n}\n/**\n * Creates a new task that runs on each raf frame\n * until it returns a falsy value or is aborted\n */\nfunction loop(callback) {\n    let task;\n    if (tasks.size === 0)\n        raf(run_tasks);\n    return {\n        promise: new Promise(fulfill => {\n            tasks.add(task = { c: callback, f: fulfill });\n        }),\n        abort() {\n            tasks.delete(task);\n        }\n    };\n}\n\n// Track which nodes are claimed during hydration. Unclaimed nodes can then be removed from the DOM\n// at the end of hydration without touching the remaining nodes.\nlet is_hydrating = false;\nfunction start_hydrating() {\n    is_hydrating = true;\n}\nfunction end_hydrating() {\n    is_hydrating = false;\n}\nfunction upper_bound(low, high, key, value) {\n    // Return first index of value larger than input value in the range [low, high)\n    while (low < high) {\n        const mid = low + ((high - low) >> 1);\n        if (key(mid) <= value) {\n            low = mid + 1;\n        }\n        else {\n            high = mid;\n        }\n    }\n    return low;\n}\nfunction init_hydrate(target) {\n    if (target.hydrate_init)\n        return;\n    target.hydrate_init = true;\n    // We know that all children have claim_order values since the unclaimed have been detached if target is not <head>\n    let children = target.childNodes;\n    // If target is <head>, there may be children without claim_order\n    if (target.nodeName === 'HEAD') {\n        const myChildren = [];\n        for (let i = 0; i < children.length; i++) {\n            const node = children[i];\n            if (node.claim_order !== undefined) {\n                myChildren.push(node);\n            }\n        }\n        children = myChildren;\n    }\n    /*\n    * Reorder claimed children optimally.\n    * We can reorder claimed children optimally by finding the longest subsequence of\n    * nodes that are already claimed in order and only moving the rest. The longest\n    * subsequence subsequence of nodes that are claimed in order can be found by\n    * computing the longest increasing subsequence of .claim_order values.\n    *\n    * This algorithm is optimal in generating the least amount of reorder operations\n    * possible.\n    *\n    * Proof:\n    * We know that, given a set of reordering operations, the nodes that do not move\n    * always form an increasing subsequence, since they do not move among each other\n    * meaning that they must be already ordered among each other. Thus, the maximal\n    * set of nodes that do not move form a longest increasing subsequence.\n    */\n    // Compute longest increasing subsequence\n    // m: subsequence length j => index k of smallest value that ends an increasing subsequence of length j\n    const m = new Int32Array(children.length + 1);\n    // Predecessor indices + 1\n    const p = new Int32Array(children.length);\n    m[0] = -1;\n    let longest = 0;\n    for (let i = 0; i < children.length; i++) {\n        const current = children[i].claim_order;\n        // Find the largest subsequence length such that it ends in a value less than our current value\n        // upper_bound returns first greater value, so we subtract one\n        // with fast path for when we are on the current longest subsequence\n        const seqLen = ((longest > 0 && children[m[longest]].claim_order <= current) ? longest + 1 : upper_bound(1, longest, idx => children[m[idx]].claim_order, current)) - 1;\n        p[i] = m[seqLen] + 1;\n        const newLen = seqLen + 1;\n        // We can guarantee that current is the smallest value. Otherwise, we would have generated a longer sequence.\n        m[newLen] = i;\n        longest = Math.max(newLen, longest);\n    }\n    // The longest increasing subsequence of nodes (initially reversed)\n    const lis = [];\n    // The rest of the nodes, nodes that will be moved\n    const toMove = [];\n    let last = children.length - 1;\n    for (let cur = m[longest] + 1; cur != 0; cur = p[cur - 1]) {\n        lis.push(children[cur - 1]);\n        for (; last >= cur; last--) {\n            toMove.push(children[last]);\n        }\n        last--;\n    }\n    for (; last >= 0; last--) {\n        toMove.push(children[last]);\n    }\n    lis.reverse();\n    // We sort the nodes being moved to guarantee that their insertion order matches the claim order\n    toMove.sort((a, b) => a.claim_order - b.claim_order);\n    // Finally, we move the nodes\n    for (let i = 0, j = 0; i < toMove.length; i++) {\n        while (j < lis.length && toMove[i].claim_order >= lis[j].claim_order) {\n            j++;\n        }\n        const anchor = j < lis.length ? lis[j] : null;\n        target.insertBefore(toMove[i], anchor);\n    }\n}\nfunction append(target, node) {\n    target.appendChild(node);\n}\nfunction append_styles(target, style_sheet_id, styles) {\n    const append_styles_to = get_root_for_style(target);\n    if (!append_styles_to.getElementById(style_sheet_id)) {\n        const style = element('style');\n        style.id = style_sheet_id;\n        style.textContent = styles;\n        append_stylesheet(append_styles_to, style);\n    }\n}\nfunction get_root_for_style(node) {\n    if (!node)\n        return document;\n    const root = node.getRootNode ? node.getRootNode() : node.ownerDocument;\n    if (root && root.host) {\n        return root;\n    }\n    return node.ownerDocument;\n}\nfunction append_empty_stylesheet(node) {\n    const style_element = element('style');\n    append_stylesheet(get_root_for_style(node), style_element);\n    return style_element.sheet;\n}\nfunction append_stylesheet(node, style) {\n    append(node.head || node, style);\n}\nfunction append_hydration(target, node) {\n    if (is_hydrating) {\n        init_hydrate(target);\n        if ((target.actual_end_child === undefined) || ((target.actual_end_child !== null) && (target.actual_end_child.parentElement !== target))) {\n            target.actual_end_child = target.firstChild;\n        }\n        // Skip nodes of undefined ordering\n        while ((target.actual_end_child !== null) && (target.actual_end_child.claim_order === undefined)) {\n            target.actual_end_child = target.actual_end_child.nextSibling;\n        }\n        if (node !== target.actual_end_child) {\n            // We only insert if the ordering of this node should be modified or the parent node is not target\n            if (node.claim_order !== undefined || node.parentNode !== target) {\n                target.insertBefore(node, target.actual_end_child);\n            }\n        }\n        else {\n            target.actual_end_child = node.nextSibling;\n        }\n    }\n    else if (node.parentNode !== target || node.nextSibling !== null) {\n        target.appendChild(node);\n    }\n}\nfunction insert(target, node, anchor) {\n    target.insertBefore(node, anchor || null);\n}\nfunction insert_hydration(target, node, anchor) {\n    if (is_hydrating && !anchor) {\n        append_hydration(target, node);\n    }\n    else if (node.parentNode !== target || node.nextSibling != anchor) {\n        target.insertBefore(node, anchor || null);\n    }\n}\nfunction detach(node) {\n    node.parentNode.removeChild(node);\n}\nfunction destroy_each(iterations, detaching) {\n    for (let i = 0; i < iterations.length; i += 1) {\n        if (iterations[i])\n            iterations[i].d(detaching);\n    }\n}\nfunction element(name) {\n    return document.createElement(name);\n}\nfunction element_is(name, is) {\n    return document.createElement(name, { is });\n}\nfunction object_without_properties(obj, exclude) {\n    const target = {};\n    for (const k in obj) {\n        if (has_prop(obj, k)\n            // @ts-ignore\n            && exclude.indexOf(k) === -1) {\n            // @ts-ignore\n            target[k] = obj[k];\n        }\n    }\n    return target;\n}\nfunction svg_element(name) {\n    return document.createElementNS('http://www.w3.org/2000/svg', name);\n}\nfunction text(data) {\n    return document.createTextNode(data);\n}\nfunction space() {\n    return text(' ');\n}\nfunction empty() {\n    return text('');\n}\nfunction listen(node, event, handler, options) {\n    node.addEventListener(event, handler, options);\n    return () => node.removeEventListener(event, handler, options);\n}\nfunction prevent_default(fn) {\n    return function (event) {\n        event.preventDefault();\n        // @ts-ignore\n        return fn.call(this, event);\n    };\n}\nfunction stop_propagation(fn) {\n    return function (event) {\n        event.stopPropagation();\n        // @ts-ignore\n        return fn.call(this, event);\n    };\n}\nfunction self(fn) {\n    return function (event) {\n        // @ts-ignore\n        if (event.target === this)\n            fn.call(this, event);\n    };\n}\nfunction trusted(fn) {\n    return function (event) {\n        // @ts-ignore\n        if (event.isTrusted)\n            fn.call(this, event);\n    };\n}\nfunction attr(node, attribute, value) {\n    if (value == null)\n        node.removeAttribute(attribute);\n    else if (node.getAttribute(attribute) !== value)\n        node.setAttribute(attribute, value);\n}\nfunction set_attributes(node, attributes) {\n    // @ts-ignore\n    const descriptors = Object.getOwnPropertyDescriptors(node.__proto__);\n    for (const key in attributes) {\n        if (attributes[key] == null) {\n            node.removeAttribute(key);\n        }\n        else if (key === 'style') {\n            node.style.cssText = attributes[key];\n        }\n        else if (key === '__value') {\n            node.value = node[key] = attributes[key];\n        }\n        else if (descriptors[key] && descriptors[key].set) {\n            node[key] = attributes[key];\n        }\n        else {\n            attr(node, key, attributes[key]);\n        }\n    }\n}\nfunction set_svg_attributes(node, attributes) {\n    for (const key in attributes) {\n        attr(node, key, attributes[key]);\n    }\n}\nfunction set_custom_element_data(node, prop, value) {\n    if (prop in node) {\n        node[prop] = typeof node[prop] === 'boolean' && value === '' ? true : value;\n    }\n    else {\n        attr(node, prop, value);\n    }\n}\nfunction xlink_attr(node, attribute, value) {\n    node.setAttributeNS('http://www.w3.org/1999/xlink', attribute, value);\n}\nfunction get_binding_group_value(group, __value, checked) {\n    const value = new Set();\n    for (let i = 0; i < group.length; i += 1) {\n        if (group[i].checked)\n            value.add(group[i].__value);\n    }\n    if (!checked) {\n        value.delete(__value);\n    }\n    return Array.from(value);\n}\nfunction to_number(value) {\n    return value === '' ? null : +value;\n}\nfunction time_ranges_to_array(ranges) {\n    const array = [];\n    for (let i = 0; i < ranges.length; i += 1) {\n        array.push({ start: ranges.start(i), end: ranges.end(i) });\n    }\n    return array;\n}\nfunction children(element) {\n    return Array.from(element.childNodes);\n}\nfunction init_claim_info(nodes) {\n    if (nodes.claim_info === undefined) {\n        nodes.claim_info = { last_index: 0, total_claimed: 0 };\n    }\n}\nfunction claim_node(nodes, predicate, processNode, createNode, dontUpdateLastIndex = false) {\n    // Try to find nodes in an order such that we lengthen the longest increasing subsequence\n    init_claim_info(nodes);\n    const resultNode = (() => {\n        // We first try to find an element after the previous one\n        for (let i = nodes.claim_info.last_index; i < nodes.length; i++) {\n            const node = nodes[i];\n            if (predicate(node)) {\n                const replacement = processNode(node);\n                if (replacement === undefined) {\n                    nodes.splice(i, 1);\n                }\n                else {\n                    nodes[i] = replacement;\n                }\n                if (!dontUpdateLastIndex) {\n                    nodes.claim_info.last_index = i;\n                }\n                return node;\n            }\n        }\n        // Otherwise, we try to find one before\n        // We iterate in reverse so that we don't go too far back\n        for (let i = nodes.claim_info.last_index - 1; i >= 0; i--) {\n            const node = nodes[i];\n            if (predicate(node)) {\n                const replacement = processNode(node);\n                if (replacement === undefined) {\n                    nodes.splice(i, 1);\n                }\n                else {\n                    nodes[i] = replacement;\n                }\n                if (!dontUpdateLastIndex) {\n                    nodes.claim_info.last_index = i;\n                }\n                else if (replacement === undefined) {\n                    // Since we spliced before the last_index, we decrease it\n                    nodes.claim_info.last_index--;\n                }\n                return node;\n            }\n        }\n        // If we can't find any matching node, we create a new one\n        return createNode();\n    })();\n    resultNode.claim_order = nodes.claim_info.total_claimed;\n    nodes.claim_info.total_claimed += 1;\n    return resultNode;\n}\nfunction claim_element_base(nodes, name, attributes, create_element) {\n    return claim_node(nodes, (node) => node.nodeName === name, (node) => {\n        const remove = [];\n        for (let j = 0; j < node.attributes.length; j++) {\n            const attribute = node.attributes[j];\n            if (!attributes[attribute.name]) {\n                remove.push(attribute.name);\n            }\n        }\n        remove.forEach(v => node.removeAttribute(v));\n        return undefined;\n    }, () => create_element(name));\n}\nfunction claim_element(nodes, name, attributes) {\n    return claim_element_base(nodes, name, attributes, element);\n}\nfunction claim_svg_element(nodes, name, attributes) {\n    return claim_element_base(nodes, name, attributes, svg_element);\n}\nfunction claim_text(nodes, data) {\n    return claim_node(nodes, (node) => node.nodeType === 3, (node) => {\n        const dataStr = '' + data;\n        if (node.data.startsWith(dataStr)) {\n            if (node.data.length !== dataStr.length) {\n                return node.splitText(dataStr.length);\n            }\n        }\n        else {\n            node.data = dataStr;\n        }\n    }, () => text(data), true // Text nodes should not update last index since it is likely not worth it to eliminate an increasing subsequence of actual elements\n    );\n}\nfunction claim_space(nodes) {\n    return claim_text(nodes, ' ');\n}\nfunction find_comment(nodes, text, start) {\n    for (let i = start; i < nodes.length; i += 1) {\n        const node = nodes[i];\n        if (node.nodeType === 8 /* comment node */ && node.textContent.trim() === text) {\n            return i;\n        }\n    }\n    return nodes.length;\n}\nfunction claim_html_tag(nodes, is_svg) {\n    // find html opening tag\n    const start_index = find_comment(nodes, 'HTML_TAG_START', 0);\n    const end_index = find_comment(nodes, 'HTML_TAG_END', start_index);\n    if (start_index === end_index) {\n        return new HtmlTagHydration(undefined, is_svg);\n    }\n    init_claim_info(nodes);\n    const html_tag_nodes = nodes.splice(start_index, end_index - start_index + 1);\n    detach(html_tag_nodes[0]);\n    detach(html_tag_nodes[html_tag_nodes.length - 1]);\n    const claimed_nodes = html_tag_nodes.slice(1, html_tag_nodes.length - 1);\n    for (const n of claimed_nodes) {\n        n.claim_order = nodes.claim_info.total_claimed;\n        nodes.claim_info.total_claimed += 1;\n    }\n    return new HtmlTagHydration(claimed_nodes, is_svg);\n}\nfunction set_data(text, data) {\n    data = '' + data;\n    if (text.wholeText !== data)\n        text.data = data;\n}\nfunction set_input_value(input, value) {\n    input.value = value == null ? '' : value;\n}\nfunction set_input_type(input, type) {\n    try {\n        input.type = type;\n    }\n    catch (e) {\n        // do nothing\n    }\n}\nfunction set_style(node, key, value, important) {\n    if (value === null) {\n        node.style.removeProperty(key);\n    }\n    else {\n        node.style.setProperty(key, value, important ? 'important' : '');\n    }\n}\nfunction select_option(select, value) {\n    for (let i = 0; i < select.options.length; i += 1) {\n        const option = select.options[i];\n        if (option.__value === value) {\n            option.selected = true;\n            return;\n        }\n    }\n    select.selectedIndex = -1; // no option should be selected\n}\nfunction select_options(select, value) {\n    for (let i = 0; i < select.options.length; i += 1) {\n        const option = select.options[i];\n        option.selected = ~value.indexOf(option.__value);\n    }\n}\nfunction select_value(select) {\n    const selected_option = select.querySelector(':checked') || select.options[0];\n    return selected_option && selected_option.__value;\n}\nfunction select_multiple_value(select) {\n    return [].map.call(select.querySelectorAll(':checked'), option => option.__value);\n}\n// unfortunately this can't be a constant as that wouldn't be tree-shakeable\n// so we cache the result instead\nlet crossorigin;\nfunction is_crossorigin() {\n    if (crossorigin === undefined) {\n        crossorigin = false;\n        try {\n            if (typeof window !== 'undefined' && window.parent) {\n                void window.parent.document;\n            }\n        }\n        catch (error) {\n            crossorigin = true;\n        }\n    }\n    return crossorigin;\n}\nfunction add_resize_listener(node, fn) {\n    const computed_style = getComputedStyle(node);\n    if (computed_style.position === 'static') {\n        node.style.position = 'relative';\n    }\n    const iframe = element('iframe');\n    iframe.setAttribute('style', 'display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; ' +\n        'overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;');\n    iframe.setAttribute('aria-hidden', 'true');\n    iframe.tabIndex = -1;\n    const crossorigin = is_crossorigin();\n    let unsubscribe;\n    if (crossorigin) {\n        iframe.src = \"data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}</script>\";\n        unsubscribe = listen(window, 'message', (event) => {\n            if (event.source === iframe.contentWindow)\n                fn();\n        });\n    }\n    else {\n        iframe.src = 'about:blank';\n        iframe.onload = () => {\n            unsubscribe = listen(iframe.contentWindow, 'resize', fn);\n        };\n    }\n    append(node, iframe);\n    return () => {\n        if (crossorigin) {\n            unsubscribe();\n        }\n        else if (unsubscribe && iframe.contentWindow) {\n            unsubscribe();\n        }\n        detach(iframe);\n    };\n}\nfunction toggle_class(element, name, toggle) {\n    element.classList[toggle ? 'add' : 'remove'](name);\n}\nfunction custom_event(type, detail, { bubbles = false, cancelable = false } = {}) {\n    const e = document.createEvent('CustomEvent');\n    e.initCustomEvent(type, bubbles, cancelable, detail);\n    return e;\n}\nfunction query_selector_all(selector, parent = document.body) {\n    return Array.from(parent.querySelectorAll(selector));\n}\nclass HtmlTag {\n    constructor(is_svg = false) {\n        this.is_svg = false;\n        this.is_svg = is_svg;\n        this.e = this.n = null;\n    }\n    c(html) {\n        this.h(html);\n    }\n    m(html, target, anchor = null) {\n        if (!this.e) {\n            if (this.is_svg)\n                this.e = svg_element(target.nodeName);\n            else\n                this.e = element(target.nodeName);\n            this.t = target;\n            this.c(html);\n        }\n        this.i(anchor);\n    }\n    h(html) {\n        this.e.innerHTML = html;\n        this.n = Array.from(this.e.childNodes);\n    }\n    i(anchor) {\n        for (let i = 0; i < this.n.length; i += 1) {\n            insert(this.t, this.n[i], anchor);\n        }\n    }\n    p(html) {\n        this.d();\n        this.h(html);\n        this.i(this.a);\n    }\n    d() {\n        this.n.forEach(detach);\n    }\n}\nclass HtmlTagHydration extends HtmlTag {\n    constructor(claimed_nodes, is_svg = false) {\n        super(is_svg);\n        this.e = this.n = null;\n        this.l = claimed_nodes;\n    }\n    c(html) {\n        if (this.l) {\n            this.n = this.l;\n        }\n        else {\n            super.c(html);\n        }\n    }\n    i(anchor) {\n        for (let i = 0; i < this.n.length; i += 1) {\n            insert_hydration(this.t, this.n[i], anchor);\n        }\n    }\n}\nfunction attribute_to_object(attributes) {\n    const result = {};\n    for (const attribute of attributes) {\n        result[attribute.name] = attribute.value;\n    }\n    return result;\n}\nfunction get_custom_elements_slots(element) {\n    const result = {};\n    element.childNodes.forEach((node) => {\n        result[node.slot || 'default'] = true;\n    });\n    return result;\n}\n\n// we need to store the information for multiple documents because a Svelte application could also contain iframes\n// https://github.com/sveltejs/svelte/issues/3624\nconst managed_styles = new Map();\nlet active = 0;\n// https://github.com/darkskyapp/string-hash/blob/master/index.js\nfunction hash(str) {\n    let hash = 5381;\n    let i = str.length;\n    while (i--)\n        hash = ((hash << 5) - hash) ^ str.charCodeAt(i);\n    return hash >>> 0;\n}\nfunction create_style_information(doc, node) {\n    const info = { stylesheet: append_empty_stylesheet(node), rules: {} };\n    managed_styles.set(doc, info);\n    return info;\n}\nfunction create_rule(node, a, b, duration, delay, ease, fn, uid = 0) {\n    const step = 16.666 / duration;\n    let keyframes = '{\\n';\n    for (let p = 0; p <= 1; p += step) {\n        const t = a + (b - a) * ease(p);\n        keyframes += p * 100 + `%{${fn(t, 1 - t)}}\\n`;\n    }\n    const rule = keyframes + `100% {${fn(b, 1 - b)}}\\n}`;\n    const name = `__svelte_${hash(rule)}_${uid}`;\n    const doc = get_root_for_style(node);\n    const { stylesheet, rules } = managed_styles.get(doc) || create_style_information(doc, node);\n    if (!rules[name]) {\n        rules[name] = true;\n        stylesheet.insertRule(`@keyframes ${name} ${rule}`, stylesheet.cssRules.length);\n    }\n    const animation = node.style.animation || '';\n    node.style.animation = `${animation ? `${animation}, ` : ''}${name} ${duration}ms linear ${delay}ms 1 both`;\n    active += 1;\n    return name;\n}\nfunction delete_rule(node, name) {\n    const previous = (node.style.animation || '').split(', ');\n    const next = previous.filter(name\n        ? anim => anim.indexOf(name) < 0 // remove specific animation\n        : anim => anim.indexOf('__svelte') === -1 // remove all Svelte animations\n    );\n    const deleted = previous.length - next.length;\n    if (deleted) {\n        node.style.animation = next.join(', ');\n        active -= deleted;\n        if (!active)\n            clear_rules();\n    }\n}\nfunction clear_rules() {\n    raf(() => {\n        if (active)\n            return;\n        managed_styles.forEach(info => {\n            const { stylesheet } = info;\n            let i = stylesheet.cssRules.length;\n            while (i--)\n                stylesheet.deleteRule(i);\n            info.rules = {};\n        });\n        managed_styles.clear();\n    });\n}\n\nfunction create_animation(node, from, fn, params) {\n    if (!from)\n        return noop;\n    const to = node.getBoundingClientRect();\n    if (from.left === to.left && from.right === to.right && from.top === to.top && from.bottom === to.bottom)\n        return noop;\n    const { delay = 0, duration = 300, easing = identity, \n    // @ts-ignore todo: should this be separated from destructuring? Or start/end added to public api and documentation?\n    start: start_time = now() + delay, \n    // @ts-ignore todo:\n    end = start_time + duration, tick = noop, css } = fn(node, { from, to }, params);\n    let running = true;\n    let started = false;\n    let name;\n    function start() {\n        if (css) {\n            name = create_rule(node, 0, 1, duration, delay, easing, css);\n        }\n        if (!delay) {\n            started = true;\n        }\n    }\n    function stop() {\n        if (css)\n            delete_rule(node, name);\n        running = false;\n    }\n    loop(now => {\n        if (!started && now >= start_time) {\n            started = true;\n        }\n        if (started && now >= end) {\n            tick(1, 0);\n            stop();\n        }\n        if (!running) {\n            return false;\n        }\n        if (started) {\n            const p = now - start_time;\n            const t = 0 + 1 * easing(p / duration);\n            tick(t, 1 - t);\n        }\n        return true;\n    });\n    start();\n    tick(0, 1);\n    return stop;\n}\nfunction fix_position(node) {\n    const style = getComputedStyle(node);\n    if (style.position !== 'absolute' && style.position !== 'fixed') {\n        const { width, height } = style;\n        const a = node.getBoundingClientRect();\n        node.style.position = 'absolute';\n        node.style.width = width;\n        node.style.height = height;\n        add_transform(node, a);\n    }\n}\nfunction add_transform(node, a) {\n    const b = node.getBoundingClientRect();\n    if (a.left !== b.left || a.top !== b.top) {\n        const style = getComputedStyle(node);\n        const transform = style.transform === 'none' ? '' : style.transform;\n        node.style.transform = `${transform} translate(${a.left - b.left}px, ${a.top - b.top}px)`;\n    }\n}\n\nlet current_component;\nfunction set_current_component(component) {\n    current_component = component;\n}\nfunction get_current_component() {\n    if (!current_component)\n        throw new Error('Function called outside component initialization');\n    return current_component;\n}\nfunction beforeUpdate(fn) {\n    get_current_component().$$.before_update.push(fn);\n}\nfunction onMount(fn) {\n    get_current_component().$$.on_mount.push(fn);\n}\nfunction afterUpdate(fn) {\n    get_current_component().$$.after_update.push(fn);\n}\nfunction onDestroy(fn) {\n    get_current_component().$$.on_destroy.push(fn);\n}\nfunction createEventDispatcher() {\n    const component = get_current_component();\n    return (type, detail, { cancelable = false } = {}) => {\n        const callbacks = component.$$.callbacks[type];\n        if (callbacks) {\n            // TODO are there situations where events could be dispatched\n            // in a server (non-DOM) environment?\n            const event = custom_event(type, detail, { cancelable });\n            callbacks.slice().forEach(fn => {\n                fn.call(component, event);\n            });\n            return !event.defaultPrevented;\n        }\n        return true;\n    };\n}\nfunction setContext(key, context) {\n    get_current_component().$$.context.set(key, context);\n    return context;\n}\nfunction getContext(key) {\n    return get_current_component().$$.context.get(key);\n}\nfunction getAllContexts() {\n    return get_current_component().$$.context;\n}\nfunction hasContext(key) {\n    return get_current_component().$$.context.has(key);\n}\n// TODO figure out if we still want to support\n// shorthand events, or if we want to implement\n// a real bubbling mechanism\nfunction bubble(component, event) {\n    const callbacks = component.$$.callbacks[event.type];\n    if (callbacks) {\n        // @ts-ignore\n        callbacks.slice().forEach(fn => fn.call(this, event));\n    }\n}\n\nconst dirty_components = [];\nconst intros = { enabled: false };\nconst binding_callbacks = [];\nconst render_callbacks = [];\nconst flush_callbacks = [];\nconst resolved_promise = Promise.resolve();\nlet update_scheduled = false;\nfunction schedule_update() {\n    if (!update_scheduled) {\n        update_scheduled = true;\n        resolved_promise.then(flush);\n    }\n}\nfunction tick() {\n    schedule_update();\n    return resolved_promise;\n}\nfunction add_render_callback(fn) {\n    render_callbacks.push(fn);\n}\nfunction add_flush_callback(fn) {\n    flush_callbacks.push(fn);\n}\n// flush() calls callbacks in this order:\n// 1. All beforeUpdate callbacks, in order: parents before children\n// 2. All bind:this callbacks, in reverse order: children before parents.\n// 3. All afterUpdate callbacks, in order: parents before children. EXCEPT\n//    for afterUpdates called during the initial onMount, which are called in\n//    reverse order: children before parents.\n// Since callbacks might update component values, which could trigger another\n// call to flush(), the following steps guard against this:\n// 1. During beforeUpdate, any updated components will be added to the\n//    dirty_components array and will cause a reentrant call to flush(). Because\n//    the flush index is kept outside the function, the reentrant call will pick\n//    up where the earlier call left off and go through all dirty components. The\n//    current_component value is saved and restored so that the reentrant call will\n//    not interfere with the \"parent\" flush() call.\n// 2. bind:this callbacks cannot trigger new flush() calls.\n// 3. During afterUpdate, any updated components will NOT have their afterUpdate\n//    callback called a second time; the seen_callbacks set, outside the flush()\n//    function, guarantees this behavior.\nconst seen_callbacks = new Set();\nlet flushidx = 0; // Do *not* move this inside the flush() function\nfunction flush() {\n    const saved_component = current_component;\n    do {\n        // first, call beforeUpdate functions\n        // and update components\n        while (flushidx < dirty_components.length) {\n            const component = dirty_components[flushidx];\n            flushidx++;\n            set_current_component(component);\n            update(component.$$);\n        }\n        set_current_component(null);\n        dirty_components.length = 0;\n        flushidx = 0;\n        while (binding_callbacks.length)\n            binding_callbacks.pop()();\n        // then, once components are updated, call\n        // afterUpdate functions. This may cause\n        // subsequent updates...\n        for (let i = 0; i < render_callbacks.length; i += 1) {\n            const callback = render_callbacks[i];\n            if (!seen_callbacks.has(callback)) {\n                // ...so guard against infinite loops\n                seen_callbacks.add(callback);\n                callback();\n            }\n        }\n        render_callbacks.length = 0;\n    } while (dirty_components.length);\n    while (flush_callbacks.length) {\n        flush_callbacks.pop()();\n    }\n    update_scheduled = false;\n    seen_callbacks.clear();\n    set_current_component(saved_component);\n}\nfunction update($$) {\n    if ($$.fragment !== null) {\n        $$.update();\n        run_all($$.before_update);\n        const dirty = $$.dirty;\n        $$.dirty = [-1];\n        $$.fragment && $$.fragment.p($$.ctx, dirty);\n        $$.after_update.forEach(add_render_callback);\n    }\n}\n\nlet promise;\nfunction wait() {\n    if (!promise) {\n        promise = Promise.resolve();\n        promise.then(() => {\n            promise = null;\n        });\n    }\n    return promise;\n}\nfunction dispatch(node, direction, kind) {\n    node.dispatchEvent(custom_event(`${direction ? 'intro' : 'outro'}${kind}`));\n}\nconst outroing = new Set();\nlet outros;\nfunction group_outros() {\n    outros = {\n        r: 0,\n        c: [],\n        p: outros // parent group\n    };\n}\nfunction check_outros() {\n    if (!outros.r) {\n        run_all(outros.c);\n    }\n    outros = outros.p;\n}\nfunction transition_in(block, local) {\n    if (block && block.i) {\n        outroing.delete(block);\n        block.i(local);\n    }\n}\nfunction transition_out(block, local, detach, callback) {\n    if (block && block.o) {\n        if (outroing.has(block))\n            return;\n        outroing.add(block);\n        outros.c.push(() => {\n            outroing.delete(block);\n            if (callback) {\n                if (detach)\n                    block.d(1);\n                callback();\n            }\n        });\n        block.o(local);\n    }\n}\nconst null_transition = { duration: 0 };\nfunction create_in_transition(node, fn, params) {\n    let config = fn(node, params);\n    let running = false;\n    let animation_name;\n    let task;\n    let uid = 0;\n    function cleanup() {\n        if (animation_name)\n            delete_rule(node, animation_name);\n    }\n    function go() {\n        const { delay = 0, duration = 300, easing = identity, tick = noop, css } = config || null_transition;\n        if (css)\n            animation_name = create_rule(node, 0, 1, duration, delay, easing, css, uid++);\n        tick(0, 1);\n        const start_time = now() + delay;\n        const end_time = start_time + duration;\n        if (task)\n            task.abort();\n        running = true;\n        add_render_callback(() => dispatch(node, true, 'start'));\n        task = loop(now => {\n            if (running) {\n                if (now >= end_time) {\n                    tick(1, 0);\n                    dispatch(node, true, 'end');\n                    cleanup();\n                    return running = false;\n                }\n                if (now >= start_time) {\n                    const t = easing((now - start_time) / duration);\n                    tick(t, 1 - t);\n                }\n            }\n            return running;\n        });\n    }\n    let started = false;\n    return {\n        start() {\n            if (started)\n                return;\n            started = true;\n            delete_rule(node);\n            if (is_function(config)) {\n                config = config();\n                wait().then(go);\n            }\n            else {\n                go();\n            }\n        },\n        invalidate() {\n            started = false;\n        },\n        end() {\n            if (running) {\n                cleanup();\n                running = false;\n            }\n        }\n    };\n}\nfunction create_out_transition(node, fn, params) {\n    let config = fn(node, params);\n    let running = true;\n    let animation_name;\n    const group = outros;\n    group.r += 1;\n    function go() {\n        const { delay = 0, duration = 300, easing = identity, tick = noop, css } = config || null_transition;\n        if (css)\n            animation_name = create_rule(node, 1, 0, duration, delay, easing, css);\n        const start_time = now() + delay;\n        const end_time = start_time + duration;\n        add_render_callback(() => dispatch(node, false, 'start'));\n        loop(now => {\n            if (running) {\n                if (now >= end_time) {\n                    tick(0, 1);\n                    dispatch(node, false, 'end');\n                    if (!--group.r) {\n                        // this will result in `end()` being called,\n                        // so we don't need to clean up here\n                        run_all(group.c);\n                    }\n                    return false;\n                }\n                if (now >= start_time) {\n                    const t = easing((now - start_time) / duration);\n                    tick(1 - t, t);\n                }\n            }\n            return running;\n        });\n    }\n    if (is_function(config)) {\n        wait().then(() => {\n            // @ts-ignore\n            config = config();\n            go();\n        });\n    }\n    else {\n        go();\n    }\n    return {\n        end(reset) {\n            if (reset && config.tick) {\n                config.tick(1, 0);\n            }\n            if (running) {\n                if (animation_name)\n                    delete_rule(node, animation_name);\n                running = false;\n            }\n        }\n    };\n}\nfunction create_bidirectional_transition(node, fn, params, intro) {\n    let config = fn(node, params);\n    let t = intro ? 0 : 1;\n    let running_program = null;\n    let pending_program = null;\n    let animation_name = null;\n    function clear_animation() {\n        if (animation_name)\n            delete_rule(node, animation_name);\n    }\n    function init(program, duration) {\n        const d = (program.b - t);\n        duration *= Math.abs(d);\n        return {\n            a: t,\n            b: program.b,\n            d,\n            duration,\n            start: program.start,\n            end: program.start + duration,\n            group: program.group\n        };\n    }\n    function go(b) {\n        const { delay = 0, duration = 300, easing = identity, tick = noop, css } = config || null_transition;\n        const program = {\n            start: now() + delay,\n            b\n        };\n        if (!b) {\n            // @ts-ignore todo: improve typings\n            program.group = outros;\n            outros.r += 1;\n        }\n        if (running_program || pending_program) {\n            pending_program = program;\n        }\n        else {\n            // if this is an intro, and there's a delay, we need to do\n            // an initial tick and/or apply CSS animation immediately\n            if (css) {\n                clear_animation();\n                animation_name = create_rule(node, t, b, duration, delay, easing, css);\n            }\n            if (b)\n                tick(0, 1);\n            running_program = init(program, duration);\n            add_render_callback(() => dispatch(node, b, 'start'));\n            loop(now => {\n                if (pending_program && now > pending_program.start) {\n                    running_program = init(pending_program, duration);\n                    pending_program = null;\n                    dispatch(node, running_program.b, 'start');\n                    if (css) {\n                        clear_animation();\n                        animation_name = create_rule(node, t, running_program.b, running_program.duration, 0, easing, config.css);\n                    }\n                }\n                if (running_program) {\n                    if (now >= running_program.end) {\n                        tick(t = running_program.b, 1 - t);\n                        dispatch(node, running_program.b, 'end');\n                        if (!pending_program) {\n                            // we're done\n                            if (running_program.b) {\n                                // intro — we can tidy up immediately\n                                clear_animation();\n                            }\n                            else {\n                                // outro — needs to be coordinated\n                                if (!--running_program.group.r)\n                                    run_all(running_program.group.c);\n                            }\n                        }\n                        running_program = null;\n                    }\n                    else if (now >= running_program.start) {\n                        const p = now - running_program.start;\n                        t = running_program.a + running_program.d * easing(p / running_program.duration);\n                        tick(t, 1 - t);\n                    }\n                }\n                return !!(running_program || pending_program);\n            });\n        }\n    }\n    return {\n        run(b) {\n            if (is_function(config)) {\n                wait().then(() => {\n                    // @ts-ignore\n                    config = config();\n                    go(b);\n                });\n            }\n            else {\n                go(b);\n            }\n        },\n        end() {\n            clear_animation();\n            running_program = pending_program = null;\n        }\n    };\n}\n\nfunction handle_promise(promise, info) {\n    const token = info.token = {};\n    function update(type, index, key, value) {\n        if (info.token !== token)\n            return;\n        info.resolved = value;\n        let child_ctx = info.ctx;\n        if (key !== undefined) {\n            child_ctx = child_ctx.slice();\n            child_ctx[key] = value;\n        }\n        const block = type && (info.current = type)(child_ctx);\n        let needs_flush = false;\n        if (info.block) {\n            if (info.blocks) {\n                info.blocks.forEach((block, i) => {\n                    if (i !== index && block) {\n                        group_outros();\n                        transition_out(block, 1, 1, () => {\n                            if (info.blocks[i] === block) {\n                                info.blocks[i] = null;\n                            }\n                        });\n                        check_outros();\n                    }\n                });\n            }\n            else {\n                info.block.d(1);\n            }\n            block.c();\n            transition_in(block, 1);\n            block.m(info.mount(), info.anchor);\n            needs_flush = true;\n        }\n        info.block = block;\n        if (info.blocks)\n            info.blocks[index] = block;\n        if (needs_flush) {\n            flush();\n        }\n    }\n    if (is_promise(promise)) {\n        const current_component = get_current_component();\n        promise.then(value => {\n            set_current_component(current_component);\n            update(info.then, 1, info.value, value);\n            set_current_component(null);\n        }, error => {\n            set_current_component(current_component);\n            update(info.catch, 2, info.error, error);\n            set_current_component(null);\n            if (!info.hasCatch) {\n                throw error;\n            }\n        });\n        // if we previously had a then/catch block, destroy it\n        if (info.current !== info.pending) {\n            update(info.pending, 0);\n            return true;\n        }\n    }\n    else {\n        if (info.current !== info.then) {\n            update(info.then, 1, info.value, promise);\n            return true;\n        }\n        info.resolved = promise;\n    }\n}\nfunction update_await_block_branch(info, ctx, dirty) {\n    const child_ctx = ctx.slice();\n    const { resolved } = info;\n    if (info.current === info.then) {\n        child_ctx[info.value] = resolved;\n    }\n    if (info.current === info.catch) {\n        child_ctx[info.error] = resolved;\n    }\n    info.block.p(child_ctx, dirty);\n}\n\nconst globals = (typeof window !== 'undefined'\n    ? window\n    : typeof globalThis !== 'undefined'\n        ? globalThis\n        : global);\n\nfunction destroy_block(block, lookup) {\n    block.d(1);\n    lookup.delete(block.key);\n}\nfunction outro_and_destroy_block(block, lookup) {\n    transition_out(block, 1, 1, () => {\n        lookup.delete(block.key);\n    });\n}\nfunction fix_and_destroy_block(block, lookup) {\n    block.f();\n    destroy_block(block, lookup);\n}\nfunction fix_and_outro_and_destroy_block(block, lookup) {\n    block.f();\n    outro_and_destroy_block(block, lookup);\n}\nfunction update_keyed_each(old_blocks, dirty, get_key, dynamic, ctx, list, lookup, node, destroy, create_each_block, next, get_context) {\n    let o = old_blocks.length;\n    let n = list.length;\n    let i = o;\n    const old_indexes = {};\n    while (i--)\n        old_indexes[old_blocks[i].key] = i;\n    const new_blocks = [];\n    const new_lookup = new Map();\n    const deltas = new Map();\n    i = n;\n    while (i--) {\n        const child_ctx = get_context(ctx, list, i);\n        const key = get_key(child_ctx);\n        let block = lookup.get(key);\n        if (!block) {\n            block = create_each_block(key, child_ctx);\n            block.c();\n        }\n        else if (dynamic) {\n            block.p(child_ctx, dirty);\n        }\n        new_lookup.set(key, new_blocks[i] = block);\n        if (key in old_indexes)\n            deltas.set(key, Math.abs(i - old_indexes[key]));\n    }\n    const will_move = new Set();\n    const did_move = new Set();\n    function insert(block) {\n        transition_in(block, 1);\n        block.m(node, next);\n        lookup.set(block.key, block);\n        next = block.first;\n        n--;\n    }\n    while (o && n) {\n        const new_block = new_blocks[n - 1];\n        const old_block = old_blocks[o - 1];\n        const new_key = new_block.key;\n        const old_key = old_block.key;\n        if (new_block === old_block) {\n            // do nothing\n            next = new_block.first;\n            o--;\n            n--;\n        }\n        else if (!new_lookup.has(old_key)) {\n            // remove old block\n            destroy(old_block, lookup);\n            o--;\n        }\n        else if (!lookup.has(new_key) || will_move.has(new_key)) {\n            insert(new_block);\n        }\n        else if (did_move.has(old_key)) {\n            o--;\n        }\n        else if (deltas.get(new_key) > deltas.get(old_key)) {\n            did_move.add(new_key);\n            insert(new_block);\n        }\n        else {\n            will_move.add(old_key);\n            o--;\n        }\n    }\n    while (o--) {\n        const old_block = old_blocks[o];\n        if (!new_lookup.has(old_block.key))\n            destroy(old_block, lookup);\n    }\n    while (n)\n        insert(new_blocks[n - 1]);\n    return new_blocks;\n}\nfunction validate_each_keys(ctx, list, get_context, get_key) {\n    const keys = new Set();\n    for (let i = 0; i < list.length; i++) {\n        const key = get_key(get_context(ctx, list, i));\n        if (keys.has(key)) {\n            throw new Error('Cannot have duplicate keys in a keyed each');\n        }\n        keys.add(key);\n    }\n}\n\nfunction get_spread_update(levels, updates) {\n    const update = {};\n    const to_null_out = {};\n    const accounted_for = { $$scope: 1 };\n    let i = levels.length;\n    while (i--) {\n        const o = levels[i];\n        const n = updates[i];\n        if (n) {\n            for (const key in o) {\n                if (!(key in n))\n                    to_null_out[key] = 1;\n            }\n            for (const key in n) {\n                if (!accounted_for[key]) {\n                    update[key] = n[key];\n                    accounted_for[key] = 1;\n                }\n            }\n            levels[i] = n;\n        }\n        else {\n            for (const key in o) {\n                accounted_for[key] = 1;\n            }\n        }\n    }\n    for (const key in to_null_out) {\n        if (!(key in update))\n            update[key] = undefined;\n    }\n    return update;\n}\nfunction get_spread_object(spread_props) {\n    return typeof spread_props === 'object' && spread_props !== null ? spread_props : {};\n}\n\n// source: https://html.spec.whatwg.org/multipage/indices.html\nconst boolean_attributes = new Set([\n    'allowfullscreen',\n    'allowpaymentrequest',\n    'async',\n    'autofocus',\n    'autoplay',\n    'checked',\n    'controls',\n    'default',\n    'defer',\n    'disabled',\n    'formnovalidate',\n    'hidden',\n    'ismap',\n    'loop',\n    'multiple',\n    'muted',\n    'nomodule',\n    'novalidate',\n    'open',\n    'playsinline',\n    'readonly',\n    'required',\n    'reversed',\n    'selected'\n]);\n\nconst void_element_names = /^(?:area|base|br|col|command|embed|hr|img|input|keygen|link|meta|param|source|track|wbr)$/;\nfunction is_void(name) {\n    return void_element_names.test(name) || name.toLowerCase() === '!doctype';\n}\n\nconst invalid_attribute_name_character = /[\\s'\">/=\\u{FDD0}-\\u{FDEF}\\u{FFFE}\\u{FFFF}\\u{1FFFE}\\u{1FFFF}\\u{2FFFE}\\u{2FFFF}\\u{3FFFE}\\u{3FFFF}\\u{4FFFE}\\u{4FFFF}\\u{5FFFE}\\u{5FFFF}\\u{6FFFE}\\u{6FFFF}\\u{7FFFE}\\u{7FFFF}\\u{8FFFE}\\u{8FFFF}\\u{9FFFE}\\u{9FFFF}\\u{AFFFE}\\u{AFFFF}\\u{BFFFE}\\u{BFFFF}\\u{CFFFE}\\u{CFFFF}\\u{DFFFE}\\u{DFFFF}\\u{EFFFE}\\u{EFFFF}\\u{FFFFE}\\u{FFFFF}\\u{10FFFE}\\u{10FFFF}]/u;\n// https://html.spec.whatwg.org/multipage/syntax.html#attributes-2\n// https://infra.spec.whatwg.org/#noncharacter\nfunction spread(args, attrs_to_add) {\n    const attributes = Object.assign({}, ...args);\n    if (attrs_to_add) {\n        const classes_to_add = attrs_to_add.classes;\n        const styles_to_add = attrs_to_add.styles;\n        if (classes_to_add) {\n            if (attributes.class == null) {\n                attributes.class = classes_to_add;\n            }\n            else {\n                attributes.class += ' ' + classes_to_add;\n            }\n        }\n        if (styles_to_add) {\n            if (attributes.style == null) {\n                attributes.style = style_object_to_string(styles_to_add);\n            }\n            else {\n                attributes.style = style_object_to_string(merge_ssr_styles(attributes.style, styles_to_add));\n            }\n        }\n    }\n    let str = '';\n    Object.keys(attributes).forEach(name => {\n        if (invalid_attribute_name_character.test(name))\n            return;\n        const value = attributes[name];\n        if (value === true)\n            str += ' ' + name;\n        else if (boolean_attributes.has(name.toLowerCase())) {\n            if (value)\n                str += ' ' + name;\n        }\n        else if (value != null) {\n            str += ` ${name}=\"${value}\"`;\n        }\n    });\n    return str;\n}\nfunction merge_ssr_styles(style_attribute, style_directive) {\n    const style_object = {};\n    for (const individual_style of style_attribute.split(';')) {\n        const colon_index = individual_style.indexOf(':');\n        const name = individual_style.slice(0, colon_index).trim();\n        const value = individual_style.slice(colon_index + 1).trim();\n        if (!name)\n            continue;\n        style_object[name] = value;\n    }\n    for (const name in style_directive) {\n        const value = style_directive[name];\n        if (value) {\n            style_object[name] = value;\n        }\n        else {\n            delete style_object[name];\n        }\n    }\n    return style_object;\n}\nconst escaped = {\n    '\"': '&quot;',\n    \"'\": '&#39;',\n    '&': '&amp;',\n    '<': '&lt;',\n    '>': '&gt;'\n};\nfunction escape(html) {\n    return String(html).replace(/[\"'&<>]/g, match => escaped[match]);\n}\nfunction escape_attribute_value(value) {\n    return typeof value === 'string' ? escape(value) : value;\n}\nfunction escape_object(obj) {\n    const result = {};\n    for (const key in obj) {\n        result[key] = escape_attribute_value(obj[key]);\n    }\n    return result;\n}\nfunction each(items, fn) {\n    let str = '';\n    for (let i = 0; i < items.length; i += 1) {\n        str += fn(items[i], i);\n    }\n    return str;\n}\nconst missing_component = {\n    $$render: () => ''\n};\nfunction validate_component(component, name) {\n    if (!component || !component.$$render) {\n        if (name === 'svelte:component')\n            name += ' this={...}';\n        throw new Error(`<${name}> is not a valid SSR component. You may need to review your build config to ensure that dependencies are compiled, rather than imported as pre-compiled modules`);\n    }\n    return component;\n}\nfunction debug(file, line, column, values) {\n    console.log(`{@debug} ${file ? file + ' ' : ''}(${line}:${column})`); // eslint-disable-line no-console\n    console.log(values); // eslint-disable-line no-console\n    return '';\n}\nlet on_destroy;\nfunction create_ssr_component(fn) {\n    function $$render(result, props, bindings, slots, context) {\n        const parent_component = current_component;\n        const $$ = {\n            on_destroy,\n            context: new Map(context || (parent_component ? parent_component.$$.context : [])),\n            // these will be immediately discarded\n            on_mount: [],\n            before_update: [],\n            after_update: [],\n            callbacks: blank_object()\n        };\n        set_current_component({ $$ });\n        const html = fn(result, props, bindings, slots);\n        set_current_component(parent_component);\n        return html;\n    }\n    return {\n        render: (props = {}, { $$slots = {}, context = new Map() } = {}) => {\n            on_destroy = [];\n            const result = { title: '', head: '', css: new Set() };\n            const html = $$render(result, props, {}, $$slots, context);\n            run_all(on_destroy);\n            return {\n                html,\n                css: {\n                    code: Array.from(result.css).map(css => css.code).join('\\n'),\n                    map: null // TODO\n                },\n                head: result.title + result.head\n            };\n        },\n        $$render\n    };\n}\nfunction add_attribute(name, value, boolean) {\n    if (value == null || (boolean && !value))\n        return '';\n    const assignment = (boolean && value === true) ? '' : `=\"${escape_attribute_value(value.toString())}\"`;\n    return ` ${name}${assignment}`;\n}\nfunction add_classes(classes) {\n    return classes ? ` class=\"${classes}\"` : '';\n}\nfunction style_object_to_string(style_object) {\n    return Object.keys(style_object)\n        .filter(key => style_object[key])\n        .map(key => `${key}: ${style_object[key]};`)\n        .join(' ');\n}\nfunction add_styles(style_object) {\n    const styles = style_object_to_string(style_object);\n    return styles ? ` style=\"${styles}\"` : '';\n}\n\nfunction bind(component, name, callback) {\n    const index = component.$$.props[name];\n    if (index !== undefined) {\n        component.$$.bound[index] = callback;\n        callback(component.$$.ctx[index]);\n    }\n}\nfunction create_component(block) {\n    block && block.c();\n}\nfunction claim_component(block, parent_nodes) {\n    block && block.l(parent_nodes);\n}\nfunction mount_component(component, target, anchor, customElement) {\n    const { fragment, on_mount, on_destroy, after_update } = component.$$;\n    fragment && fragment.m(target, anchor);\n    if (!customElement) {\n        // onMount happens before the initial afterUpdate\n        add_render_callback(() => {\n            const new_on_destroy = on_mount.map(run).filter(is_function);\n            if (on_destroy) {\n                on_destroy.push(...new_on_destroy);\n            }\n            else {\n                // Edge case - component was destroyed immediately,\n                // most likely as a result of a binding initialising\n                run_all(new_on_destroy);\n            }\n            component.$$.on_mount = [];\n        });\n    }\n    after_update.forEach(add_render_callback);\n}\nfunction destroy_component(component, detaching) {\n    const $$ = component.$$;\n    if ($$.fragment !== null) {\n        run_all($$.on_destroy);\n        $$.fragment && $$.fragment.d(detaching);\n        // TODO null out other refs, including component.$$ (but need to\n        // preserve final state?)\n        $$.on_destroy = $$.fragment = null;\n        $$.ctx = [];\n    }\n}\nfunction make_dirty(component, i) {\n    if (component.$$.dirty[0] === -1) {\n        dirty_components.push(component);\n        schedule_update();\n        component.$$.dirty.fill(0);\n    }\n    component.$$.dirty[(i / 31) | 0] |= (1 << (i % 31));\n}\nfunction init(component, options, instance, create_fragment, not_equal, props, append_styles, dirty = [-1]) {\n    const parent_component = current_component;\n    set_current_component(component);\n    const $$ = component.$$ = {\n        fragment: null,\n        ctx: null,\n        // state\n        props,\n        update: noop,\n        not_equal,\n        bound: blank_object(),\n        // lifecycle\n        on_mount: [],\n        on_destroy: [],\n        on_disconnect: [],\n        before_update: [],\n        after_update: [],\n        context: new Map(options.context || (parent_component ? parent_component.$$.context : [])),\n        // everything else\n        callbacks: blank_object(),\n        dirty,\n        skip_bound: false,\n        root: options.target || parent_component.$$.root\n    };\n    append_styles && append_styles($$.root);\n    let ready = false;\n    $$.ctx = instance\n        ? instance(component, options.props || {}, (i, ret, ...rest) => {\n            const value = rest.length ? rest[0] : ret;\n            if ($$.ctx && not_equal($$.ctx[i], $$.ctx[i] = value)) {\n                if (!$$.skip_bound && $$.bound[i])\n                    $$.bound[i](value);\n                if (ready)\n                    make_dirty(component, i);\n            }\n            return ret;\n        })\n        : [];\n    $$.update();\n    ready = true;\n    run_all($$.before_update);\n    // `false` as a special case of no DOM component\n    $$.fragment = create_fragment ? create_fragment($$.ctx) : false;\n    if (options.target) {\n        if (options.hydrate) {\n            start_hydrating();\n            const nodes = children(options.target);\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n            $$.fragment && $$.fragment.l(nodes);\n            nodes.forEach(detach);\n        }\n        else {\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n            $$.fragment && $$.fragment.c();\n        }\n        if (options.intro)\n            transition_in(component.$$.fragment);\n        mount_component(component, options.target, options.anchor, options.customElement);\n        end_hydrating();\n        flush();\n    }\n    set_current_component(parent_component);\n}\nlet SvelteElement;\nif (typeof HTMLElement === 'function') {\n    SvelteElement = class extends HTMLElement {\n        constructor() {\n            super();\n            this.attachShadow({ mode: 'open' });\n        }\n        connectedCallback() {\n            const { on_mount } = this.$$;\n            this.$$.on_disconnect = on_mount.map(run).filter(is_function);\n            // @ts-ignore todo: improve typings\n            for (const key in this.$$.slotted) {\n                // @ts-ignore todo: improve typings\n                this.appendChild(this.$$.slotted[key]);\n            }\n        }\n        attributeChangedCallback(attr, _oldValue, newValue) {\n            this[attr] = newValue;\n        }\n        disconnectedCallback() {\n            run_all(this.$$.on_disconnect);\n        }\n        $destroy() {\n            destroy_component(this, 1);\n            this.$destroy = noop;\n        }\n        $on(type, callback) {\n            // TODO should this delegate to addEventListener?\n            const callbacks = (this.$$.callbacks[type] || (this.$$.callbacks[type] = []));\n            callbacks.push(callback);\n            return () => {\n                const index = callbacks.indexOf(callback);\n                if (index !== -1)\n                    callbacks.splice(index, 1);\n            };\n        }\n        $set($$props) {\n            if (this.$$set && !is_empty($$props)) {\n                this.$$.skip_bound = true;\n                this.$$set($$props);\n                this.$$.skip_bound = false;\n            }\n        }\n    };\n}\n/**\n * Base class for Svelte components. Used when dev=false.\n */\nclass SvelteComponent {\n    $destroy() {\n        destroy_component(this, 1);\n        this.$destroy = noop;\n    }\n    $on(type, callback) {\n        const callbacks = (this.$$.callbacks[type] || (this.$$.callbacks[type] = []));\n        callbacks.push(callback);\n        return () => {\n            const index = callbacks.indexOf(callback);\n            if (index !== -1)\n                callbacks.splice(index, 1);\n        };\n    }\n    $set($$props) {\n        if (this.$$set && !is_empty($$props)) {\n            this.$$.skip_bound = true;\n            this.$$set($$props);\n            this.$$.skip_bound = false;\n        }\n    }\n}\n\nfunction dispatch_dev(type, detail) {\n    document.dispatchEvent(custom_event(type, Object.assign({ version: '3.48.0' }, detail), { bubbles: true }));\n}\nfunction append_dev(target, node) {\n    dispatch_dev('SvelteDOMInsert', { target, node });\n    append(target, node);\n}\nfunction append_hydration_dev(target, node) {\n    dispatch_dev('SvelteDOMInsert', { target, node });\n    append_hydration(target, node);\n}\nfunction insert_dev(target, node, anchor) {\n    dispatch_dev('SvelteDOMInsert', { target, node, anchor });\n    insert(target, node, anchor);\n}\nfunction insert_hydration_dev(target, node, anchor) {\n    dispatch_dev('SvelteDOMInsert', { target, node, anchor });\n    insert_hydration(target, node, anchor);\n}\nfunction detach_dev(node) {\n    dispatch_dev('SvelteDOMRemove', { node });\n    detach(node);\n}\nfunction detach_between_dev(before, after) {\n    while (before.nextSibling && before.nextSibling !== after) {\n        detach_dev(before.nextSibling);\n    }\n}\nfunction detach_before_dev(after) {\n    while (after.previousSibling) {\n        detach_dev(after.previousSibling);\n    }\n}\nfunction detach_after_dev(before) {\n    while (before.nextSibling) {\n        detach_dev(before.nextSibling);\n    }\n}\nfunction listen_dev(node, event, handler, options, has_prevent_default, has_stop_propagation) {\n    const modifiers = options === true ? ['capture'] : options ? Array.from(Object.keys(options)) : [];\n    if (has_prevent_default)\n        modifiers.push('preventDefault');\n    if (has_stop_propagation)\n        modifiers.push('stopPropagation');\n    dispatch_dev('SvelteDOMAddEventListener', { node, event, handler, modifiers });\n    const dispose = listen(node, event, handler, options);\n    return () => {\n        dispatch_dev('SvelteDOMRemoveEventListener', { node, event, handler, modifiers });\n        dispose();\n    };\n}\nfunction attr_dev(node, attribute, value) {\n    attr(node, attribute, value);\n    if (value == null)\n        dispatch_dev('SvelteDOMRemoveAttribute', { node, attribute });\n    else\n        dispatch_dev('SvelteDOMSetAttribute', { node, attribute, value });\n}\nfunction prop_dev(node, property, value) {\n    node[property] = value;\n    dispatch_dev('SvelteDOMSetProperty', { node, property, value });\n}\nfunction dataset_dev(node, property, value) {\n    node.dataset[property] = value;\n    dispatch_dev('SvelteDOMSetDataset', { node, property, value });\n}\nfunction set_data_dev(text, data) {\n    data = '' + data;\n    if (text.wholeText === data)\n        return;\n    dispatch_dev('SvelteDOMSetData', { node: text, data });\n    text.data = data;\n}\nfunction validate_each_argument(arg) {\n    if (typeof arg !== 'string' && !(arg && typeof arg === 'object' && 'length' in arg)) {\n        let msg = '{#each} only iterates over array-like objects.';\n        if (typeof Symbol === 'function' && arg && Symbol.iterator in arg) {\n            msg += ' You can use a spread to convert this iterable into an array.';\n        }\n        throw new Error(msg);\n    }\n}\nfunction validate_slots(name, slot, keys) {\n    for (const slot_key of Object.keys(slot)) {\n        if (!~keys.indexOf(slot_key)) {\n            console.warn(`<${name}> received an unexpected slot \"${slot_key}\".`);\n        }\n    }\n}\nfunction validate_dynamic_element(tag) {\n    const is_string = typeof tag === 'string';\n    if (tag && !is_string) {\n        throw new Error('<svelte:element> expects \"this\" attribute to be a string.');\n    }\n}\nfunction validate_void_dynamic_element(tag) {\n    if (tag && is_void(tag)) {\n        throw new Error(`<svelte:element this=\"${tag}\"> is self-closing and cannot have content.`);\n    }\n}\n/**\n * Base class for Svelte components with some minor dev-enhancements. Used when dev=true.\n */\nclass SvelteComponentDev extends SvelteComponent {\n    constructor(options) {\n        if (!options || (!options.target && !options.$$inline)) {\n            throw new Error(\"'target' is a required option\");\n        }\n        super();\n    }\n    $destroy() {\n        super.$destroy();\n        this.$destroy = () => {\n            console.warn('Component was already destroyed'); // eslint-disable-line no-console\n        };\n    }\n    $capture_state() { }\n    $inject_state() { }\n}\n/**\n * Base class to create strongly typed Svelte components.\n * This only exists for typing purposes and should be used in `.d.ts` files.\n *\n * ### Example:\n *\n * You have component library on npm called `component-library`, from which\n * you export a component called `MyComponent`. For Svelte+TypeScript users,\n * you want to provide typings. Therefore you create a `index.d.ts`:\n * ```ts\n * import { SvelteComponentTyped } from \"svelte\";\n * export class MyComponent extends SvelteComponentTyped<{foo: string}> {}\n * ```\n * Typing this makes it possible for IDEs like VS Code with the Svelte extension\n * to provide intellisense and to use the component like this in a Svelte file\n * with TypeScript:\n * ```svelte\n * <script lang=\"ts\">\n * \timport { MyComponent } from \"component-library\";\n * </script>\n * <MyComponent foo={'bar'} />\n * ```\n *\n * #### Why not make this part of `SvelteComponent(Dev)`?\n * Because\n * ```ts\n * class ASubclassOfSvelteComponent extends SvelteComponent<{foo: string}> {}\n * const component: typeof SvelteComponent = ASubclassOfSvelteComponent;\n * ```\n * will throw a type error, so we need to separate the more strictly typed class.\n */\nclass SvelteComponentTyped extends SvelteComponentDev {\n    constructor(options) {\n        super(options);\n    }\n}\nfunction loop_guard(timeout) {\n    const start = Date.now();\n    return () => {\n        if (Date.now() - start > timeout) {\n            throw new Error('Infinite loop detected');\n        }\n    };\n}\n\nexport { HtmlTag, HtmlTagHydration, SvelteComponent, SvelteComponentDev, SvelteComponentTyped, SvelteElement, action_destroyer, add_attribute, add_classes, add_flush_callback, add_location, add_render_callback, add_resize_listener, add_styles, add_transform, afterUpdate, append, append_dev, append_empty_stylesheet, append_hydration, append_hydration_dev, append_styles, assign, attr, attr_dev, attribute_to_object, beforeUpdate, bind, binding_callbacks, blank_object, bubble, check_outros, children, claim_component, claim_element, claim_html_tag, claim_space, claim_svg_element, claim_text, clear_loops, component_subscribe, compute_rest_props, compute_slots, createEventDispatcher, create_animation, create_bidirectional_transition, create_component, create_in_transition, create_out_transition, create_slot, create_ssr_component, current_component, custom_event, dataset_dev, debug, destroy_block, destroy_component, destroy_each, detach, detach_after_dev, detach_before_dev, detach_between_dev, detach_dev, dirty_components, dispatch_dev, each, element, element_is, empty, end_hydrating, escape, escape_attribute_value, escape_object, escaped, exclude_internal_props, fix_and_destroy_block, fix_and_outro_and_destroy_block, fix_position, flush, getAllContexts, getContext, get_all_dirty_from_scope, get_binding_group_value, get_current_component, get_custom_elements_slots, get_root_for_style, get_slot_changes, get_spread_object, get_spread_update, get_store_value, globals, group_outros, handle_promise, hasContext, has_prop, identity, init, insert, insert_dev, insert_hydration, insert_hydration_dev, intros, invalid_attribute_name_character, is_client, is_crossorigin, is_empty, is_function, is_promise, is_void, listen, listen_dev, loop, loop_guard, merge_ssr_styles, missing_component, mount_component, noop, not_equal, now, null_to_empty, object_without_properties, onDestroy, onMount, once, outro_and_destroy_block, prevent_default, prop_dev, query_selector_all, raf, run, run_all, safe_not_equal, schedule_update, select_multiple_value, select_option, select_options, select_value, self, setContext, set_attributes, set_current_component, set_custom_element_data, set_data, set_data_dev, set_input_type, set_input_value, set_now, set_raf, set_store_value, set_style, set_svg_attributes, space, spread, src_url_equal, start_hydrating, stop_propagation, subscribe, svg_element, text, tick, time_ranges_to_array, to_number, toggle_class, transition_in, transition_out, trusted, update_await_block_branch, update_keyed_each, update_slot, update_slot_base, validate_component, validate_dynamic_element, validate_each_argument, validate_each_keys, validate_slots, validate_store, validate_void_dynamic_element, xlink_attr };\n","<script>\r\n\timport { createEventDispatcher } from 'svelte';\r\n\r\n    const dispatch = createEventDispatcher();\r\n    let inputBox = null;\r\n\r\n    function handleKeyDown(e) {\r\n        if(e.key == 'Enter') {\r\n            e.preventDefault();\r\n            e.stopPropagation();\r\n            dispatch('add', {\r\n                text: inputBox.value\r\n            });\r\n            inputBox.value = '';\r\n        }\r\n    }\r\n</script>\r\n<input bind:this={inputBox} type='text' placeholder='Describe your task' on:keydown={handleKeyDown}/>\r\n\r\n<style>\r\n    input {\r\n        padding: 1em;\r\n        border: solid 1px rgba(0, 0, 0, 0.25);\r\n        font-size: 1em;\r\n        background-color: rgb(29, 29, 29);\r\n        color:white;\r\n        text-shadow: 1px 1px rgba(0, 0, 0, 0.5);\r\n\r\n    }\r\n\r\n    input::placeholder {\r\n        color: rgba(255, 255, 255, 0.2);\r\n    }\r\n\r\n    input:focus {     \r\n        outline: none;\r\n        border: solid 1px rgba(0, 0, 0, 0.75);\r\n    }\r\n</style>","/*\n *  Sugar v2.0.6\n *\n *  Freely distributable and licensed under the MIT-style license.\n *  Copyright (c) Andrew Plummer\n *  https://sugarjs.com/\n *\n * ---------------------------- */\n(function() {\n  'use strict';\n\n  /***\n   * @module Core\n   * @description Core functionality including the ability to define methods and\n   *              extend onto natives.\n   *\n   ***/\n\n  // The global to export.\n  var Sugar;\n\n  // The name of Sugar in the global namespace.\n  var SUGAR_GLOBAL = 'Sugar';\n\n  // Natives available on initialization. Letting Object go first to ensure its\n  // global is set by the time the rest are checking for chainable Object methods.\n  var NATIVE_NAMES = 'Object Number String Array Date RegExp Function';\n\n  // Static method flag\n  var STATIC   = 0x1;\n\n  // Instance method flag\n  var INSTANCE = 0x2;\n\n  // IE8 has a broken defineProperty but no defineProperties so this saves a try/catch.\n  var PROPERTY_DESCRIPTOR_SUPPORT = !!(Object.defineProperty && Object.defineProperties);\n\n  var globalContext = getGlobal();\n\n  // Whether object instance methods can be mapped to the prototype.\n  var allowObjectPrototype = false;\n\n  // A map from Array to SugarArray.\n  var namespacesByName = {};\n\n  // A map from [object Object] to namespace.\n  var namespacesByClassString = {};\n\n  // Defining properties.\n  // istanbul ignore next\n  var defineProperty = PROPERTY_DESCRIPTOR_SUPPORT ?  Object.defineProperty : definePropertyShim;\n\n  // A default chainable class for unknown types.\n  var DefaultChainable = getNewChainableClass('Chainable');\n\n\n  // Global methods\n\n  function getGlobal() {\n    // Get global context by keyword here to avoid issues with libraries\n    // that can potentially alter this script's context object.\n    return testGlobal(typeof global !== 'undefined' && global) ||\n           testGlobal(typeof window !== 'undefined' && window);\n  }\n\n  function testGlobal(obj) {\n    // Note that Rhino uses a different \"global\" keyword so perform an\n    // extra check here to ensure that it's actually the global object.\n    return obj && obj.Object === Object ? obj : null;\n  }\n\n  function setupGlobal() {\n    Sugar = globalContext[SUGAR_GLOBAL];\n    // istanbul ignore if\n    if (Sugar) {\n      // Reuse already defined Sugar global object.\n      return;\n    }\n    Sugar = function(arg) {\n      forEachProperty(Sugar, function(sugarNamespace, name) {\n        // Although only the only enumerable properties on the global\n        // object are Sugar namespaces, environments that can't set\n        // non-enumerable properties will step through the utility methods\n        // as well here, so use this check to only allow true namespaces.\n        if (hasOwn(namespacesByName, name)) {\n          sugarNamespace.extend(arg);\n        }\n      });\n      return Sugar;\n    };\n    // istanbul ignore else\n    if (typeof module !== 'undefined' && module.exports) {\n      // Node or webpack environment\n      module.exports = Sugar;\n    } else {\n      // Unwrapped browser environment\n      try {\n        globalContext[SUGAR_GLOBAL] = Sugar;\n      } catch (e) {\n        // Contexts such as QML have a read-only global context.\n      }\n    }\n    forEachProperty(NATIVE_NAMES.split(' '), function(name) {\n      createNamespace(name);\n    });\n    setGlobalProperties();\n  }\n\n  /***\n   * @method createNamespace(name)\n   * @returns SugarNamespace\n   * @namespace Sugar\n   * @short Creates a new Sugar namespace.\n   * @extra This method is for plugin developers who want to define methods to be\n   *        used with natives that Sugar does not handle by default. The new\n   *        namespace will appear on the `Sugar` global with all the methods of\n   *        normal namespaces, including the ability to define new methods. When\n   *        extended, any defined methods will be mapped to `name` in the global\n   *        context.\n   *\n   * @example\n   *\n   *   Sugar.createNamespace('Boolean');\n   *\n   * @param {string} name - The namespace name.\n   *\n   ***/\n  function createNamespace(name) {\n\n    // Is the current namespace Object?\n    var isObject = name === 'Object';\n\n    // A Sugar namespace is also a chainable class: Sugar.Array, etc.\n    var sugarNamespace = getNewChainableClass(name, true);\n\n    /***\n     * @method extend([opts])\n     * @returns Sugar\n     * @namespace Sugar\n     * @short Extends Sugar defined methods onto natives.\n     * @extra This method can be called on individual namespaces like\n     *        `Sugar.Array` or on the `Sugar` global itself, in which case\n     *        [opts] will be forwarded to each `extend` call. For more,\n     *        see `extending`.\n     *\n     * @options\n     *\n     *   methods           An array of method names to explicitly extend.\n     *\n     *   except            An array of method names or global namespaces (`Array`,\n     *                     `String`) to explicitly exclude. Namespaces should be the\n     *                     actual global objects, not strings.\n     *\n     *   namespaces        An array of global namespaces (`Array`, `String`) to\n     *                     explicitly extend. Namespaces should be the actual\n     *                     global objects, not strings.\n     *\n     *   enhance           A shortcut to disallow all \"enhance\" flags at once\n     *                     (flags listed below). For more, see `enhanced methods`.\n     *                     Default is `true`.\n     *\n     *   enhanceString     A boolean allowing String enhancements. Default is `true`.\n     *\n     *   enhanceArray      A boolean allowing Array enhancements. Default is `true`.\n     *\n     *   objectPrototype   A boolean allowing Sugar to extend Object.prototype\n     *                     with instance methods. This option is off by default\n     *                     and should generally not be used except with caution.\n     *                     For more, see `object methods`.\n     *\n     * @example\n     *\n     *   Sugar.Array.extend();\n     *   Sugar.extend();\n     *\n     * @option {Array<string>} [methods]\n     * @option {Array<string|NativeConstructor>} [except]\n     * @option {Array<NativeConstructor>} [namespaces]\n     * @option {boolean} [enhance]\n     * @option {boolean} [enhanceString]\n     * @option {boolean} [enhanceArray]\n     * @option {boolean} [objectPrototype]\n     * @param {ExtendOptions} [opts]\n     *\n     ***\n     * @method extend([opts])\n     * @returns SugarNamespace\n     * @namespace SugarNamespace\n     * @short Extends Sugar defined methods for a specific namespace onto natives.\n     * @param {ExtendOptions} [opts]\n     *\n     ***/\n    var extend = function (opts) {\n\n      var nativeClass = globalContext[name], nativeProto = nativeClass.prototype;\n      var staticMethods = {}, instanceMethods = {}, methodsByName;\n\n      function objectRestricted(name, target) {\n        return isObject && target === nativeProto &&\n               (!allowObjectPrototype || name === 'get' || name === 'set');\n      }\n\n      function arrayOptionExists(field, val) {\n        var arr = opts[field];\n        if (arr) {\n          for (var i = 0, el; el = arr[i]; i++) {\n            if (el === val) {\n              return true;\n            }\n          }\n        }\n        return false;\n      }\n\n      function arrayOptionExcludes(field, val) {\n        return opts[field] && !arrayOptionExists(field, val);\n      }\n\n      function disallowedByFlags(methodName, target, flags) {\n        // Disallowing methods by flag currently only applies if methods already\n        // exist to avoid enhancing native methods, as aliases should still be\n        // extended (i.e. Array#all should still be extended even if Array#every\n        // is being disallowed by a flag).\n        if (!target[methodName] || !flags) {\n          return false;\n        }\n        for (var i = 0; i < flags.length; i++) {\n          if (opts[flags[i]] === false) {\n            return true;\n          }\n        }\n      }\n\n      function namespaceIsExcepted() {\n        return arrayOptionExists('except', nativeClass) ||\n               arrayOptionExcludes('namespaces', nativeClass);\n      }\n\n      function methodIsExcepted(methodName) {\n        return arrayOptionExists('except', methodName);\n      }\n\n      function canExtend(methodName, method, target) {\n        return !objectRestricted(methodName, target) &&\n               !disallowedByFlags(methodName, target, method.flags) &&\n               !methodIsExcepted(methodName);\n      }\n\n      opts = opts || {};\n      methodsByName = opts.methods;\n\n      if (namespaceIsExcepted()) {\n        return;\n      } else if (isObject && typeof opts.objectPrototype === 'boolean') {\n        // Store \"objectPrototype\" flag for future reference.\n        allowObjectPrototype = opts.objectPrototype;\n      }\n\n      forEachProperty(methodsByName || sugarNamespace, function(method, methodName) {\n        if (methodsByName) {\n          // If we have method names passed in an array,\n          // then we need to flip the key and value here\n          // and find the method in the Sugar namespace.\n          methodName = method;\n          method = sugarNamespace[methodName];\n        }\n        if (hasOwn(method, 'instance') && canExtend(methodName, method, nativeProto)) {\n          instanceMethods[methodName] = method.instance;\n        }\n        if(hasOwn(method, 'static') && canExtend(methodName, method, nativeClass)) {\n          staticMethods[methodName] = method;\n        }\n      });\n\n      // Accessing the extend target each time instead of holding a reference as\n      // it may have been overwritten (for example Date by Sinon). Also need to\n      // access through the global to allow extension of user-defined namespaces.\n      extendNative(nativeClass, staticMethods);\n      extendNative(nativeProto, instanceMethods);\n\n      if (!methodsByName) {\n        // If there are no method names passed, then\n        // all methods in the namespace will be extended\n        // to the native. This includes all future defined\n        // methods, so add a flag here to check later.\n        setProperty(sugarNamespace, 'active', true);\n      }\n      return sugarNamespace;\n    };\n\n    function defineWithOptionCollect(methodName, instance, args) {\n      setProperty(sugarNamespace, methodName, function(arg1, arg2, arg3) {\n        var opts = collectDefineOptions(arg1, arg2, arg3);\n        defineMethods(sugarNamespace, opts.methods, instance, args, opts.last);\n        return sugarNamespace;\n      });\n    }\n\n    /***\n     * @method defineStatic(methods)\n     * @returns SugarNamespace\n     * @namespace SugarNamespace\n     * @short Defines static methods on the namespace that can later be extended\n     *        onto the native globals.\n     * @extra Accepts either a single object mapping names to functions, or name\n     *        and function as two arguments. If `extend` was previously called\n     *        with no arguments, the method will be immediately mapped to its\n     *        native when defined.\n     *\n     * @example\n     *\n     *   Sugar.Number.defineStatic({\n     *     isOdd: function (num) {\n     *       return num % 2 === 1;\n     *     }\n     *   });\n     *\n     * @signature defineStatic(methodName, methodFn)\n     * @param {Object} methods - Methods to be defined.\n     * @param {string} methodName - Name of a single method to be defined.\n     * @param {Function} methodFn - Function body of a single method to be defined.\n     ***/\n    defineWithOptionCollect('defineStatic', STATIC);\n\n    /***\n     * @method defineInstance(methods)\n     * @returns SugarNamespace\n     * @namespace SugarNamespace\n     * @short Defines methods on the namespace that can later be extended as\n     *        instance methods onto the native prototype.\n     * @extra Accepts either a single object mapping names to functions, or name\n     *        and function as two arguments. All functions should accept the\n     *        native for which they are mapped as their first argument, and should\n     *        never refer to `this`. If `extend` was previously called with no\n     *        arguments, the method will be immediately mapped to its native when\n     *        defined.\n     *\n     *        Methods cannot accept more than 4 arguments in addition to the\n     *        native (5 arguments total). Any additional arguments will not be\n     *        mapped. If the method needs to accept unlimited arguments, use\n     *        `defineInstanceWithArguments`. Otherwise if more options are\n     *        required, use an options object instead.\n     *\n     * @example\n     *\n     *   Sugar.Number.defineInstance({\n     *     square: function (num) {\n     *       return num * num;\n     *     }\n     *   });\n     *\n     * @signature defineInstance(methodName, methodFn)\n     * @param {Object} methods - Methods to be defined.\n     * @param {string} methodName - Name of a single method to be defined.\n     * @param {Function} methodFn - Function body of a single method to be defined.\n     ***/\n    defineWithOptionCollect('defineInstance', INSTANCE);\n\n    /***\n     * @method defineInstanceAndStatic(methods)\n     * @returns SugarNamespace\n     * @namespace SugarNamespace\n     * @short A shortcut to define both static and instance methods on the namespace.\n     * @extra This method is intended for use with `Object` instance methods. Sugar\n     *        will not map any methods to `Object.prototype` by default, so defining\n     *        instance methods as static helps facilitate their proper use.\n     *\n     * @example\n     *\n     *   Sugar.Object.defineInstanceAndStatic({\n     *     isAwesome: function (obj) {\n     *       // check if obj is awesome!\n     *     }\n     *   });\n     *\n     * @signature defineInstanceAndStatic(methodName, methodFn)\n     * @param {Object} methods - Methods to be defined.\n     * @param {string} methodName - Name of a single method to be defined.\n     * @param {Function} methodFn - Function body of a single method to be defined.\n     ***/\n    defineWithOptionCollect('defineInstanceAndStatic', INSTANCE | STATIC);\n\n\n    /***\n     * @method defineStaticWithArguments(methods)\n     * @returns SugarNamespace\n     * @namespace SugarNamespace\n     * @short Defines static methods that collect arguments.\n     * @extra This method is identical to `defineStatic`, except that when defined\n     *        methods are called, they will collect any arguments past `n - 1`,\n     *        where `n` is the number of arguments that the method accepts.\n     *        Collected arguments will be passed to the method in an array\n     *        as the last argument defined on the function.\n     *\n     * @example\n     *\n     *   Sugar.Number.defineStaticWithArguments({\n     *     addAll: function (num, args) {\n     *       for (var i = 0; i < args.length; i++) {\n     *         num += args[i];\n     *       }\n     *       return num;\n     *     }\n     *   });\n     *\n     * @signature defineStaticWithArguments(methodName, methodFn)\n     * @param {Object} methods - Methods to be defined.\n     * @param {string} methodName - Name of a single method to be defined.\n     * @param {Function} methodFn - Function body of a single method to be defined.\n     ***/\n    defineWithOptionCollect('defineStaticWithArguments', STATIC, true);\n\n    /***\n     * @method defineInstanceWithArguments(methods)\n     * @returns SugarNamespace\n     * @namespace SugarNamespace\n     * @short Defines instance methods that collect arguments.\n     * @extra This method is identical to `defineInstance`, except that when\n     *        defined methods are called, they will collect any arguments past\n     *        `n - 1`, where `n` is the number of arguments that the method\n     *        accepts. Collected arguments will be passed to the method as the\n     *        last argument defined on the function.\n     *\n     * @example\n     *\n     *   Sugar.Number.defineInstanceWithArguments({\n     *     addAll: function (num, args) {\n     *       for (var i = 0; i < args.length; i++) {\n     *         num += args[i];\n     *       }\n     *       return num;\n     *     }\n     *   });\n     *\n     * @signature defineInstanceWithArguments(methodName, methodFn)\n     * @param {Object} methods - Methods to be defined.\n     * @param {string} methodName - Name of a single method to be defined.\n     * @param {Function} methodFn - Function body of a single method to be defined.\n     ***/\n    defineWithOptionCollect('defineInstanceWithArguments', INSTANCE, true);\n\n    /***\n     * @method defineStaticPolyfill(methods)\n     * @returns SugarNamespace\n     * @namespace SugarNamespace\n     * @short Defines static methods that are mapped onto the native if they do\n     *        not already exist.\n     * @extra Intended only for use creating polyfills that follow the ECMAScript\n     *        spec. Accepts either a single object mapping names to functions, or\n     *        name and function as two arguments. Note that polyfill methods will\n     *        be immediately mapped onto their native prototype regardless of the\n     *        use of `extend`.\n     *\n     * @example\n     *\n     *   Sugar.Object.defineStaticPolyfill({\n     *     keys: function (obj) {\n     *       // get keys!\n     *     }\n     *   });\n     *\n     * @signature defineStaticPolyfill(methodName, methodFn)\n     * @param {Object} methods - Methods to be defined.\n     * @param {string} methodName - Name of a single method to be defined.\n     * @param {Function} methodFn - Function body of a single method to be defined.\n     ***/\n    setProperty(sugarNamespace, 'defineStaticPolyfill', function(arg1, arg2, arg3) {\n      var opts = collectDefineOptions(arg1, arg2, arg3);\n      extendNative(globalContext[name], opts.methods, true, opts.last);\n      return sugarNamespace;\n    });\n\n    /***\n     * @method defineInstancePolyfill(methods)\n     * @returns SugarNamespace\n     * @namespace SugarNamespace\n     * @short Defines instance methods that are mapped onto the native prototype\n     *        if they do not already exist.\n     * @extra Intended only for use creating polyfills that follow the ECMAScript\n     *        spec. Accepts either a single object mapping names to functions, or\n     *        name and function as two arguments. This method differs from\n     *        `defineInstance` as there is no static signature (as the method\n     *        is mapped as-is to the native), so it should refer to its `this`\n     *        object. Note that polyfill methods will be immediately mapped onto\n     *        their native prototype regardless of the use of `extend`.\n     *\n     * @example\n     *\n     *   Sugar.Array.defineInstancePolyfill({\n     *     indexOf: function (arr, el) {\n     *       // index finding code here!\n     *     }\n     *   });\n     *\n     * @signature defineInstancePolyfill(methodName, methodFn)\n     * @param {Object} methods - Methods to be defined.\n     * @param {string} methodName - Name of a single method to be defined.\n     * @param {Function} methodFn - Function body of a single method to be defined.\n     ***/\n    setProperty(sugarNamespace, 'defineInstancePolyfill', function(arg1, arg2, arg3) {\n      var opts = collectDefineOptions(arg1, arg2, arg3);\n      extendNative(globalContext[name].prototype, opts.methods, true, opts.last);\n      // Map instance polyfills to chainable as well.\n      forEachProperty(opts.methods, function(fn, methodName) {\n        defineChainableMethod(sugarNamespace, methodName, fn);\n      });\n      return sugarNamespace;\n    });\n\n    /***\n     * @method alias(toName, from)\n     * @returns SugarNamespace\n     * @namespace SugarNamespace\n     * @short Aliases one Sugar method to another.\n     *\n     * @example\n     *\n     *   Sugar.Array.alias('all', 'every');\n     *\n     * @signature alias(toName, fn)\n     * @param {string} toName - Name for new method.\n     * @param {string|Function} from - Method to alias, or string shortcut.\n     ***/\n    setProperty(sugarNamespace, 'alias', function(name, source) {\n      var method = typeof source === 'string' ? sugarNamespace[source] : source;\n      setMethod(sugarNamespace, name, method);\n      return sugarNamespace;\n    });\n\n    // Each namespace can extend only itself through its .extend method.\n    setProperty(sugarNamespace, 'extend', extend);\n\n    // Cache the class to namespace relationship for later use.\n    namespacesByName[name] = sugarNamespace;\n    namespacesByClassString['[object ' + name + ']'] = sugarNamespace;\n\n    mapNativeToChainable(name);\n    mapObjectChainablesToNamespace(sugarNamespace);\n\n\n    // Export\n    return Sugar[name] = sugarNamespace;\n  }\n\n  function setGlobalProperties() {\n    setProperty(Sugar, 'VERSION', '2.0.6');\n    setProperty(Sugar, 'extend', Sugar);\n    setProperty(Sugar, 'toString', toString);\n    setProperty(Sugar, 'createNamespace', createNamespace);\n\n    setProperty(Sugar, 'util', {\n      'hasOwn': hasOwn,\n      'getOwn': getOwn,\n      'setProperty': setProperty,\n      'classToString': classToString,\n      'defineProperty': defineProperty,\n      'forEachProperty': forEachProperty,\n      'mapNativeToChainable': mapNativeToChainable\n    });\n  }\n\n  function toString() {\n    return SUGAR_GLOBAL;\n  }\n\n\n  // Defining Methods\n\n  function defineMethods(sugarNamespace, methods, type, args, flags) {\n    forEachProperty(methods, function(method, methodName) {\n      var instanceMethod, staticMethod = method;\n      if (args) {\n        staticMethod = wrapMethodWithArguments(method);\n      }\n      if (flags) {\n        staticMethod.flags = flags;\n      }\n\n      // A method may define its own custom implementation, so\n      // make sure that's not the case before creating one.\n      if (type & INSTANCE && !method.instance) {\n        instanceMethod = wrapInstanceMethod(method, args);\n        setProperty(staticMethod, 'instance', instanceMethod);\n      }\n\n      if (type & STATIC) {\n        setProperty(staticMethod, 'static', true);\n      }\n\n      setMethod(sugarNamespace, methodName, staticMethod);\n\n      if (sugarNamespace.active) {\n        // If the namespace has been activated (.extend has been called),\n        // then map this method as well.\n        sugarNamespace.extend(methodName);\n      }\n    });\n  }\n\n  function collectDefineOptions(arg1, arg2, arg3) {\n    var methods, last;\n    if (typeof arg1 === 'string') {\n      methods = {};\n      methods[arg1] = arg2;\n      last = arg3;\n    } else {\n      methods = arg1;\n      last = arg2;\n    }\n    return {\n      last: last,\n      methods: methods\n    };\n  }\n\n  function wrapInstanceMethod(fn, args) {\n    return args ? wrapMethodWithArguments(fn, true) : wrapInstanceMethodFixed(fn);\n  }\n\n  function wrapMethodWithArguments(fn, instance) {\n    // Functions accepting enumerated arguments will always have \"args\" as the\n    // last argument, so subtract one from the function length to get the point\n    // at which to start collecting arguments. If this is an instance method on\n    // a prototype, then \"this\" will be pushed into the arguments array so start\n    // collecting 1 argument earlier.\n    var startCollect = fn.length - 1 - (instance ? 1 : 0);\n    return function() {\n      var args = [], collectedArgs = [], len;\n      if (instance) {\n        args.push(this);\n      }\n      len = Math.max(arguments.length, startCollect);\n      // Optimized: no leaking arguments\n      for (var i = 0; i < len; i++) {\n        if (i < startCollect) {\n          args.push(arguments[i]);\n        } else {\n          collectedArgs.push(arguments[i]);\n        }\n      }\n      args.push(collectedArgs);\n      return fn.apply(this, args);\n    };\n  }\n\n  function wrapInstanceMethodFixed(fn) {\n    switch(fn.length) {\n      // Wrapped instance methods will always be passed the instance\n      // as the first argument, but requiring the argument to be defined\n      // may cause confusion here, so return the same wrapped function regardless.\n      case 0:\n      case 1:\n        return function() {\n          return fn(this);\n        };\n      case 2:\n        return function(a) {\n          return fn(this, a);\n        };\n      case 3:\n        return function(a, b) {\n          return fn(this, a, b);\n        };\n      case 4:\n        return function(a, b, c) {\n          return fn(this, a, b, c);\n        };\n      case 5:\n        return function(a, b, c, d) {\n          return fn(this, a, b, c, d);\n        };\n    }\n  }\n\n  // Method helpers\n\n  function extendNative(target, source, polyfill, override) {\n    forEachProperty(source, function(method, name) {\n      if (polyfill && !override && target[name]) {\n        // Method exists, so bail.\n        return;\n      }\n      setProperty(target, name, method);\n    });\n  }\n\n  function setMethod(sugarNamespace, methodName, method) {\n    sugarNamespace[methodName] = method;\n    if (method.instance) {\n      defineChainableMethod(sugarNamespace, methodName, method.instance, true);\n    }\n  }\n\n\n  // Chainables\n\n  function getNewChainableClass(name) {\n    var fn = function SugarChainable(obj, arg) {\n      if (!(this instanceof fn)) {\n        return new fn(obj, arg);\n      }\n      if (this.constructor !== fn) {\n        // Allow modules to define their own constructors.\n        obj = this.constructor.apply(obj, arguments);\n      }\n      this.raw = obj;\n    };\n    setProperty(fn, 'toString', function() {\n      return SUGAR_GLOBAL + name;\n    });\n    setProperty(fn.prototype, 'valueOf', function() {\n      return this.raw;\n    });\n    return fn;\n  }\n\n  function defineChainableMethod(sugarNamespace, methodName, fn) {\n    var wrapped = wrapWithChainableResult(fn), existing, collision, dcp;\n    dcp = DefaultChainable.prototype;\n    existing = dcp[methodName];\n\n    // If the method was previously defined on the default chainable, then a\n    // collision exists, so set the method to a disambiguation function that will\n    // lazily evaluate the object and find it's associated chainable. An extra\n    // check is required to avoid false positives from Object inherited methods.\n    collision = existing && existing !== Object.prototype[methodName];\n\n    // The disambiguation function is only required once.\n    if (!existing || !existing.disambiguate) {\n      dcp[methodName] = collision ? disambiguateMethod(methodName) : wrapped;\n    }\n\n    // The target chainable always receives the wrapped method. Additionally,\n    // if the target chainable is Sugar.Object, then map the wrapped method\n    // to all other namespaces as well if they do not define their own method\n    // of the same name. This way, a Sugar.Number will have methods like\n    // isEqual that can be called on any object without having to traverse up\n    // the prototype chain and perform disambiguation, which costs cycles.\n    // Note that the \"if\" block below actually does nothing on init as Object\n    // goes first and no other namespaces exist yet. However it needs to be\n    // here as Object instance methods defined later also need to be mapped\n    // back onto existing namespaces.\n    sugarNamespace.prototype[methodName] = wrapped;\n    if (sugarNamespace === Sugar.Object) {\n      mapObjectChainableToAllNamespaces(methodName, wrapped);\n    }\n  }\n\n  function mapObjectChainablesToNamespace(sugarNamespace) {\n    forEachProperty(Sugar.Object && Sugar.Object.prototype, function(val, methodName) {\n      if (typeof val === 'function') {\n        setObjectChainableOnNamespace(sugarNamespace, methodName, val);\n      }\n    });\n  }\n\n  function mapObjectChainableToAllNamespaces(methodName, fn) {\n    forEachProperty(namespacesByName, function(sugarNamespace) {\n      setObjectChainableOnNamespace(sugarNamespace, methodName, fn);\n    });\n  }\n\n  function setObjectChainableOnNamespace(sugarNamespace, methodName, fn) {\n    var proto = sugarNamespace.prototype;\n    if (!hasOwn(proto, methodName)) {\n      proto[methodName] = fn;\n    }\n  }\n\n  function wrapWithChainableResult(fn) {\n    return function() {\n      return new DefaultChainable(fn.apply(this.raw, arguments));\n    };\n  }\n\n  function disambiguateMethod(methodName) {\n    var fn = function() {\n      var raw = this.raw, sugarNamespace;\n      if (raw != null) {\n        // Find the Sugar namespace for this unknown.\n        sugarNamespace = namespacesByClassString[classToString(raw)];\n      }\n      if (!sugarNamespace) {\n        // If no sugarNamespace can be resolved, then default\n        // back to Sugar.Object so that undefined and other\n        // non-supported types can still have basic object\n        // methods called on them, such as type checks.\n        sugarNamespace = Sugar.Object;\n      }\n\n      return new sugarNamespace(raw)[methodName].apply(this, arguments);\n    };\n    fn.disambiguate = true;\n    return fn;\n  }\n\n  function mapNativeToChainable(name, methodNames) {\n    var sugarNamespace = namespacesByName[name],\n        nativeProto = globalContext[name].prototype;\n\n    if (!methodNames && ownPropertyNames) {\n      methodNames = ownPropertyNames(nativeProto);\n    }\n\n    forEachProperty(methodNames, function(methodName) {\n      if (nativeMethodProhibited(methodName)) {\n        // Sugar chainables have their own constructors as well as \"valueOf\"\n        // methods, so exclude them here. The __proto__ argument should be trapped\n        // by the function check below, however simply accessing this property on\n        // Object.prototype causes QML to segfault, so pre-emptively excluding it.\n        return;\n      }\n      try {\n        var fn = nativeProto[methodName];\n        if (typeof fn !== 'function') {\n          // Bail on anything not a function.\n          return;\n        }\n      } catch (e) {\n        // Function.prototype has properties that\n        // will throw errors when accessed.\n        return;\n      }\n      defineChainableMethod(sugarNamespace, methodName, fn);\n    });\n  }\n\n  function nativeMethodProhibited(methodName) {\n    return methodName === 'constructor' ||\n           methodName === 'valueOf' ||\n           methodName === '__proto__';\n  }\n\n\n  // Util\n\n  // Internal references\n  var ownPropertyNames = Object.getOwnPropertyNames,\n      internalToString = Object.prototype.toString,\n      internalHasOwnProperty = Object.prototype.hasOwnProperty;\n\n  // Defining this as a variable here as the ES5 module\n  // overwrites it to patch DONTENUM.\n  var forEachProperty = function (obj, fn) {\n    for(var key in obj) {\n      if (!hasOwn(obj, key)) continue;\n      if (fn.call(obj, obj[key], key, obj) === false) break;\n    }\n  };\n\n  // istanbul ignore next\n  function definePropertyShim(obj, prop, descriptor) {\n    obj[prop] = descriptor.value;\n  }\n\n  function setProperty(target, name, value, enumerable) {\n    defineProperty(target, name, {\n      value: value,\n      enumerable: !!enumerable,\n      configurable: true,\n      writable: true\n    });\n  }\n\n  // PERF: Attempts to speed this method up get very Heisenbergy. Quickly\n  // returning based on typeof works for primitives, but slows down object\n  // types. Even === checks on null and undefined (no typeof) will end up\n  // basically breaking even. This seems to be as fast as it can go.\n  function classToString(obj) {\n    return internalToString.call(obj);\n  }\n\n  function hasOwn(obj, prop) {\n    return !!obj && internalHasOwnProperty.call(obj, prop);\n  }\n\n  function getOwn(obj, prop) {\n    if (hasOwn(obj, prop)) {\n      return obj[prop];\n    }\n  }\n\n  setupGlobal();\n\n  /***\n   * @module Common\n   * @description Internal utility and common methods.\n   ***/\n\n  // Flag allowing native methods to be enhanced.\n  var ENHANCEMENTS_FLAG = 'enhance';\n\n  // For type checking, etc. Excludes object as this is more nuanced.\n  var NATIVE_TYPES = 'Boolean Number String Date RegExp Function Array Error Set Map';\n\n  // Do strings have no keys?\n  var NO_KEYS_IN_STRING_OBJECTS = !('0' in Object('a'));\n\n  // Prefix for private properties.\n  var PRIVATE_PROP_PREFIX = '_sugar_';\n\n  // Matches 1..2 style ranges in properties.\n  var PROPERTY_RANGE_REG = /^(.*?)\\[([-\\d]*)\\.\\.([-\\d]*)\\](.*)$/;\n\n  // WhiteSpace/LineTerminator as defined in ES5.1 plus Unicode characters in the Space, Separator category.\n  var TRIM_CHARS = '\\u0009\\u000A\\u000B\\u000C\\u000D\\u0020\\u00A0\\u1680\\u180E\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u2028\\u2029\\u3000\\uFEFF';\n\n  // Regex for matching a formatted string.\n  var STRING_FORMAT_REG = /([{}])\\1|{([^}]*)}|(%)%|(%(\\w*))/g;\n\n  // Common chars\n  var HALF_WIDTH_ZERO = 0x30,\n      FULL_WIDTH_ZERO = 0xff10,\n      HALF_WIDTH_PERIOD   = '.',\n      FULL_WIDTH_PERIOD   = '．',\n      HALF_WIDTH_COMMA    = ',',\n      OPEN_BRACE  = '{',\n      CLOSE_BRACE = '}';\n\n  // Namespace aliases\n  var sugarObject   = Sugar.Object,\n      sugarArray    = Sugar.Array,\n      sugarDate     = Sugar.Date,\n      sugarString   = Sugar.String,\n      sugarNumber   = Sugar.Number,\n      sugarFunction = Sugar.Function,\n      sugarRegExp   = Sugar.RegExp;\n\n  // Class checks\n  var isSerializable,\n      isBoolean, isNumber, isString,\n      isDate, isRegExp, isFunction,\n      isArray, isSet, isMap, isError;\n\n  function buildClassChecks() {\n\n    var knownTypes = {};\n\n    function addCoreTypes() {\n\n      var names = spaceSplit(NATIVE_TYPES);\n\n      isBoolean = buildPrimitiveClassCheck(names[0]);\n      isNumber  = buildPrimitiveClassCheck(names[1]);\n      isString  = buildPrimitiveClassCheck(names[2]);\n\n      isDate   = buildClassCheck(names[3]);\n      isRegExp = buildClassCheck(names[4]);\n\n      // Wanted to enhance performance here by using simply \"typeof\"\n      // but Firefox has two major issues that make this impossible,\n      // one fixed, the other not, so perform a full class check here.\n      //\n      // 1. Regexes can be typeof \"function\" in FF < 3\n      //    https://bugzilla.mozilla.org/show_bug.cgi?id=61911 (fixed)\n      //\n      // 2. HTMLEmbedElement and HTMLObjectElement are be typeof \"function\"\n      //    https://bugzilla.mozilla.org/show_bug.cgi?id=268945 (won't fix)\n      isFunction = buildClassCheck(names[5]);\n\n      // istanbul ignore next\n      isArray = Array.isArray || buildClassCheck(names[6]);\n      isError = buildClassCheck(names[7]);\n\n      isSet = buildClassCheck(names[8], typeof Set !== 'undefined' && Set);\n      isMap = buildClassCheck(names[9], typeof Map !== 'undefined' && Map);\n\n      // Add core types as known so that they can be checked by value below,\n      // notably excluding Functions and adding Arguments and Error.\n      addKnownType('Arguments');\n      addKnownType(names[0]);\n      addKnownType(names[1]);\n      addKnownType(names[2]);\n      addKnownType(names[3]);\n      addKnownType(names[4]);\n      addKnownType(names[6]);\n\n    }\n\n    function addArrayTypes() {\n      var types = 'Int8 Uint8 Uint8Clamped Int16 Uint16 Int32 Uint32 Float32 Float64';\n      forEach(spaceSplit(types), function(str) {\n        addKnownType(str + 'Array');\n      });\n    }\n\n    function addKnownType(className) {\n      var str = '[object '+ className +']';\n      knownTypes[str] = true;\n    }\n\n    function isKnownType(className) {\n      return knownTypes[className];\n    }\n\n    function buildClassCheck(className, globalObject) {\n      // istanbul ignore if\n      if (globalObject && isClass(new globalObject, 'Object')) {\n        return getConstructorClassCheck(globalObject);\n      } else {\n        return getToStringClassCheck(className);\n      }\n    }\n\n    // Map and Set may be [object Object] in certain IE environments.\n    // In this case we need to perform a check using the constructor\n    // instead of Object.prototype.toString.\n    // istanbul ignore next\n    function getConstructorClassCheck(obj) {\n      var ctorStr = String(obj);\n      return function(obj) {\n        return String(obj.constructor) === ctorStr;\n      };\n    }\n\n    function getToStringClassCheck(className) {\n      return function(obj, str) {\n        // perf: Returning up front on instanceof appears to be slower.\n        return isClass(obj, className, str);\n      };\n    }\n\n    function buildPrimitiveClassCheck(className) {\n      var type = className.toLowerCase();\n      return function(obj) {\n        var t = typeof obj;\n        return t === type || t === 'object' && isClass(obj, className);\n      };\n    }\n\n    addCoreTypes();\n    addArrayTypes();\n\n    isSerializable = function(obj, className) {\n      // Only known objects can be serialized. This notably excludes functions,\n      // host objects, Symbols (which are matched by reference), and instances\n      // of classes. The latter can arguably be matched by value, but\n      // distinguishing between these and host objects -- which should never be\n      // compared by value -- is very tricky so not dealing with it here.\n      return isKnownType(className) || isPlainObject(obj, className);\n    };\n\n  }\n\n  function isClass(obj, className, str) {\n    if (!str) {\n      str = classToString(obj);\n    }\n    return str === '[object '+ className +']';\n  }\n\n  // Wrapping the core's \"define\" methods to\n  // save a few bytes in the minified script.\n  function wrapNamespace(method) {\n    return function(sugarNamespace, arg1, arg2) {\n      sugarNamespace[method](arg1, arg2);\n    };\n  }\n\n  // Method define aliases\n  var alias                       = wrapNamespace('alias'),\n      defineStatic                = wrapNamespace('defineStatic'),\n      defineInstance              = wrapNamespace('defineInstance'),\n      defineStaticPolyfill        = wrapNamespace('defineStaticPolyfill'),\n      defineInstancePolyfill      = wrapNamespace('defineInstancePolyfill'),\n      defineInstanceAndStatic     = wrapNamespace('defineInstanceAndStatic'),\n      defineInstanceWithArguments = wrapNamespace('defineInstanceWithArguments');\n\n  function defineInstanceSimilar(sugarNamespace, set, fn, flags) {\n    defineInstance(sugarNamespace, collectSimilarMethods(set, fn), flags);\n  }\n\n  function defineInstanceAndStaticSimilar(sugarNamespace, set, fn, flags) {\n    defineInstanceAndStatic(sugarNamespace, collectSimilarMethods(set, fn), flags);\n  }\n\n  function collectSimilarMethods(set, fn) {\n    var methods = {};\n    if (isString(set)) {\n      set = spaceSplit(set);\n    }\n    forEach(set, function(el, i) {\n      fn(methods, el, i);\n    });\n    return methods;\n  }\n\n  // This song and dance is to fix methods to a different length\n  // from what they actually accept in order to stay in line with\n  // spec. Additionally passing argument length, as some methods\n  // throw assertion errors based on this (undefined check is not\n  // enough). Fortunately for now spec is such that passing 3\n  // actual arguments covers all requirements. Note that passing\n  // the argument length also forces the compiler to not rewrite\n  // length of the compiled function.\n  function fixArgumentLength(fn) {\n    var staticFn = function(a) {\n      var args = arguments;\n      return fn(a, args[1], args[2], args.length - 1);\n    };\n    staticFn.instance = function(b) {\n      var args = arguments;\n      return fn(this, b, args[1], args.length);\n    };\n    return staticFn;\n  }\n\n  function defineAccessor(namespace, name, fn) {\n    setProperty(namespace, name, fn);\n  }\n\n  function defineOptionsAccessor(namespace, defaults) {\n    var obj = simpleClone(defaults);\n\n    function getOption(name) {\n      return obj[name];\n    }\n\n    function setOption(arg1, arg2) {\n      var options;\n      if (arguments.length === 1) {\n        options = arg1;\n      } else {\n        options = {};\n        options[arg1] = arg2;\n      }\n      forEachProperty(options, function(val, name) {\n        if (val === null) {\n          val = defaults[name];\n        }\n        obj[name] = val;\n      });\n    }\n\n    defineAccessor(namespace, 'getOption', getOption);\n    defineAccessor(namespace, 'setOption', setOption);\n    return getOption;\n  }\n\n  // For methods defined directly on the prototype like Range\n  function defineOnPrototype(ctor, methods) {\n    var proto = ctor.prototype;\n    forEachProperty(methods, function(val, key) {\n      proto[key] = val;\n    });\n  }\n\n  // Argument helpers\n\n  function assertArgument(exists) {\n    if (!exists) {\n      throw new TypeError('Argument required');\n    }\n  }\n\n  function assertCallable(obj) {\n    if (!isFunction(obj)) {\n      throw new TypeError('Function is not callable');\n    }\n  }\n\n  function assertArray(obj) {\n    if (!isArray(obj)) {\n      throw new TypeError('Array required');\n    }\n  }\n\n  function assertWritable(obj) {\n    if (isPrimitive(obj)) {\n      // If strict mode is active then primitives will throw an\n      // error when attempting to write properties. We can't be\n      // sure if strict mode is available, so pre-emptively\n      // throw an error here to ensure consistent behavior.\n      throw new TypeError('Property cannot be written');\n    }\n  }\n\n  // Coerces an object to a positive integer.\n  // Does not allow Infinity.\n  function coercePositiveInteger(n) {\n    n = +n || 0;\n    if (n < 0 || !isNumber(n) || !isFinite(n)) {\n      throw new RangeError('Invalid number');\n    }\n    return trunc(n);\n  }\n\n\n  // General helpers\n\n  function isDefined(o) {\n    return o !== undefined;\n  }\n\n  function isUndefined(o) {\n    return o === undefined;\n  }\n\n  function privatePropertyAccessor(key) {\n    var privateKey = PRIVATE_PROP_PREFIX + key;\n    return function(obj, val) {\n      if (arguments.length > 1) {\n        setProperty(obj, privateKey, val);\n        return obj;\n      }\n      return obj[privateKey];\n    };\n  }\n\n  function setChainableConstructor(sugarNamespace, createFn) {\n    sugarNamespace.prototype.constructor = function() {\n      return createFn.apply(this, arguments);\n    };\n  }\n\n  // Fuzzy matching helpers\n\n  function getMatcher(f) {\n    if (!isPrimitive(f)) {\n      var className = classToString(f);\n      if (isRegExp(f, className)) {\n        return regexMatcher(f);\n      } else if (isDate(f, className)) {\n        return dateMatcher(f);\n      } else if (isFunction(f, className)) {\n        return functionMatcher(f);\n      } else if (isPlainObject(f, className)) {\n        return fuzzyMatcher(f);\n      }\n    }\n    // Default is standard isEqual\n    return defaultMatcher(f);\n  }\n\n  function fuzzyMatcher(obj) {\n    var matchers = {};\n    return function(el, i, arr) {\n      var matched = true;\n      if (!isObjectType(el)) {\n        return false;\n      }\n      forEachProperty(obj, function(val, key) {\n        matchers[key] = getOwn(matchers, key) || getMatcher(val);\n        if (matchers[key].call(arr, el[key], i, arr) === false) {\n          matched = false;\n        }\n        return matched;\n      });\n      return matched;\n    };\n  }\n\n  function defaultMatcher(f) {\n    return function(el) {\n      return isEqual(el, f);\n    };\n  }\n\n  function regexMatcher(reg) {\n    reg = RegExp(reg);\n    return function(el) {\n      return reg.test(el);\n    };\n  }\n\n  function dateMatcher(d) {\n    var ms = d.getTime();\n    return function(el) {\n      return !!(el && el.getTime) && el.getTime() === ms;\n    };\n  }\n\n  function functionMatcher(fn) {\n    return function(el, i, arr) {\n      // Return true up front if match by reference\n      return el === fn || fn.call(arr, el, i, arr);\n    };\n  }\n\n  // Object helpers\n\n  function getKeys(obj) {\n    return Object.keys(obj);\n  }\n\n  function deepHasProperty(obj, key, any) {\n    return handleDeepProperty(obj, key, any, true);\n  }\n\n  function deepGetProperty(obj, key, any) {\n    return handleDeepProperty(obj, key, any, false);\n  }\n\n  function deepSetProperty(obj, key, val) {\n    handleDeepProperty(obj, key, false, false, true, false, val);\n    return obj;\n  }\n\n  function handleDeepProperty(obj, key, any, has, fill, fillLast, val) {\n    var ns, bs, ps, cbi, set, isLast, isPush, isIndex, nextIsIndex, exists;\n    ns = obj;\n    if (key == null) return;\n\n    if (isObjectType(key)) {\n      // Allow array and array-like accessors\n      bs = [key];\n    } else {\n      key = String(key);\n      if (key.indexOf('..') !== -1) {\n        return handleArrayIndexRange(obj, key, any, val);\n      }\n      bs = key.split('[');\n    }\n\n    set = isDefined(val);\n\n    for (var i = 0, blen = bs.length; i < blen; i++) {\n      ps = bs[i];\n\n      if (isString(ps)) {\n        ps = periodSplit(ps);\n      }\n\n      for (var j = 0, plen = ps.length; j < plen; j++) {\n        key = ps[j];\n\n        // Is this the last key?\n        isLast = i === blen - 1 && j === plen - 1;\n\n        // Index of the closing ]\n        cbi = key.indexOf(']');\n\n        // Is the key an array index?\n        isIndex = cbi !== -1;\n\n        // Is this array push syntax \"[]\"?\n        isPush = set && cbi === 0;\n\n        // If the bracket split was successful and this is the last element\n        // in the dot split, then we know the next key will be an array index.\n        nextIsIndex = blen > 1 && j === plen - 1;\n\n        if (isPush) {\n          // Set the index to the end of the array\n          key = ns.length;\n        } else if (isIndex) {\n          // Remove the closing ]\n          key = key.slice(0, -1);\n        }\n\n        // If the array index is less than 0, then\n        // add its length to allow negative indexes.\n        if (isIndex && key < 0) {\n          key = +key + ns.length;\n        }\n\n        // Bracket keys may look like users[5] or just [5], so the leading\n        // characters are optional. We can enter the namespace if this is the\n        // 2nd part, if there is only 1 part, or if there is an explicit key.\n        if (i || key || blen === 1) {\n\n          // TODO: need to be sure this check handles ''.length when\n          // we refactor.\n          exists = any ? key in Object(ns) : hasOwn(ns, key);\n\n          // Non-existent namespaces are only filled if they are intermediate\n          // (not at the end) or explicitly filling the last.\n          if (fill && (!isLast || fillLast) && !exists) {\n            // For our purposes, last only needs to be an array.\n            ns = ns[key] = nextIsIndex || (fillLast && isLast) ? [] : {};\n            continue;\n          }\n\n          if (has) {\n            if (isLast || !exists) {\n              return exists;\n            }\n          } else if (set && isLast) {\n            assertWritable(ns);\n            ns[key] = val;\n          }\n\n          ns = exists ? ns[key] : undefined;\n        }\n\n      }\n    }\n    return ns;\n  }\n\n  // Get object property with support for 0..1 style range notation.\n  function handleArrayIndexRange(obj, key, any, val) {\n    var match, start, end, leading, trailing, arr, set;\n    match = key.match(PROPERTY_RANGE_REG);\n    if (!match) {\n      return;\n    }\n\n    set = isDefined(val);\n    leading = match[1];\n\n    if (leading) {\n      arr = handleDeepProperty(obj, leading, any, false, set ? true : false, true);\n    } else {\n      arr = obj;\n    }\n\n    assertArray(arr);\n\n    trailing = match[4];\n    start    = match[2] ? +match[2] : 0;\n    end      = match[3] ? +match[3] : arr.length;\n\n    // A range of 0..1 is inclusive, so we need to add 1 to the end. If this\n    // pushes the index from -1 to 0, then set it to the full length of the\n    // array, otherwise it will return nothing.\n    end = end === -1 ? arr.length : end + 1;\n\n    if (set) {\n      for (var i = start; i < end; i++) {\n        handleDeepProperty(arr, i + trailing, any, false, true, false, val);\n      }\n    } else {\n      arr = arr.slice(start, end);\n\n      // If there are trailing properties, then they need to be mapped for each\n      // element in the array.\n      if (trailing) {\n        if (trailing.charAt(0) === HALF_WIDTH_PERIOD) {\n          // Need to chomp the period if one is trailing after the range. We\n          // can't do this at the regex level because it will be required if\n          // we're setting the value as it needs to be concatentated together\n          // with the array index to be set.\n          trailing = trailing.slice(1);\n        }\n        return map(arr, function(el) {\n          return handleDeepProperty(el, trailing);\n        });\n      }\n    }\n    return arr;\n  }\n\n  function getOwnKey(obj, key) {\n    if (hasOwn(obj, key)) {\n      return key;\n    }\n  }\n\n  function hasProperty(obj, prop) {\n    return !isPrimitive(obj) && prop in obj;\n  }\n\n  function isObjectType(obj, type) {\n    return !!obj && (type || typeof obj) === 'object';\n  }\n\n  function isPrimitive(obj, type) {\n    type = type || typeof obj;\n    return obj == null || type === 'string' || type === 'number' || type === 'boolean';\n  }\n\n  function isPlainObject(obj, className) {\n    return isObjectType(obj) &&\n           isClass(obj, 'Object', className) &&\n           hasValidPlainObjectPrototype(obj) &&\n           hasOwnEnumeratedProperties(obj);\n  }\n\n  function hasValidPlainObjectPrototype(obj) {\n    var hasToString = 'toString' in obj;\n    var hasConstructor = 'constructor' in obj;\n    // An object created with Object.create(null) has no methods in the\n    // prototype chain, so check if any are missing. The additional hasToString\n    // check is for false positives on some host objects in old IE which have\n    // toString but no constructor. If the object has an inherited constructor,\n    // then check if it is Object (the \"isPrototypeOf\" tapdance here is a more\n    // robust way of ensuring this if the global has been hijacked). Note that\n    // accessing the constructor directly (without \"in\" or \"hasOwnProperty\")\n    // will throw a permissions error in IE8 on cross-domain windows.\n    return (!hasConstructor && !hasToString) ||\n            (hasConstructor && !hasOwn(obj, 'constructor') &&\n             hasOwn(obj.constructor.prototype, 'isPrototypeOf'));\n  }\n\n  function hasOwnEnumeratedProperties(obj) {\n    // Plain objects are generally defined as having enumerated properties\n    // all their own, however in early IE environments without defineProperty,\n    // there may also be enumerated methods in the prototype chain, so check\n    // for both of these cases.\n    var objectProto = Object.prototype;\n    for (var key in obj) {\n      var val = obj[key];\n      if (!hasOwn(obj, key) && val !== objectProto[key]) {\n        return false;\n      }\n    }\n    return true;\n  }\n\n  function simpleRepeat(n, fn) {\n    for (var i = 0; i < n; i++) {\n      fn(i);\n    }\n  }\n\n  function simpleClone(obj) {\n    return simpleMerge({}, obj);\n  }\n\n  // TODO: Use Object.assign here going forward.\n  function simpleMerge(target, source) {\n    forEachProperty(source, function(val, key) {\n      target[key] = val;\n    });\n    return target;\n  }\n\n  // Make primtives types like strings into objects.\n  function coercePrimitiveToObject(obj) {\n    if (isPrimitive(obj)) {\n      obj = Object(obj);\n    }\n    // istanbul ignore next\n    if (NO_KEYS_IN_STRING_OBJECTS && isString(obj)) {\n      forceStringCoercion(obj);\n    }\n    return obj;\n  }\n\n  // Force strings to have their indexes set in\n  // environments that don't do this automatically.\n  // istanbul ignore next\n  function forceStringCoercion(obj) {\n    var i = 0, chr;\n    while (chr = obj.charAt(i)) {\n      obj[i++] = chr;\n    }\n  }\n\n  // Equality helpers\n\n  // Perf\n  function isEqual(a, b, stack) {\n    var aClass, bClass;\n    if (a === b) {\n      // Return quickly up front when matched by reference,\n      // but be careful about 0 !== -0.\n      return a !== 0 || 1 / a === 1 / b;\n    }\n    aClass = classToString(a);\n    bClass = classToString(b);\n    if (aClass !== bClass) {\n      return false;\n    }\n\n    if (isSerializable(a, aClass) && isSerializable(b, bClass)) {\n      return objectIsEqual(a, b, aClass, stack);\n    } else if (isSet(a, aClass) && isSet(b, bClass)) {\n      return a.size === b.size && isEqual(setToArray(a), setToArray(b), stack);\n    } else if (isMap(a, aClass) && isMap(b, bClass)) {\n      return a.size === b.size && isEqual(mapToArray(a), mapToArray(b), stack);\n    } else if (isError(a, aClass) && isError(b, bClass)) {\n      return a.toString() === b.toString();\n    }\n\n    return false;\n  }\n\n  // Perf\n  function objectIsEqual(a, b, aClass, stack) {\n    var aType = typeof a, bType = typeof b, propsEqual, count;\n    if (aType !== bType) {\n      return false;\n    }\n    if (isObjectType(a.valueOf())) {\n      if (a.length !== b.length) {\n        // perf: Quickly returning up front for arrays.\n        return false;\n      }\n      count = 0;\n      propsEqual = true;\n      iterateWithCyclicCheck(a, false, stack, function(key, val, cyc, stack) {\n        if (!cyc && (!(key in b) || !isEqual(val, b[key], stack))) {\n          propsEqual = false;\n        }\n        count++;\n        return propsEqual;\n      });\n      if (!propsEqual || count !== getKeys(b).length) {\n        return false;\n      }\n    }\n    // Stringifying the value handles NaN, wrapped primitives, dates, and errors in one go.\n    return a.valueOf().toString() === b.valueOf().toString();\n  }\n\n  // Serializes an object in a way that will provide a token unique\n  // to the type, class, and value of an object. Host objects, class\n  // instances etc, are not serializable, and are held in an array\n  // of references that will return the index as a unique identifier\n  // for the object. This array is passed from outside so that the\n  // calling function can decide when to dispose of this array.\n  function serializeInternal(obj, refs, stack) {\n    var type = typeof obj, sign = '', className, value, ref;\n\n    // Return up front on\n    if (1 / obj === -Infinity) {\n      sign = '-';\n    }\n\n    // Return quickly for primitives to save cycles\n    if (isPrimitive(obj, type) && !isRealNaN(obj)) {\n      return type + sign + obj;\n    }\n\n    className = classToString(obj);\n\n    if (!isSerializable(obj, className)) {\n      ref = indexOf(refs, obj);\n      if (ref === -1) {\n        ref = refs.length;\n        refs.push(obj);\n      }\n      return ref;\n    } else if (isObjectType(obj)) {\n      value = serializeDeep(obj, refs, stack) + obj.toString();\n    } else if (obj.valueOf) {\n      value = obj.valueOf();\n    }\n    return type + className + sign + value;\n  }\n\n  function serializeDeep(obj, refs, stack) {\n    var result = '';\n    iterateWithCyclicCheck(obj, true, stack, function(key, val, cyc, stack) {\n      result += cyc ? 'CYC' : key + serializeInternal(val, refs, stack);\n    });\n    return result;\n  }\n\n  function iterateWithCyclicCheck(obj, sortedKeys, stack, fn) {\n\n    function next(val, key) {\n      var cyc = false;\n\n      // Allowing a step into the structure before triggering this check to save\n      // cycles on standard JSON structures and also to try as hard as possible to\n      // catch basic properties that may have been modified.\n      if (stack.length > 1) {\n        var i = stack.length;\n        while (i--) {\n          if (stack[i] === val) {\n            cyc = true;\n          }\n        }\n      }\n\n      stack.push(val);\n      fn(key, val, cyc, stack);\n      stack.pop();\n    }\n\n    function iterateWithSortedKeys() {\n      // Sorted keys is required for serialization, where object order\n      // does not matter but stringified order does.\n      var arr = getKeys(obj).sort(), key;\n      for (var i = 0; i < arr.length; i++) {\n        key = arr[i];\n        next(obj[key], arr[i]);\n      }\n    }\n\n    // This method for checking for cyclic structures was egregiously stolen from\n    // the ingenious method by @kitcambridge from the Underscore script:\n    // https://github.com/documentcloud/underscore/issues/240\n    if (!stack) {\n      stack = [];\n    }\n\n    if (sortedKeys) {\n      iterateWithSortedKeys();\n    } else {\n      forEachProperty(obj, next);\n    }\n  }\n\n\n  // Array helpers\n\n  function isArrayIndex(n) {\n    return n >>> 0 == n && n != 0xFFFFFFFF;\n  }\n\n  function iterateOverSparseArray(arr, fn, fromIndex, loop) {\n    var indexes = getSparseArrayIndexes(arr, fromIndex, loop), index;\n    for (var i = 0, len = indexes.length; i < len; i++) {\n      index = indexes[i];\n      fn.call(arr, arr[index], index, arr);\n    }\n    return arr;\n  }\n\n  // It's unclear whether or not sparse arrays qualify as \"simple enumerables\".\n  // If they are not, however, the wrapping function will be deoptimized, so\n  // isolate here (also to share between es5 and array modules).\n  function getSparseArrayIndexes(arr, fromIndex, loop, fromRight) {\n    var indexes = [], i;\n    for (i in arr) {\n      // istanbul ignore next\n      if (isArrayIndex(i) && (loop || (fromRight ? i <= fromIndex : i >= fromIndex))) {\n        indexes.push(+i);\n      }\n    }\n    indexes.sort(function(a, b) {\n      var aLoop = a > fromIndex;\n      var bLoop = b > fromIndex;\n      // This block cannot be reached unless ES5 methods are being shimmed.\n      // istanbul ignore if\n      if (aLoop !== bLoop) {\n        return aLoop ? -1 : 1;\n      }\n      return a - b;\n    });\n    return indexes;\n  }\n\n  function getEntriesForIndexes(obj, find, loop, isString) {\n    var result, length = obj.length;\n    if (!isArray(find)) {\n      return entryAtIndex(obj, find, length, loop, isString);\n    }\n    result = new Array(find.length);\n    forEach(find, function(index, i) {\n      result[i] = entryAtIndex(obj, index, length, loop, isString);\n    });\n    return result;\n  }\n\n  function getNormalizedIndex(index, length, loop) {\n    if (index && loop) {\n      index = index % length;\n    }\n    if (index < 0) index = length + index;\n    return index;\n  }\n\n  function entryAtIndex(obj, index, length, loop, isString) {\n    index = getNormalizedIndex(index, length, loop);\n    return isString ? obj.charAt(index) : obj[index];\n  }\n\n  function mapWithShortcuts(el, f, context, mapArgs) {\n    if (!f) {\n      return el;\n    } else if (f.apply) {\n      return f.apply(context, mapArgs);\n    } else if (isArray(f)) {\n      return map(f, function(m) {\n        return mapWithShortcuts(el, m, context, mapArgs);\n      });\n    } else if (isFunction(el[f])) {\n      return el[f].call(el);\n    } else {\n      return deepGetProperty(el, f, true);\n    }\n  }\n\n  function spaceSplit(str) {\n    return str.split(' ');\n  }\n\n  function commaSplit(str) {\n    return str.split(HALF_WIDTH_COMMA);\n  }\n\n  function periodSplit(str) {\n    return str.split(HALF_WIDTH_PERIOD);\n  }\n\n  function forEach(arr, fn) {\n    for (var i = 0, len = arr.length; i < len; i++) {\n      if (!(i in arr)) {\n        return iterateOverSparseArray(arr, fn, i);\n      }\n      fn(arr[i], i);\n    }\n  }\n\n  function filter(arr, fn) {\n    var result = [];\n    for (var i = 0, len = arr.length; i < len; i++) {\n      var el = arr[i];\n      if (i in arr && fn(el, i)) {\n        result.push(el);\n      }\n    }\n    return result;\n  }\n\n  function map(arr, fn) {\n    // perf: Not using fixed array len here as it may be sparse.\n    var result = [];\n    for (var i = 0, len = arr.length; i < len; i++) {\n      if (i in arr) {\n        result.push(fn(arr[i], i));\n      }\n    }\n    return result;\n  }\n\n  function indexOf(arr, el) {\n    for (var i = 0, len = arr.length; i < len; i++) {\n      if (i in arr && arr[i] === el) return i;\n    }\n    return -1;\n  }\n\n  // Number helpers\n\n  // istanbul ignore next\n  var trunc = Math.trunc || function(n) {\n    if (n === 0 || !isFinite(n)) return n;\n    return n < 0 ? ceil(n) : floor(n);\n  };\n\n  function isRealNaN(obj) {\n    // This is only true of NaN\n    return obj != null && obj !== obj;\n  }\n\n  function withPrecision(val, precision, fn) {\n    var multiplier = pow(10, abs(precision || 0));\n    fn = fn || round;\n    if (precision < 0) multiplier = 1 / multiplier;\n    return fn(val * multiplier) / multiplier;\n  }\n\n  function padNumber(num, place, sign, base, replacement) {\n    var str = abs(num).toString(base || 10);\n    str = repeatString(replacement || '0', place - str.replace(/\\.\\d+/, '').length) + str;\n    if (sign || num < 0) {\n      str = (num < 0 ? '-' : '+') + str;\n    }\n    return str;\n  }\n\n  function getOrdinalSuffix(num) {\n    if (num >= 11 && num <= 13) {\n      return 'th';\n    } else {\n      switch(num % 10) {\n        case 1:  return 'st';\n        case 2:  return 'nd';\n        case 3:  return 'rd';\n        default: return 'th';\n      }\n    }\n  }\n\n  // Fullwidth number helpers\n  var fullWidthNumberReg, fullWidthNumberMap, fullWidthNumbers;\n\n  function buildFullWidthNumber() {\n    var fwp = FULL_WIDTH_PERIOD, hwp = HALF_WIDTH_PERIOD, hwc = HALF_WIDTH_COMMA, fwn = '';\n    fullWidthNumberMap = {};\n    for (var i = 0, digit; i <= 9; i++) {\n      digit = chr(i + FULL_WIDTH_ZERO);\n      fwn += digit;\n      fullWidthNumberMap[digit] = chr(i + HALF_WIDTH_ZERO);\n    }\n    fullWidthNumberMap[hwc] = '';\n    fullWidthNumberMap[fwp] = hwp;\n    // Mapping this to itself to capture it easily\n    // in stringToNumber to detect decimals later.\n    fullWidthNumberMap[hwp] = hwp;\n    fullWidthNumberReg = allCharsReg(fwn + fwp + hwc + hwp);\n    fullWidthNumbers = fwn;\n  }\n\n  // Takes into account full-width characters, commas, and decimals.\n  function stringToNumber(str, base) {\n    var sanitized, isDecimal;\n    sanitized = str.replace(fullWidthNumberReg, function(chr) {\n      var replacement = getOwn(fullWidthNumberMap, chr);\n      if (replacement === HALF_WIDTH_PERIOD) {\n        isDecimal = true;\n      }\n      return replacement;\n    });\n    return isDecimal ? parseFloat(sanitized) : parseInt(sanitized, base || 10);\n  }\n\n  // Math aliases\n  var abs   = Math.abs,\n      pow   = Math.pow,\n      min   = Math.min,\n      max   = Math.max,\n      ceil  = Math.ceil,\n      floor = Math.floor,\n      round = Math.round;\n\n\n  // String helpers\n\n  var chr = String.fromCharCode;\n\n  function trim(str) {\n    return str.trim();\n  }\n\n  function repeatString(str, num) {\n    var result = '';\n    str = str.toString();\n    while (num > 0) {\n      if (num & 1) {\n        result += str;\n      }\n      if (num >>= 1) {\n        str += str;\n      }\n    }\n    return result;\n  }\n\n  function simpleCapitalize(str) {\n    return str.charAt(0).toUpperCase() + str.slice(1);\n  }\n\n  function createFormatMatcher(bracketMatcher, percentMatcher, precheck) {\n\n    var reg = STRING_FORMAT_REG;\n    var compileMemoized = memoizeFunction(compile);\n\n    function getToken(format, match) {\n      var get, token, literal, fn;\n      var bKey = match[2];\n      var pLit = match[3];\n      var pKey = match[5];\n      if (match[4] && percentMatcher) {\n        token = pKey;\n        get = percentMatcher;\n      } else if (bKey) {\n        token = bKey;\n        get = bracketMatcher;\n      } else if (pLit && percentMatcher) {\n        literal = pLit;\n      } else {\n        literal = match[1] || match[0];\n      }\n      if (get) {\n        assertPassesPrecheck(precheck, bKey, pKey);\n        fn = function(obj, opt) {\n          return get(obj, token, opt);\n        };\n      }\n      format.push(fn || getLiteral(literal));\n    }\n\n    function getSubstring(format, str, start, end) {\n      if (end > start) {\n        var sub = str.slice(start, end);\n        assertNoUnmatched(sub, OPEN_BRACE);\n        assertNoUnmatched(sub, CLOSE_BRACE);\n        format.push(function() {\n          return sub;\n        });\n      }\n    }\n\n    function getLiteral(str) {\n      return function() {\n        return str;\n      };\n    }\n\n    function assertPassesPrecheck(precheck, bt, pt) {\n      if (precheck && !precheck(bt, pt)) {\n        throw new TypeError('Invalid token '+ (bt || pt) +' in format string');\n      }\n    }\n\n    function assertNoUnmatched(str, chr) {\n      if (str.indexOf(chr) !== -1) {\n        throw new TypeError('Unmatched '+ chr +' in format string');\n      }\n    }\n\n    function compile(str) {\n      var format = [], lastIndex = 0, match;\n      reg.lastIndex = 0;\n      while(match = reg.exec(str)) {\n        getSubstring(format, str, lastIndex, match.index);\n        getToken(format, match);\n        lastIndex = reg.lastIndex;\n      }\n      getSubstring(format, str, lastIndex, str.length);\n      return format;\n    }\n\n    return function(str, obj, opt) {\n      var format = compileMemoized(str), result = '';\n      for (var i = 0; i < format.length; i++) {\n        result += format[i](obj, opt);\n      }\n      return result;\n    };\n  }\n\n  // Inflection helper\n\n  var Inflections = {};\n\n  function getAcronym(str) {\n    // istanbul ignore next\n    return Inflections.acronyms && Inflections.acronyms.find(str);\n  }\n\n  function getHumanWord(str) {\n    // istanbul ignore next\n    return Inflections.human && Inflections.human.find(str);\n  }\n\n  function runHumanRules(str) {\n    // istanbul ignore next\n    return Inflections.human && Inflections.human.runRules(str) || str;\n  }\n\n  // RegExp helpers\n\n  function allCharsReg(src) {\n    return RegExp('[' + src + ']', 'g');\n  }\n\n  function getRegExpFlags(reg, add) {\n    var flags = '';\n    add = add || '';\n    function checkFlag(prop, flag) {\n      if (prop || add.indexOf(flag) > -1) {\n        flags += flag;\n      }\n    }\n    checkFlag(reg.global, 'g');\n    checkFlag(reg.ignoreCase, 'i');\n    checkFlag(reg.multiline, 'm');\n    checkFlag(reg.sticky, 'y');\n    return flags;\n  }\n\n  function escapeRegExp(str) {\n    if (!isString(str)) str = String(str);\n    return str.replace(/([\\\\/'*+?|()[\\]{}.^$-])/g,'\\\\$1');\n  }\n\n  // Date helpers\n\n  var _utc = privatePropertyAccessor('utc');\n\n  function callDateGet(d, method) {\n    return d['get' + (_utc(d) ? 'UTC' : '') + method]();\n  }\n\n  function callDateSet(d, method, value, safe) {\n    // \"Safe\" denotes not setting the date if the value is the same as what is\n    // currently set. In theory this should be a noop, however it will cause\n    // timezone shifts when in the middle of a DST fallback. This is unavoidable\n    // as the notation itself is ambiguous (i.e. there are two \"1:00ams\" on\n    // November 1st, 2015 in northern hemisphere timezones that follow DST),\n    // however when advancing or rewinding dates this can throw off calculations\n    // so avoiding this unintentional shifting on an opt-in basis.\n    if (safe && value === callDateGet(d, method, value)) {\n      return;\n    }\n    d['set' + (_utc(d) ? 'UTC' : '') + method](value);\n  }\n\n  // Memoization helpers\n\n  var INTERNAL_MEMOIZE_LIMIT = 1000;\n\n  // Note that attemps to consolidate this with Function#memoize\n  // ended up clunky as that is also serializing arguments. Separating\n  // these implementations turned out to be simpler.\n  function memoizeFunction(fn) {\n    var memo = {}, counter = 0;\n\n    return function(key) {\n      if (hasOwn(memo, key)) {\n        return memo[key];\n      }\n      // istanbul ignore if\n      if (counter === INTERNAL_MEMOIZE_LIMIT) {\n        memo = {};\n        counter = 0;\n      }\n      counter++;\n      return memo[key] = fn(key);\n    };\n  }\n\n  // ES6 helpers\n\n  function setToArray(set) {\n    var arr = new Array(set.size), i = 0;\n    set.forEach(function(val) {\n      arr[i++] = val;\n    });\n    return arr;\n  }\n\n  function mapToArray(map) {\n    var arr = new Array(map.size), i = 0;\n    map.forEach(function(val, key) {\n      arr[i++] = [key, val];\n    });\n    return arr;\n  }\n\n  buildClassChecks();\n  buildFullWidthNumber();\n\n  /***\n   * @module ES5\n   * @description Functions and polyfill methods that fix ES5 functionality. This\n   *              module is excluded from default builds, and can be included if\n   *              you need legacy browser support (IE8 and below).\n   *\n   ***/\n\n  // Non-enumerable properties on Object.prototype. In early JScript implementations\n  // (< IE9) these will shadow object properties and break for..in loops.\n  var DONT_ENUM_PROPS = [\n    'valueOf',\n    'toString',\n    'constructor',\n    'isPrototypeOf',\n    'hasOwnProperty',\n    'toLocaleString',\n    'propertyIsEnumerable'\n  ];\n\n  /***\n   * @fix\n   * @short Fixes DontEnum bug for iteration methods in < IE9.\n   ***/\n  function buildDontEnumFix() {\n    if (!({toString:1}).propertyIsEnumerable('toString')) {\n      var forEachEnumerableProperty = forEachProperty;\n      forEachProperty = function(obj, fn) {\n        forEachEnumerableProperty(obj, fn);\n        for (var i = 0, key; key = DONT_ENUM_PROPS[i]; i++) {\n          if (hasOwn(obj, key)) {\n            if(fn.call(obj, obj[key], key, obj) === false) break;\n          }\n        }\n      };\n    }\n  }\n\n  /***\n   * @fix\n   * @short Adds native methods to chainables in < IE9.\n   ***/\n  function buildChainableNativeMethodsFix() {\n    if (!Object.getOwnPropertyNames) {\n      defineNativeMethodsOnChainable();\n    }\n  }\n\n  // Polyfilled methods will automatically be added to the chainable prototype.\n  // However, Object.getOwnPropertyNames cannot be shimmed for non-enumerable\n  // properties, so if it does not exist, then the only way to access native\n  // methods previous to ES5 is to provide them as a list of tokens here.\n  function defineNativeMethodsOnChainable() {\n\n    var nativeTokens = {\n      'Function': 'apply,call',\n      'RegExp':   'compile,exec,test',\n      'Number':   'toExponential,toFixed,toLocaleString,toPrecision',\n      'Object':   'hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString',\n      'Array':    'concat,join,pop,push,reverse,shift,slice,sort,splice,toLocaleString,unshift',\n      'Date':     'getTime,getTimezoneOffset,setTime,toDateString,toGMTString,toLocaleDateString,toLocaleString,toLocaleTimeString,toTimeString,toUTCString',\n      'String':   'anchor,big,blink,bold,charAt,charCodeAt,concat,fixed,fontcolor,fontsize,indexOf,italics,lastIndexOf,link,localeCompare,match,replace,search,slice,small,split,strike,sub,substr,substring,sup,toLocaleLowerCase,toLocaleUpperCase,toLowerCase,toUpperCase'\n    };\n\n    var dateTokens = 'FullYear,Month,Date,Hours,Minutes,Seconds,Milliseconds'.split(',');\n\n    function addDateTokens(prefix, arr) {\n      for (var i = 0; i < dateTokens.length; i++) {\n        arr.push(prefix + dateTokens[i]);\n      }\n    }\n\n    forEachProperty(nativeTokens, function(str, name) {\n      var tokens = str.split(',');\n      if (name === 'Date') {\n        addDateTokens('get', tokens);\n        addDateTokens('set', tokens);\n        addDateTokens('getUTC', tokens);\n        addDateTokens('setUTC', tokens);\n      }\n      tokens.push('toString');\n      mapNativeToChainable(name, tokens);\n    });\n\n  }\n\n\n  buildDontEnumFix();\n  buildChainableNativeMethodsFix();\n\n\n  /*** @namespace Object ***/\n\n  function assertNonNull(obj) {\n    if (obj == null) {\n      throw new TypeError('Object required');\n    }\n  }\n\n  defineStaticPolyfill(sugarObject, {\n\n    'keys': function(obj) {\n      var keys = [];\n      assertNonNull(obj);\n      forEachProperty(coercePrimitiveToObject(obj), function(val, key) {\n        keys.push(key);\n      });\n      return keys;\n    }\n\n  });\n\n\n  /*** @namespace Array ***/\n\n  function arrayIndexOf(arr, search, fromIndex, fromRight) {\n    var length = arr.length, defaultFromIndex, index, increment;\n\n    increment = fromRight ? -1 : 1;\n    defaultFromIndex = fromRight ? length - 1 : 0;\n    fromIndex = trunc(fromIndex);\n    if (!fromIndex && fromIndex !== 0) {\n      fromIndex = defaultFromIndex;\n    }\n    if (fromIndex < 0) {\n      fromIndex = length + fromIndex;\n    }\n    if ((!fromRight && fromIndex < 0) || (fromRight && fromIndex >= length)) {\n      fromIndex = defaultFromIndex;\n    }\n\n    index = fromIndex;\n\n    while((fromRight && index >= 0) || (!fromRight && index < length)) {\n      if (!(index in arr)) {\n        return sparseIndexOf(arr, search, fromIndex, fromRight);\n      }\n      if (isArrayIndex(index) && arr[index] === search) {\n        return index;\n      }\n      index += increment;\n    }\n    return -1;\n  }\n\n  function sparseIndexOf(arr, search, fromIndex, fromRight) {\n    var indexes = getSparseArrayIndexes(arr, fromIndex, false, fromRight), index;\n    indexes.sort(function(a, b) {\n      return fromRight ? b - a : a - b;\n    });\n    while ((index = indexes.shift()) !== undefined) {\n      if (arr[index] === search) {\n        return +index;\n      }\n    }\n    return -1;\n  }\n\n  function arrayReduce(arr, fn, initialValue, fromRight) {\n    var length = arr.length, count = 0, defined = isDefined(initialValue), result, index;\n    assertCallable(fn);\n    if (length == 0 && !defined) {\n      throw new TypeError('Reduce called on empty array with no initial value');\n    } else if (defined) {\n      result = initialValue;\n    } else {\n      result = arr[fromRight ? length - 1 : count];\n      count++;\n    }\n    while(count < length) {\n      index = fromRight ? length - count - 1 : count;\n      if (index in arr) {\n        result = fn(result, arr[index], index, arr);\n      }\n      count++;\n    }\n    return result;\n  }\n\n  defineStaticPolyfill(sugarArray, {\n\n    /***\n     *\n     * @method isArray(obj)\n     * @returns Boolean\n     * @polyfill ES5\n     * @static\n     * @short Returns true if `obj` is an Array.\n     *\n     * @example\n     *\n     *   Array.isArray(3)        -> false\n     *   Array.isArray(true)     -> false\n     *   Array.isArray('wasabi') -> false\n     *   Array.isArray([1,2,3])  -> true\n     *\n     ***/\n    'isArray': function(obj) {\n      return isArray(obj);\n    }\n\n  });\n\n  defineInstancePolyfill(sugarArray, {\n\n    'every': function(fn) {\n      // Force compiler to respect argument length.\n      var argLen = arguments.length, context = arguments[1];\n      var length = this.length, index = 0;\n      assertCallable(fn);\n      while(index < length) {\n        if (index in this && !fn.call(context, this[index], index, this)) {\n          return false;\n        }\n        index++;\n      }\n      return true;\n    },\n\n    'some': function(fn) {\n      // Force compiler to respect argument length.\n      var argLen = arguments.length, context = arguments[1];\n      var length = this.length, index = 0;\n      assertCallable(fn);\n      while(index < length) {\n        if (index in this && fn.call(context, this[index], index, this)) {\n          return true;\n        }\n        index++;\n      }\n      return false;\n    },\n\n    'map': function(fn) {\n      // Force compiler to respect argument length.\n      var argLen = arguments.length, context = arguments[1];\n      var length = this.length, index = 0, result = new Array(length);\n      assertCallable(fn);\n      while(index < length) {\n        if (index in this) {\n          result[index] = fn.call(context, this[index], index, this);\n        }\n        index++;\n      }\n      return result;\n    },\n\n    'filter': function(fn) {\n      // Force compiler to respect argument length.\n      var argLen = arguments.length, context = arguments[1];\n      var length = this.length, index = 0, result = [];\n      assertCallable(fn);\n      while(index < length) {\n        if (index in this && fn.call(context, this[index], index, this)) {\n          result.push(this[index]);\n        }\n        index++;\n      }\n      return result;\n    },\n\n    /***\n     * @method indexOf(search, [fromIndex] = 0)\n     * @returns Number\n     * @polyfill ES5\n     * @short Searches the array and returns the first index where `search` occurs,\n     *        or `-1` if the element is not found.\n     * @extra [fromIndex] is the index from which to begin the search. This\n     *        method performs a simple strict equality comparison on `search`.\n     *        Sugar does not enhance this method to support `enhanced matching`.\n     *        For such functionality, use the `findIndex` method instead.\n     *\n     * @example\n     *\n     *   [1,2,3].indexOf(3) -> 1\n     *   [1,2,3].indexOf(7) -> -1\n     *\n     ***/\n    'indexOf': function(search) {\n      // Force compiler to respect argument length.\n      var argLen = arguments.length, fromIndex = arguments[1];\n      if (isString(this)) return this.indexOf(search, fromIndex);\n      return arrayIndexOf(this, search, fromIndex);\n    },\n\n    /***\n     * @method lastIndexOf(search, [fromIndex] = array.length - 1)\n     * @returns Number\n     * @polyfill ES5\n     * @short Searches the array from the end and returns the first index where\n     *        `search` occurs, or `-1` if the element is not found.\n     * @extra [fromIndex] is the index from which to begin the search. This method\n     *        performs a simple strict equality comparison on `search`.\n     *        Sugar does not enhance this method to support `enhanced matching`.\n     *\n     * @example\n     *\n     *   [1,2,1].lastIndexOf(1) -> 2\n     *   [1,2,1].lastIndexOf(7) -> -1\n     *\n     ***/\n    'lastIndexOf': function(search) {\n      // Force compiler to respect argument length.\n      var argLen = arguments.length, fromIndex = arguments[1];\n      if (isString(this)) return this.lastIndexOf(search, fromIndex);\n      return arrayIndexOf(this, search, fromIndex, true);\n    },\n\n    /***\n     * @method forEach([eachFn], [context])\n     * @polyfill ES5\n     * @short Iterates over the array, calling [eachFn] on each loop.\n     * @extra [context] becomes the `this` object.\n     *\n     * @callback eachFn\n     *\n     *   el   The element of the current iteration.\n     *   i    The index of the current iteration.\n     *   arr  A reference to the array.\n     *\n     * @example\n     *\n     *   ['a','b','c'].forEach(function(a) {\n     *     // Called 3 times: 'a','b','c'\n     *   });\n     *\n     ***/\n    'forEach': function(eachFn) {\n      // Force compiler to respect argument length.\n      var argLen = arguments.length, context = arguments[1];\n      var length = this.length, index = 0;\n      assertCallable(eachFn);\n      while(index < length) {\n        if (index in this) {\n          eachFn.call(context, this[index], index, this);\n        }\n        index++;\n      }\n    },\n\n    /***\n     * @method reduce(reduceFn, [init])\n     * @returns Mixed\n     * @polyfill ES5\n     * @short Reduces the array to a single result.\n     * @extra This operation is sometimes called \"accumulation\", as it takes the\n     *        result of the last iteration of `reduceFn` and passes it as the first\n     *        argument to the next iteration, \"accumulating\" that value as it goes.\n     *        The return value of this method will be the return value of the final\n     *        iteration of `reduceFn`. If [init] is passed, it will be the initial\n     *        \"accumulator\" (the first argument). If [init] is not passed, then it\n     *        will take the first element in the array, and `reduceFn` will not be\n     *        called for that element.\n     *\n     * @callback reduceFn\n     *\n     *   acc  The \"accumulator\". Either [init], the result of the last iteration\n     *        of `reduceFn`, or the first element of the array.\n     *   el   The current element for this iteration.\n     *   idx  The current index for this iteration.\n     *   arr  A reference to the array.\n     *\n     * @example\n     *\n     *   [1,2,3].reduce(function(a, b) {\n     *     return a - b; // 1 - 2 - 3\n     *   });\n     *\n     *   [1,2,3].reduce(function(a, b) {\n     *     return a - b; // 100 - 1 - 2 - 3\n     *   }, 100);\n     *\n     ***/\n    'reduce': function(reduceFn) {\n      // Force compiler to respect argument length.\n      var argLen = arguments.length, context = arguments[1];\n      return arrayReduce(this, reduceFn, context);\n    },\n\n    /***\n     * @method reduceRight([reduceFn], [init])\n     * @returns Mixed\n     * @polyfill ES5\n     * @short Similar to `Array#reduce`, but operates on the elements in reverse.\n     *\n     * @callback reduceFn\n     *\n     *   acc  The \"accumulator\", either [init], the result of the last iteration\n     *        of `reduceFn`, or the last element of the array.\n     *   el   The current element for this iteration.\n     *   idx  The current index for this iteration.\n     *   arr  A reference to the array.\n     *\n     * @example\n     *\n     *   [1,2,3].reduceRight(function(a, b) {\n     *     return a - b; // 3 - 2 - 1\n     *   });\n     *\n     *   [1,2,3].reduceRight(function(a, b) {\n     *     return a - b; // 100 - 3 - 2 - 1\n     *   }, 100);\n     *\n     *\n     ***/\n    'reduceRight': function(reduceFn) {\n      // Force compiler to respect argument length.\n      var argLen = arguments.length, context = arguments[1];\n      return arrayReduce(this, reduceFn, context, true);\n    }\n\n  });\n\n\n  /*** @namespace String ***/\n\n  var TRIM_REG = RegExp('^[' + TRIM_CHARS + ']+|['+ TRIM_CHARS +']+$', 'g');\n\n  defineInstancePolyfill(sugarString, {\n    /***\n     * @method trim()\n     * @returns String\n     * @polyfill ES5\n     * @short Removes leading and trailing whitespace from the string.\n     * @extra Whitespace is defined as line breaks, tabs, and any character in the\n     *        \"Space, Separator\" Unicode category, conforming to the the ES5 spec.\n     *\n     * @example\n     *\n     *   '   wasabi   '.trim()      -> 'wasabi'\n     *   '   wasabi   '.trimLeft()  -> 'wasabi   '\n     *   '   wasabi   '.trimRight() -> '   wasabi'\n     *\n     ***/\n    'trim': function() {\n      return this.toString().replace(TRIM_REG, '');\n    }\n  });\n\n\n  /*** @namespace Function ***/\n\n  defineInstancePolyfill(sugarFunction, {\n\n     /***\n     * @method bind(context, [arg1], ...)\n     * @returns Function\n     * @polyfill ES5\n     * @short Binds `context` as the `this` object for the function when it is\n     *        called. Also allows currying an unlimited number of parameters.\n     * @extra \"currying\" means setting parameters ([arg1], [arg2], etc.) ahead of\n     *        time so that they are passed when the function is called later. If\n     *        you pass additional parameters when the function is actually called,\n     *        they will be added to the end of the curried parameters.\n     *\n     * @example\n     *\n     *   logThis.bind('woof')()   -> logs 'woof' as its this object\n     *   addArgs.bind(1, 2, 3)()  -> returns 5 with 1 as the this object\n     *   addArgs.bind(1)(2, 3, 4) -> returns 9\n     *\n     ***/\n    'bind': function(context) {\n      // Optimized: no leaking arguments\n      var boundArgs = []; for(var $i = 1, $len = arguments.length; $i < $len; $i++) boundArgs.push(arguments[$i]);\n      var fn = this, bound;\n      assertCallable(this);\n      bound = function() {\n        // Optimized: no leaking arguments\n        var args = []; for(var $i = 0, $len = arguments.length; $i < $len; $i++) args.push(arguments[$i]);\n        return fn.apply(fn.prototype && this instanceof fn ? this : context, boundArgs.concat(args));\n      };\n      bound.prototype = this.prototype;\n      return bound;\n    }\n\n  });\n\n\n  /*** @namespace Date ***/\n\n  defineStaticPolyfill(sugarDate, {\n\n     /***\n     * @method now()\n     * @returns String\n     * @polyfill ES5\n     * @static\n     * @short Returns the current time as a Unix timestamp.\n     * @extra The number of milliseconds since January 1st, 1970 00:00:00 (UTC).\n     *\n     * @example\n     *\n     *   Date.now() -> ex. 1311938296231\n     *\n     ***/\n    'now': function() {\n      return new Date().getTime();\n    }\n\n  });\n\n  function hasISOSupport() {\n    var d = new Date(Date.UTC(2000, 0));\n    return !!d.toISOString && d.toISOString() === '2000-01-01T00:00:00.000Z';\n  }\n\n  defineInstancePolyfill(sugarDate, {\n\n     /***\n     * @method toISOString()\n     * @returns String\n     * @polyfill ES5\n     * @short Formats the string to ISO8601 format.\n     * @extra This will always format as UTC time.\n     *\n     * @example\n     *\n     *   Date.create().toISOString() -> ex. 2011-07-05 12:24:55.528Z\n     *\n     ***/\n    'toISOString': function() {\n      return padNumber(this.getUTCFullYear(), 4) + '-' +\n             padNumber(this.getUTCMonth() + 1, 2) + '-' +\n             padNumber(this.getUTCDate(), 2) + 'T' +\n             padNumber(this.getUTCHours(), 2) + ':' +\n             padNumber(this.getUTCMinutes(), 2) + ':' +\n             padNumber(this.getUTCSeconds(), 2) + '.' +\n             padNumber(this.getUTCMilliseconds(), 3) + 'Z';\n    },\n\n     /***\n     * @method toJSON([key])\n     * @returns String\n     * @polyfill ES5\n     * @short Returns a JSON representation of the date.\n     * @extra This is effectively an alias for `toISOString`. Will always return\n     *        the date in UTC time. [key] is ignored.\n     *\n     * @example\n     *\n     *   Date.create().toJSON() -> ex. 2011-07-05 12:24:55.528Z\n     *\n     ***/\n    'toJSON': function(key) {\n      // Force compiler to respect argument length.\n      var argLen = arguments.length;\n      return this.toISOString(key);\n    }\n\n  }, !hasISOSupport());\n\n}).call(this);","'use strict';\n\nvar EnglishLocaleBaseDefinition = {\n  'code': 'en',\n  'plural': true,\n  'timeMarkers': 'at',\n  'ampm': 'AM|A.M.|a,PM|P.M.|p',\n  'units': 'millisecond:|s,second:|s,minute:|s,hour:|s,day:|s,week:|s,month:|s,year:|s',\n  'months': 'Jan:uary|,Feb:ruary|,Mar:ch|,Apr:il|,May,Jun:e|,Jul:y|,Aug:ust|,Sep:tember|t|,Oct:ober|,Nov:ember|,Dec:ember|',\n  'weekdays': 'Sun:day|,Mon:day|,Tue:sday|,Wed:nesday|,Thu:rsday|,Fri:day|,Sat:urday|+weekend',\n  'numerals': 'zero,one|first,two|second,three|third,four:|th,five|fifth,six:|th,seven:|th,eight:|h,nin:e|th,ten:|th',\n  'articles': 'a,an,the',\n  'tokens': 'the,st|nd|rd|th,of|in,a|an,on',\n  'time': '{H}:{mm}',\n  'past': '{num} {unit} {sign}',\n  'future': '{num} {unit} {sign}',\n  'duration': '{num} {unit}',\n  'modifiers': [\n    { 'name': 'half',   'src': 'half', 'value': .5 },\n    { 'name': 'midday', 'src': 'noon', 'value': 12 },\n    { 'name': 'midday', 'src': 'midnight', 'value': 24 },\n    { 'name': 'day',    'src': 'yesterday', 'value': -1 },\n    { 'name': 'day',    'src': 'today|tonight', 'value': 0 },\n    { 'name': 'day',    'src': 'tomorrow', 'value': 1 },\n    { 'name': 'sign',   'src': 'ago|before', 'value': -1 },\n    { 'name': 'sign',   'src': 'from now|after|from|in|later', 'value': 1 },\n    { 'name': 'edge',   'src': 'first day|first|beginning', 'value': -2 },\n    { 'name': 'edge',   'src': 'last day', 'value': 1 },\n    { 'name': 'edge',   'src': 'end|last', 'value': 2 },\n    { 'name': 'shift',  'src': 'last', 'value': -1 },\n    { 'name': 'shift',  'src': 'the|this', 'value': 0 },\n    { 'name': 'shift',  'src': 'next', 'value': 1 }\n  ],\n  'parse': [\n    '(?:just)? now',\n    '{shift} {unit:5-7}',\n    '{months?} {year}',\n    '{midday} {4?} {day|weekday}',\n    '{months},?[-.\\\\/\\\\s]?{year?}',\n    '{edge} of (?:day)? {day|weekday}',\n    '{0} {num}{1?} {weekday} {2} {months},? {year?}',\n    '{shift?} {day?} {weekday?} (?:at)? {midday}',\n    '{sign?} {3?} {half} {3?} {unit:3-4|unit:7} {sign?}',\n    '{0?} {edge} {weekday?} {2} {shift?} {unit:4-7?} {months?},? {year?}'\n  ],\n  'timeParse': [\n    '{day|weekday}',\n    '{shift} {unit:5?} {weekday}',\n    '{0?} {date}{1?} {2?} {months?}',\n    '{weekday} {2?} {shift} {unit:5}',\n    '{0?} {num} {2?} {months}\\\\.?,? {year?}',\n    '{num?} {unit:4-5} {sign} {day|weekday}',\n    '{0|months} {date?}{1?} of {shift} {unit:6-7}',\n    '{0?} {num}{1?} {weekday} of {shift} {unit:6}',\n    '{year?}[-.\\\\/\\\\s]?{months}[-.\\\\/\\\\s]{date}',\n    '{date}[-.\\\\/\\\\s]{months}(?:[-.\\\\/\\\\s]{year|yy})?',\n    '{weekday?}\\\\.?,? {months}\\\\.?,? {date}{1?},? {year?}',\n    '{weekday?}\\\\.?,? {date} {months} {year}'\n  ],\n  'timeFrontParse': [\n    '{sign} {num} {unit}',\n    '{num} {unit} {sign}',\n    '{4?} {day|weekday}'\n  ]\n};\n\nmodule.exports = EnglishLocaleBaseDefinition;","'use strict';\n\nvar Sugar = require('sugar-core');\n\nmodule.exports = {\n  hasOwn: Sugar.util.hasOwn,\n  getOwn: Sugar.util.getOwn,\n  setProperty: Sugar.util.setProperty,\n  classToString: Sugar.util.classToString,\n  defineProperty: Sugar.util.defineProperty,\n  forEachProperty: Sugar.util.forEachProperty,\n  mapNativeToChainable: Sugar.util.mapNativeToChainable\n};","'use strict';\n\nvar coreUtilityAliases = require('../var/coreUtilityAliases');\n\nvar forEachProperty = coreUtilityAliases.forEachProperty;\n\nfunction simpleMerge(target, source) {\n  forEachProperty(source, function(val, key) {\n    target[key] = val;\n  });\n  return target;\n}\n\nmodule.exports = simpleMerge;","'use strict';\n\nvar simpleMerge = require('./simpleMerge');\n\nfunction simpleClone(obj) {\n  return simpleMerge({}, obj);\n}\n\nmodule.exports = simpleClone;","'use strict';\n\nvar EnglishLocaleBaseDefinition = require('../var/EnglishLocaleBaseDefinition'),\n    simpleMerge = require('../../common/internal/simpleMerge'),\n    simpleClone = require('../../common/internal/simpleClone');\n\nfunction getEnglishVariant(v) {\n  return simpleMerge(simpleClone(EnglishLocaleBaseDefinition), v);\n}\n\nmodule.exports = getEnglishVariant;","'use strict';\n\nvar getEnglishVariant = require('../internal/getEnglishVariant');\n\nvar BritishEnglishDefinition = getEnglishVariant({\n  'short':  '{dd}/{MM}/{yyyy}',\n  'medium': '{d} {Month} {yyyy}',\n  'long':   '{d} {Month} {yyyy} {H}:{mm}',\n  'full':   '{Weekday}, {d} {Month}, {yyyy} {time}',\n  'stamp':  '{Dow} {d} {Mon} {yyyy} {time}'\n});\n\nmodule.exports = BritishEnglishDefinition;","'use strict';\n\nvar getEnglishVariant = require('../internal/getEnglishVariant');\n\nvar AmericanEnglishDefinition = getEnglishVariant({\n  'mdy': true,\n  'firstDayOfWeek': 0,\n  'firstDayOfWeekYear': 1,\n  'short':  '{MM}/{dd}/{yyyy}',\n  'medium': '{Month} {d}, {yyyy}',\n  'long':   '{Month} {d}, {yyyy} {time}',\n  'full':   '{Weekday}, {Month} {d}, {yyyy} {time}',\n  'stamp':  '{Dow} {Mon} {d} {yyyy} {time}',\n  'time':   '{h}:{mm} {TT}'\n});\n\nmodule.exports = AmericanEnglishDefinition;","'use strict';\n\nvar getEnglishVariant = require('../internal/getEnglishVariant');\n\nvar CanadianEnglishDefinition = getEnglishVariant({\n  'short':  '{yyyy}-{MM}-{dd}',\n  'medium': '{d} {Month}, {yyyy}',\n  'long':   '{d} {Month}, {yyyy} {H}:{mm}',\n  'full':   '{Weekday}, {d} {Month}, {yyyy} {time}',\n  'stamp':  '{Dow} {d} {Mon} {yyyy} {time}'\n});\n\nmodule.exports = CanadianEnglishDefinition;","'use strict';\n\nvar BritishEnglishDefinition = require('./BritishEnglishDefinition'),\n    AmericanEnglishDefinition = require('./AmericanEnglishDefinition'),\n    CanadianEnglishDefinition = require('./CanadianEnglishDefinition');\n\nvar LazyLoadedLocales = {\n  'en-US': AmericanEnglishDefinition,\n  'en-GB': BritishEnglishDefinition,\n  'en-AU': BritishEnglishDefinition,\n  'en-CA': CanadianEnglishDefinition\n};\n\nmodule.exports = LazyLoadedLocales;","'use strict';\n\nvar LOCALE_ARRAY_FIELDS = [\n  'months', 'weekdays', 'units', 'numerals', 'placeholders',\n  'articles', 'tokens', 'timeMarkers', 'ampm', 'timeSuffixes',\n  'parse', 'timeParse', 'timeFrontParse', 'modifiers'\n];\n\nmodule.exports = LOCALE_ARRAY_FIELDS;","'use strict';\n\nmodule.exports = {\n  ISO_FIRST_DAY_OF_WEEK: 1,\n  ISO_FIRST_DAY_OF_WEEK_YEAR: 4\n};","'use strict';\n\nvar CoreParsingTokens = {\n  'yyyy': {\n    param: 'year',\n    src: '[-−+]?\\\\d{4,6}'\n  },\n  'yy': {\n    param: 'year',\n    src: '\\\\d{2}'\n  },\n  'y': {\n    param: 'year',\n    src: '\\\\d'\n  },\n  'ayy': {\n    param: 'year',\n    src: '\\'\\\\d{2}'\n  },\n  'MM': {\n    param: 'month',\n    src: '(?:1[012]|0?[1-9])'\n  },\n  'dd': {\n    param: 'date',\n    src: '(?:3[01]|[12][0-9]|0?[1-9])'\n  },\n  'hh': {\n    param: 'hour',\n    src: '(?:2[0-4]|[01]?[0-9])'\n  },\n  'mm': {\n    param: 'minute',\n    src: '[0-5]\\\\d'\n  },\n  'ss': {\n    param: 'second',\n    src: '[0-5]\\\\d(?:[,.]\\\\d+)?'\n  },\n  'tzHour': {\n    src: '[-−+](?:2[0-4]|[01]?[0-9])'\n  },\n  'tzMinute': {\n    src: '[0-5]\\\\d'\n  },\n  'iyyyy': {\n    param: 'year',\n    src: '(?:[-−+]?\\\\d{4}|[-−+]\\\\d{5,6})'\n  },\n  'ihh': {\n    param: 'hour',\n    src: '(?:2[0-4]|[01][0-9])(?:[,.]\\\\d+)?'\n  },\n  'imm': {\n    param: 'minute',\n    src: '[0-5]\\\\d(?:[,.]\\\\d+)?'\n  },\n  'GMT': {\n    param: 'utc',\n    src: 'GMT'\n  },\n  'Z': {\n    param: 'utc',\n    src: 'Z'\n  },\n  'timestamp': {\n    src: '\\\\d+'\n  }\n};\n\nmodule.exports = CoreParsingTokens;","'use strict';\n\nvar CoreParsingFormats = [\n  {\n    // 12-1978\n    // 08-1978 (MDY)\n    src: '{MM}[-.\\\\/]{yyyy}'\n  },\n  {\n    // 12/08/1978\n    // 08/12/1978 (MDY)\n    time: true,\n    src: '{dd}[-\\\\/]{MM}(?:[-\\\\/]{yyyy|yy|y})?',\n    mdy: '{MM}[-\\\\/]{dd}(?:[-\\\\/]{yyyy|yy|y})?'\n  },\n  {\n    // 12.08.1978\n    // 08.12.1978 (MDY)\n    time: true,\n    src: '{dd}\\\\.{MM}(?:\\\\.{yyyy|yy|y})?',\n    mdy: '{MM}\\\\.{dd}(?:\\\\.{yyyy|yy|y})?',\n    localeCheck: function(loc) {\n      // Do not allow this format if the locale\n      // uses a period as a time separator.\n      return loc.timeSeparator !== '.';\n    }\n  },\n  {\n    // 1975-08-25\n    time: true,\n    src: '{yyyy}[-.\\\\/]{MM}(?:[-.\\\\/]{dd})?'\n  },\n  {\n    // .NET JSON\n    src: '\\\\\\\\/Date\\\\({timestamp}(?:[-+]\\\\d{4,4})?\\\\)\\\\\\\\/'\n  },\n  {\n    // ISO-8601\n    src: '{iyyyy}(?:-?{MM}(?:-?{dd}(?:T{ihh}(?::?{imm}(?::?{ss})?)?)?)?)?{tzOffset?}'\n  }\n];\n\nmodule.exports = CoreParsingFormats;","'use strict';\n\nvar LocalizedParsingTokens = {\n  'year': {\n    base: 'yyyy|ayy',\n    requiresSuffix: true\n  },\n  'month': {\n    base: 'MM',\n    requiresSuffix: true\n  },\n  'date': {\n    base: 'dd',\n    requiresSuffix: true\n  },\n  'hour': {\n    base: 'hh',\n    requiresSuffixOr: ':'\n  },\n  'minute': {\n    base: 'mm'\n  },\n  'second': {\n    base: 'ss'\n  },\n  'num': {\n    src: '\\\\d+',\n    requiresNumerals: true\n  }\n};\n\nmodule.exports = LocalizedParsingTokens;","'use strict';\n\nfunction map(arr, fn) {\n  // perf: Not using fixed array len here as it may be sparse.\n  var result = [];\n  for (var i = 0, len = arr.length; i < len; i++) {\n    if (i in arr) {\n      result.push(fn(arr[i], i));\n    }\n  }\n  return result;\n}\n\nmodule.exports = map;","'use strict';\n\nfunction filter(arr, fn) {\n  var result = [];\n  for (var i = 0, len = arr.length; i < len; i++) {\n    var el = arr[i];\n    if (i in arr && fn(el, i)) {\n      result.push(el);\n    }\n  }\n  return result;\n}\n\nmodule.exports = filter;","'use strict';\n\nfunction isArrayIndex(n) {\n  return n >>> 0 == n && n != 0xFFFFFFFF;\n}\n\nmodule.exports = isArrayIndex;","'use strict';\n\nvar isArrayIndex = require('./isArrayIndex');\n\nfunction getSparseArrayIndexes(arr, fromIndex, loop, fromRight) {\n  var indexes = [], i;\n  for (i in arr) {\n    // istanbul ignore next\n    if (isArrayIndex(i) && (loop || (fromRight ? i <= fromIndex : i >= fromIndex))) {\n      indexes.push(+i);\n    }\n  }\n  indexes.sort(function(a, b) {\n    var aLoop = a > fromIndex;\n    var bLoop = b > fromIndex;\n    // This block cannot be reached unless ES5 methods are being shimmed.\n    // istanbul ignore if\n    if (aLoop !== bLoop) {\n      return aLoop ? -1 : 1;\n    }\n    return a - b;\n  });\n  return indexes;\n}\n\nmodule.exports = getSparseArrayIndexes;","'use strict';\n\nvar getSparseArrayIndexes = require('./getSparseArrayIndexes');\n\nfunction iterateOverSparseArray(arr, fn, fromIndex, loop) {\n  var indexes = getSparseArrayIndexes(arr, fromIndex, loop), index;\n  for (var i = 0, len = indexes.length; i < len; i++) {\n    index = indexes[i];\n    fn.call(arr, arr[index], index, arr);\n  }\n  return arr;\n}\n\nmodule.exports = iterateOverSparseArray;","'use strict';\n\nvar iterateOverSparseArray = require('./iterateOverSparseArray');\n\nfunction forEach(arr, fn) {\n  for (var i = 0, len = arr.length; i < len; i++) {\n    if (!(i in arr)) {\n      return iterateOverSparseArray(arr, fn, i);\n    }\n    fn(arr[i], i);\n  }\n}\n\nmodule.exports = forEach;","'use strict';\n\nfunction isDefined(o) {\n  return o !== undefined;\n}\n\nmodule.exports = isDefined;","'use strict';\n\nmodule.exports = {\n  HALF_WIDTH_ZERO: 0x30,\n  FULL_WIDTH_ZERO: 0xff10,\n  HALF_WIDTH_PERIOD: '.',\n  FULL_WIDTH_PERIOD: '．',\n  HALF_WIDTH_COMMA: ',',\n  OPEN_BRACE: '{',\n  CLOSE_BRACE: '}'\n};","'use strict';\n\nvar CommonChars = require('../var/CommonChars');\n\nvar HALF_WIDTH_COMMA = CommonChars.HALF_WIDTH_COMMA;\n\nfunction commaSplit(str) {\n  return str.split(HALF_WIDTH_COMMA);\n}\n\nmodule.exports = commaSplit;","'use strict';\n\nvar coreUtilityAliases = require('../var/coreUtilityAliases');\n\nvar classToString = coreUtilityAliases.classToString;\n\nfunction isClass(obj, className, str) {\n  if (!str) {\n    str = classToString(obj);\n  }\n  return str === '[object '+ className +']';\n}\n\nmodule.exports = isClass;","'use strict';\n\nfunction spaceSplit(str) {\n  return str.split(' ');\n}\n\nmodule.exports = spaceSplit;","'use strict';\n\nfunction isObjectType(obj, type) {\n  return !!obj && (type || typeof obj) === 'object';\n}\n\nmodule.exports = isObjectType;","'use strict';\n\nvar coreUtilityAliases = require('../var/coreUtilityAliases');\n\nvar hasOwn = coreUtilityAliases.hasOwn;\n\nfunction hasOwnEnumeratedProperties(obj) {\n  // Plain objects are generally defined as having enumerated properties\n  // all their own, however in early IE environments without defineProperty,\n  // there may also be enumerated methods in the prototype chain, so check\n  // for both of these cases.\n  var objectProto = Object.prototype;\n  for (var key in obj) {\n    var val = obj[key];\n    if (!hasOwn(obj, key) && val !== objectProto[key]) {\n      return false;\n    }\n  }\n  return true;\n}\n\nmodule.exports = hasOwnEnumeratedProperties;","'use strict';\n\nvar coreUtilityAliases = require('../var/coreUtilityAliases');\n\nvar hasOwn = coreUtilityAliases.hasOwn;\n\nfunction hasValidPlainObjectPrototype(obj) {\n  var hasToString = 'toString' in obj;\n  var hasConstructor = 'constructor' in obj;\n  // An object created with Object.create(null) has no methods in the\n  // prototype chain, so check if any are missing. The additional hasToString\n  // check is for false positives on some host objects in old IE which have\n  // toString but no constructor. If the object has an inherited constructor,\n  // then check if it is Object (the \"isPrototypeOf\" tapdance here is a more\n  // robust way of ensuring this if the global has been hijacked). Note that\n  // accessing the constructor directly (without \"in\" or \"hasOwnProperty\")\n  // will throw a permissions error in IE8 on cross-domain windows.\n  return (!hasConstructor && !hasToString) ||\n          (hasConstructor && !hasOwn(obj, 'constructor') &&\n           hasOwn(obj.constructor.prototype, 'isPrototypeOf'));\n}\n\nmodule.exports = hasValidPlainObjectPrototype;","'use strict';\n\nvar isClass = require('./isClass'),\n    isObjectType = require('./isObjectType'),\n    hasOwnEnumeratedProperties = require('./hasOwnEnumeratedProperties'),\n    hasValidPlainObjectPrototype = require('./hasValidPlainObjectPrototype');\n\nfunction isPlainObject(obj, className) {\n  return isObjectType(obj) &&\n         isClass(obj, 'Object', className) &&\n         hasValidPlainObjectPrototype(obj) &&\n         hasOwnEnumeratedProperties(obj);\n}\n\nmodule.exports = isPlainObject;","'use strict';\n\nvar NATIVE_TYPES = require('./NATIVE_TYPES'),\n    forEach = require('../internal/forEach'),\n    isClass = require('../internal/isClass'),\n    spaceSplit = require('../internal/spaceSplit'),\n    isPlainObject = require('../internal/isPlainObject');\n\nvar isSerializable,\n    isBoolean, isNumber, isString,\n    isDate, isRegExp, isFunction,\n    isArray, isSet, isMap, isError;\n\nfunction buildClassChecks() {\n\n  var knownTypes = {};\n\n  function addCoreTypes() {\n\n    var names = spaceSplit(NATIVE_TYPES);\n\n    isBoolean = buildPrimitiveClassCheck(names[0]);\n    isNumber  = buildPrimitiveClassCheck(names[1]);\n    isString  = buildPrimitiveClassCheck(names[2]);\n\n    isDate   = buildClassCheck(names[3]);\n    isRegExp = buildClassCheck(names[4]);\n\n    // Wanted to enhance performance here by using simply \"typeof\"\n    // but Firefox has two major issues that make this impossible,\n    // one fixed, the other not, so perform a full class check here.\n    //\n    // 1. Regexes can be typeof \"function\" in FF < 3\n    //    https://bugzilla.mozilla.org/show_bug.cgi?id=61911 (fixed)\n    //\n    // 2. HTMLEmbedElement and HTMLObjectElement are be typeof \"function\"\n    //    https://bugzilla.mozilla.org/show_bug.cgi?id=268945 (won't fix)\n    isFunction = buildClassCheck(names[5]);\n\n    // istanbul ignore next\n    isArray = Array.isArray || buildClassCheck(names[6]);\n    isError = buildClassCheck(names[7]);\n\n    isSet = buildClassCheck(names[8], typeof Set !== 'undefined' && Set);\n    isMap = buildClassCheck(names[9], typeof Map !== 'undefined' && Map);\n\n    // Add core types as known so that they can be checked by value below,\n    // notably excluding Functions and adding Arguments and Error.\n    addKnownType('Arguments');\n    addKnownType(names[0]);\n    addKnownType(names[1]);\n    addKnownType(names[2]);\n    addKnownType(names[3]);\n    addKnownType(names[4]);\n    addKnownType(names[6]);\n\n  }\n\n  function addArrayTypes() {\n    var types = 'Int8 Uint8 Uint8Clamped Int16 Uint16 Int32 Uint32 Float32 Float64';\n    forEach(spaceSplit(types), function(str) {\n      addKnownType(str + 'Array');\n    });\n  }\n\n  function addKnownType(className) {\n    var str = '[object '+ className +']';\n    knownTypes[str] = true;\n  }\n\n  function isKnownType(className) {\n    return knownTypes[className];\n  }\n\n  function buildClassCheck(className, globalObject) {\n    // istanbul ignore if\n    if (globalObject && isClass(new globalObject, 'Object')) {\n      return getConstructorClassCheck(globalObject);\n    } else {\n      return getToStringClassCheck(className);\n    }\n  }\n\n  // Map and Set may be [object Object] in certain IE environments.\n  // In this case we need to perform a check using the constructor\n  // instead of Object.prototype.toString.\n  // istanbul ignore next\n  function getConstructorClassCheck(obj) {\n    var ctorStr = String(obj);\n    return function(obj) {\n      return String(obj.constructor) === ctorStr;\n    };\n  }\n\n  function getToStringClassCheck(className) {\n    return function(obj, str) {\n      // perf: Returning up front on instanceof appears to be slower.\n      return isClass(obj, className, str);\n    };\n  }\n\n  function buildPrimitiveClassCheck(className) {\n    var type = className.toLowerCase();\n    return function(obj) {\n      var t = typeof obj;\n      return t === type || t === 'object' && isClass(obj, className);\n    };\n  }\n\n  addCoreTypes();\n  addArrayTypes();\n\n  isSerializable = function(obj, className) {\n    // Only known objects can be serialized. This notably excludes functions,\n    // host objects, Symbols (which are matched by reference), and instances\n    // of classes. The latter can arguably be matched by value, but\n    // distinguishing between these and host objects -- which should never be\n    // compared by value -- is very tricky so not dealing with it here.\n    return isKnownType(className) || isPlainObject(obj, className);\n  };\n\n}\n\nbuildClassChecks();\n\nmodule.exports = {\n  isSerializable: isSerializable,\n  isBoolean: isBoolean,\n  isNumber: isNumber,\n  isString: isString,\n  isDate: isDate,\n  isRegExp: isRegExp,\n  isFunction: isFunction,\n  isArray: isArray,\n  isSet: isSet,\n  isMap: isMap,\n  isError: isError\n};","'use strict';\n\nmodule.exports = 'Boolean Number String Date RegExp Function Array Error Set Map';","'use strict';\n\nmodule.exports = {\n  abs: Math.abs,\n  pow: Math.pow,\n  min: Math.min,\n  max: Math.max,\n  ceil: Math.ceil,\n  floor: Math.floor,\n  round: Math.round\n};","'use strict';\n\nfunction isUndefined(o) {\n  return o === undefined;\n}\n\nmodule.exports = isUndefined;","'use strict';\n\nfunction getOrdinalSuffix(num) {\n  if (num >= 11 && num <= 13) {\n    return 'th';\n  } else {\n    switch(num % 10) {\n      case 1:  return 'st';\n      case 2:  return 'nd';\n      case 3:  return 'rd';\n      default: return 'th';\n    }\n  }\n}\n\nmodule.exports = getOrdinalSuffix;","'use strict';\n\nfunction getArrayWithOffset(arr, n, alternate, offset) {\n  var val;\n  if (alternate > 1) {\n    val = arr[n + (alternate - 1) * offset];\n  }\n  return val || arr[n];\n}\n\nmodule.exports = getArrayWithOffset;","'use strict';\n\nfunction getRegNonCapturing(src, opt) {\n  if (src.length > 1) {\n    src = '(?:' + src + ')';\n  }\n  if (opt) {\n    src += '?';\n  }\n  return src;\n}\n\nmodule.exports = getRegNonCapturing;","'use strict';\n\nvar PRIVATE_PROP_PREFIX = require('../var/PRIVATE_PROP_PREFIX'),\n    coreUtilityAliases = require('../var/coreUtilityAliases');\n\nvar setProperty = coreUtilityAliases.setProperty;\n\nfunction privatePropertyAccessor(key) {\n  var privateKey = PRIVATE_PROP_PREFIX + key;\n  return function(obj, val) {\n    if (arguments.length > 1) {\n      setProperty(obj, privateKey, val);\n      return obj;\n    }\n    return obj[privateKey];\n  };\n}\n\nmodule.exports = privatePropertyAccessor;","'use strict';\n\nmodule.exports = '_sugar_';","'use strict';\n\nvar privatePropertyAccessor = require('../internal/privatePropertyAccessor');\n\nmodule.exports = privatePropertyAccessor('utc');","'use strict';\n\nvar _utc = require('../var/_utc');\n\nfunction callDateGet(d, method) {\n  return d['get' + (_utc(d) ? 'UTC' : '') + method]();\n}\n\nmodule.exports = callDateGet;","'use strict';\n\nvar callDateGet = require('../../common/internal/callDateGet');\n\nfunction getYear(d) {\n  return callDateGet(d, 'FullYear');\n}\n\nmodule.exports = getYear;","'use strict';\n\nvar callDateGet = require('../../common/internal/callDateGet');\n\nfunction getMonth(d) {\n  return callDateGet(d, 'Month');\n}\n\nmodule.exports = getMonth;","'use strict';\n\nvar getYear = require('./getYear'),\n    getMonth = require('./getMonth'),\n    callDateGet = require('../../common/internal/callDateGet');\n\nfunction getDaysInMonth(d) {\n  return 32 - callDateGet(new Date(getYear(d), getMonth(d), 32), 'Date');\n}\n\nmodule.exports = getDaysInMonth;","'use strict';\n\nvar getDaysInMonth = require('../internal/getDaysInMonth');\n\nvar DateUnits = [\n  {\n    name: 'millisecond',\n    method: 'Milliseconds',\n    multiplier: 1,\n    start: 0,\n    end: 999\n  },\n  {\n    name: 'second',\n    method: 'Seconds',\n    multiplier: 1000,\n    start: 0,\n    end: 59\n  },\n  {\n    name: 'minute',\n    method: 'Minutes',\n    multiplier: 60 * 1000,\n    start: 0,\n    end: 59\n  },\n  {\n    name: 'hour',\n    method: 'Hours',\n    multiplier: 60 * 60 * 1000,\n    start: 0,\n    end: 23\n  },\n  {\n    name: 'day',\n    alias: 'date',\n    method: 'Date',\n    ambiguous: true,\n    multiplier: 24 * 60 * 60 * 1000,\n    start: 1,\n    end: function(d) {\n      return getDaysInMonth(d);\n    }\n  },\n  {\n    name: 'week',\n    method: 'ISOWeek',\n    ambiguous: true,\n    multiplier: 7 * 24 * 60 * 60 * 1000\n  },\n  {\n    name: 'month',\n    method: 'Month',\n    ambiguous: true,\n    multiplier: 30.4375 * 24 * 60 * 60 * 1000,\n    start: 0,\n    end: 11\n  },\n  {\n    name: 'year',\n    method: 'FullYear',\n    ambiguous: true,\n    multiplier: 365.25 * 24 * 60 * 60 * 1000,\n    start: 0\n  }\n];\n\nmodule.exports = DateUnits;","'use strict';\n\nmodule.exports = {\n  HOURS_INDEX: 3,\n  DAY_INDEX: 4,\n  WEEK_INDEX: 5,\n  MONTH_INDEX: 6,\n  YEAR_INDEX: 7\n};","'use strict';\n\nvar DateUnits = require('../var/DateUnits'),\n    DateUnitIndexes = require('../var/DateUnitIndexes'),\n    isUndefined = require('../../common/internal/isUndefined');\n\nvar YEAR_INDEX = DateUnitIndexes.YEAR_INDEX;\n\nfunction iterateOverDateUnits(fn, startIndex, endIndex) {\n  endIndex = endIndex || 0;\n  if (isUndefined(startIndex)) {\n    startIndex = YEAR_INDEX;\n  }\n  for (var index = startIndex; index >= endIndex; index--) {\n    if (fn(DateUnits[index], index) === false) {\n      break;\n    }\n  }\n}\n\nmodule.exports = iterateOverDateUnits;","'use strict';\n\nvar classChecks = require('../var/classChecks');\n\nvar isString = classChecks.isString;\n\nfunction escapeRegExp(str) {\n  if (!isString(str)) str = String(str);\n  return str.replace(/([\\\\/'*+?|()[\\]{}.^$-])/g,'\\\\$1');\n}\n\nmodule.exports = escapeRegExp;","'use strict';\n\nvar map = require('../../common/internal/map'),\n    escapeRegExp = require('../../common/internal/escapeRegExp');\n\nfunction arrayToRegAlternates(arr) {\n  var joined = arr.join('');\n  if (!arr || !arr.length) {\n    return '';\n  }\n  if (joined.length === arr.length) {\n    return '[' + joined + ']';\n  }\n  // map handles sparse arrays so no need to compact the array here.\n  return map(arr, escapeRegExp).join('|');\n}\n\nmodule.exports = arrayToRegAlternates;","'use strict';\n\nmodule.exports = String.fromCharCode;","'use strict';\n\nfunction allCharsReg(src) {\n  return RegExp('[' + src + ']', 'g');\n}\n\nmodule.exports = allCharsReg;","'use strict';\n\nvar CommonChars = require('./CommonChars'),\n    chr = require('./chr'),\n    allCharsReg = require('../internal/allCharsReg');\n\nvar HALF_WIDTH_ZERO = CommonChars.HALF_WIDTH_ZERO,\n    FULL_WIDTH_ZERO = CommonChars.FULL_WIDTH_ZERO,\n    HALF_WIDTH_PERIOD = CommonChars.HALF_WIDTH_PERIOD,\n    FULL_WIDTH_PERIOD = CommonChars.FULL_WIDTH_PERIOD,\n    HALF_WIDTH_COMMA = CommonChars.HALF_WIDTH_COMMA;\n\nvar fullWidthNumberReg, fullWidthNumberMap, fullWidthNumbers;\n\nfunction buildFullWidthNumber() {\n  var fwp = FULL_WIDTH_PERIOD, hwp = HALF_WIDTH_PERIOD, hwc = HALF_WIDTH_COMMA, fwn = '';\n  fullWidthNumberMap = {};\n  for (var i = 0, digit; i <= 9; i++) {\n    digit = chr(i + FULL_WIDTH_ZERO);\n    fwn += digit;\n    fullWidthNumberMap[digit] = chr(i + HALF_WIDTH_ZERO);\n  }\n  fullWidthNumberMap[hwc] = '';\n  fullWidthNumberMap[fwp] = hwp;\n  // Mapping this to itself to capture it easily\n  // in stringToNumber to detect decimals later.\n  fullWidthNumberMap[hwp] = hwp;\n  fullWidthNumberReg = allCharsReg(fwn + fwp + hwc + hwp);\n  fullWidthNumbers = fwn;\n}\n\nbuildFullWidthNumber();\n\nmodule.exports = {\n  fullWidthNumberReg: fullWidthNumberReg,\n  fullWidthNumberMap: fullWidthNumberMap,\n  fullWidthNumbers: fullWidthNumbers\n};","'use strict';\n\nvar mathAliases = require('./mathAliases');\n\nvar ceil = mathAliases.ceil,\n    floor = mathAliases.floor;\n\nvar trunc = Math.trunc || function(n) {\n  if (n === 0 || !isFinite(n)) return n;\n  return n < 0 ? ceil(n) : floor(n);\n};\n\nmodule.exports = trunc;","'use strict';\n\nvar mathAliases = require('../var/mathAliases');\n\nvar abs = mathAliases.abs,\n    pow = mathAliases.pow,\n    round = mathAliases.round;\n\nfunction withPrecision(val, precision, fn) {\n  var multiplier = pow(10, abs(precision || 0));\n  fn = fn || round;\n  if (precision < 0) multiplier = 1 / multiplier;\n  return fn(val * multiplier) / multiplier;\n}\n\nmodule.exports = withPrecision;","'use strict';\n\nvar mathAliases = require('../../common/var/mathAliases'),\n    iterateOverDateUnits = require('./iterateOverDateUnits');\n\nvar abs = mathAliases.abs;\n\nfunction getAdjustedUnit(ms, fn) {\n  var unitIndex = 0, value = 0;\n  iterateOverDateUnits(function(unit, i) {\n    value = abs(fn(unit));\n    if (value >= 1) {\n      unitIndex = i;\n      return false;\n    }\n  });\n  return [value, unitIndex, ms];\n}\n\nmodule.exports = getAdjustedUnit;","'use strict';\n\nvar trunc = require('../../common/var/trunc'),\n    withPrecision = require('../../common/internal/withPrecision'),\n    getAdjustedUnit = require('./getAdjustedUnit');\n\nfunction getAdjustedUnitForNumber(ms) {\n  return getAdjustedUnit(ms, function(unit) {\n    return trunc(withPrecision(ms / unit.multiplier, 1));\n  });\n}\n\nmodule.exports = getAdjustedUnitForNumber;","'use strict';\n\nvar LocalizedParsingTokens = require('../var/LocalizedParsingTokens'),\n    getRegNonCapturing = require('./getRegNonCapturing');\n\nfunction getParsingTokenWithSuffix(field, src, suffix) {\n  var token = LocalizedParsingTokens[field];\n  if (token.requiresSuffix) {\n    src = getRegNonCapturing(src + getRegNonCapturing(suffix));\n  } else if (token.requiresSuffixOr) {\n    src += getRegNonCapturing(token.requiresSuffixOr + '|' + suffix);\n  } else {\n    src += getRegNonCapturing(suffix, true);\n  }\n  return src;\n}\n\nmodule.exports = getParsingTokenWithSuffix;","'use strict';\n\nvar LOCALE_ARRAY_FIELDS = require('../var/LOCALE_ARRAY_FIELDS'),\n    ISODefaults = require('../var/ISODefaults'),\n    CoreParsingTokens = require('../var/CoreParsingTokens'),\n    CoreParsingFormats = require('../var/CoreParsingFormats'),\n    LocalizedParsingTokens = require('../var/LocalizedParsingTokens'),\n    map = require('../../common/internal/map'),\n    filter = require('../../common/internal/filter'),\n    forEach = require('../../common/internal/forEach'),\n    isDefined = require('../../common/internal/isDefined'),\n    commaSplit = require('../../common/internal/commaSplit'),\n    classChecks = require('../../common/var/classChecks'),\n    mathAliases = require('../../common/var/mathAliases'),\n    isUndefined = require('../../common/internal/isUndefined'),\n    simpleMerge = require('../../common/internal/simpleMerge'),\n    getOrdinalSuffix = require('../../common/internal/getOrdinalSuffix'),\n    getArrayWithOffset = require('./getArrayWithOffset'),\n    getRegNonCapturing = require('./getRegNonCapturing'),\n    coreUtilityAliases = require('../../common/var/coreUtilityAliases'),\n    iterateOverDateUnits = require('./iterateOverDateUnits'),\n    arrayToRegAlternates = require('./arrayToRegAlternates'),\n    fullwidthNumberHelpers = require('../../common/var/fullwidthNumberHelpers'),\n    getAdjustedUnitForNumber = require('./getAdjustedUnitForNumber'),\n    getParsingTokenWithSuffix = require('./getParsingTokenWithSuffix');\n\nvar hasOwn = coreUtilityAliases.hasOwn,\n    getOwn = coreUtilityAliases.getOwn,\n    forEachProperty = coreUtilityAliases.forEachProperty,\n    fullWidthNumberMap = fullwidthNumberHelpers.fullWidthNumberMap,\n    fullWidthNumbers = fullwidthNumberHelpers.fullWidthNumbers,\n    pow = mathAliases.pow,\n    max = mathAliases.max,\n    ISO_FIRST_DAY_OF_WEEK = ISODefaults.ISO_FIRST_DAY_OF_WEEK,\n    ISO_FIRST_DAY_OF_WEEK_YEAR = ISODefaults.ISO_FIRST_DAY_OF_WEEK_YEAR,\n    isString = classChecks.isString,\n    isFunction = classChecks.isFunction;\n\nfunction getNewLocale(def) {\n\n  function Locale(def) {\n    this.init(def);\n  }\n\n  Locale.prototype = {\n\n    getMonthName: function(n, alternate) {\n      if (this.monthSuffix) {\n        return (n + 1) + this.monthSuffix;\n      }\n      return getArrayWithOffset(this.months, n, alternate, 12);\n    },\n\n    getWeekdayName: function(n, alternate) {\n      return getArrayWithOffset(this.weekdays, n, alternate, 7);\n    },\n\n    // TODO: rename to parse in next major version\n    parseValue: function(str, param) {\n      var map = this[param + 'Map'];\n      if (hasOwn(map, str)) {\n        return map[str];\n      }\n      return this.parseNumber(str, param);\n    },\n\n    // TODO: analyze performance of parsing first vs checking\n    // numeralMap first.\n    parseNumber: function(str, param) {\n      var val;\n\n      // Simple numerals such as \"one\" are mapped directly in\n      // the numeral map so catch up front if there is a match.\n      if (hasOwn(this.numeralMap, str)) {\n        val = this.numeralMap[str];\n      }\n\n      // TODO: perf test isNaN vs other methods\n      if (isNaN(val)) {\n        val = this.parseRegularNumerals(str);\n      }\n\n      if (isNaN(val)) {\n        val = this.parseIrregularNumerals(str);\n      }\n\n      if (param === 'month') {\n        // Months are the only numeric date field\n        // whose value is not the same as its number.\n        val -= 1;\n      }\n\n      return val;\n    },\n\n    // TODO: perf test returning up front if no regular decimals exist\n    parseRegularNumerals: function(str) {\n      // Allow decimals as commas and the minus-sign as per ISO-8601.\n      str = str.replace(/^−/, '-').replace(/,/, '.');\n\n      // The unary plus operator here shows better performance and handles\n      // every format that parseFloat does with the exception of trailing\n      // characters, which are guaranteed not to be in our string at this point.\n      return +str;\n    },\n\n    parseIrregularNumerals: function(str) {\n      var place = 1, num = 0, lastWasPlace, isPlace, numeral, digit, arr;\n\n      // Note that \"numerals\" that need to be converted through this method are\n      // all considered to be single characters in order to handle CJK. This\n      // method is by no means unique to CJK, but the complexity of handling\n      // inflections in non-CJK languages adds too much overhead for not enough\n      // value, so avoiding for now.\n      arr = str.split('');\n      for (var i = arr.length - 1; numeral = arr[i]; i--) {\n        digit = getOwn(this.numeralMap, numeral);\n        if (isUndefined(digit)) {\n          digit = getOwn(fullWidthNumberMap, numeral) || 0;\n        }\n        isPlace = digit > 0 && digit % 10 === 0;\n        if (isPlace) {\n          if (lastWasPlace) {\n            num += place;\n          }\n          if (i) {\n            place = digit;\n          } else {\n            num += digit;\n          }\n        } else {\n          num += digit * place;\n          place *= 10;\n        }\n        lastWasPlace = isPlace;\n      }\n      return num;\n    },\n\n    getOrdinal: function(n) {\n      var suffix = this.ordinalSuffix;\n      return suffix || getOrdinalSuffix(n);\n    },\n\n    getRelativeFormat: function(adu, type) {\n      return this.convertAdjustedToFormat(adu, type);\n    },\n\n    getDuration: function(ms) {\n      return this.convertAdjustedToFormat(getAdjustedUnitForNumber(max(0, ms)), 'duration');\n    },\n\n    getFirstDayOfWeek: function() {\n      var val = this.firstDayOfWeek;\n      return isDefined(val) ? val : ISO_FIRST_DAY_OF_WEEK;\n    },\n\n    getFirstDayOfWeekYear: function() {\n      return this.firstDayOfWeekYear || ISO_FIRST_DAY_OF_WEEK_YEAR;\n    },\n\n    convertAdjustedToFormat: function(adu, type) {\n      var sign, unit, mult,\n          num    = adu[0],\n          u      = adu[1],\n          ms     = adu[2],\n          format = this[type] || this.relative;\n      if (isFunction(format)) {\n        return format.call(this, num, u, ms, type);\n      }\n      mult = !this.plural || num === 1 ? 0 : 1;\n      unit = this.units[mult * 8 + u] || this.units[u];\n      sign = this[ms > 0 ? 'fromNow' : 'ago'];\n      return format.replace(/\\{(.*?)\\}/g, function(full, match) {\n        switch(match) {\n          case 'num': return num;\n          case 'unit': return unit;\n          case 'sign': return sign;\n        }\n      });\n    },\n\n    cacheFormat: function(dif, i) {\n      this.compiledFormats.splice(i, 1);\n      this.compiledFormats.unshift(dif);\n    },\n\n    addFormat: function(format) {\n      var loc = this, src, to;\n\n      function getTokenSrc(token) {\n        var suffix, src, tmp,\n            opt   = token.match(/\\?$/),\n            nc    = token.match(/^(\\d+)\\??$/),\n            slice = token.match(/(\\d)(?:-(\\d))?/),\n            param = token.replace(/[^a-z]+$/i, '');\n\n        // Allowing alias tokens such as {time}\n        if (tmp = getOwn(loc.parsingAliases, param)) {\n          src = formatToSrc(tmp);\n          if (opt) {\n            src = getRegNonCapturing(src, true);\n          }\n          return src;\n        }\n\n        if (nc) {\n          src = loc.tokens[nc[1]];\n        } else if (tmp = getOwn(CoreParsingTokens, param)) {\n          src = tmp.src;\n          param = tmp.param || param;\n        } else {\n          tmp = getOwn(loc.parsingTokens, param) || getOwn(loc, param);\n\n          // Both the \"months\" array and the \"month\" parsing token can be accessed\n          // by either {month} or {months}, falling back as necessary, however\n          // regardless of whether or not a fallback occurs, the final field to\n          // be passed to addRawFormat must be normalized as singular.\n          param = param.replace(/s$/, '');\n\n          if (!tmp) {\n            tmp = getOwn(loc.parsingTokens, param) || getOwn(loc, param + 's');\n          }\n\n          if (isString(tmp)) {\n            src = tmp;\n            suffix = loc[param + 'Suffix'];\n          } else {\n\n            // This is a hack to temporarily disallow parsing of single character\n            // weekdays until the format can be changed to allow for this.\n            if (param === 'weekday' && loc.code === 'ko') {\n              tmp = filter(tmp, function(str) {\n                return str.length > 1;\n              });\n            }\n\n            if (slice) {\n              tmp = filter(tmp, function(m, i) {\n                var mod = i % (loc.units ? 8 : tmp.length);\n                return mod >= slice[1] && mod <= (slice[2] || slice[1]);\n              });\n            }\n            src = arrayToRegAlternates(tmp);\n          }\n        }\n        if (!src) {\n          return '';\n        }\n        if (nc) {\n          // Non-capturing tokens like {0}\n          src = getRegNonCapturing(src);\n        } else {\n          // Capturing group and add to parsed tokens\n          to.push(param);\n          src = '(' + src + ')';\n        }\n        if (suffix) {\n          // Date/time suffixes such as those in CJK\n          src = getParsingTokenWithSuffix(param, src, suffix);\n        }\n        if (opt) {\n          src += '?';\n        }\n        return src;\n      }\n\n      function formatToSrc(str) {\n\n        // Make spaces optional\n        str = str.replace(/ /g, ' ?');\n\n        str = str.replace(/\\{([^,]+?)\\}/g, function(match, token) {\n          var tokens = token.split('|');\n          if (tokens.length > 1) {\n            return getRegNonCapturing(map(tokens, getTokenSrc).join('|'));\n          } else {\n            return getTokenSrc(token);\n          }\n        });\n\n        return str;\n      }\n\n      function parseInputFormat() {\n        to = [];\n        src = formatToSrc(format);\n      }\n\n      parseInputFormat();\n      loc.addRawFormat(src, to);\n    },\n\n    addRawFormat: function(format, to) {\n      this.compiledFormats.unshift({\n        reg: RegExp('^ *' + format + ' *$', 'i'),\n        to: to\n      });\n    },\n\n    init: function(def) {\n      var loc = this;\n\n      // -- Initialization helpers\n\n      function initFormats() {\n        loc.compiledFormats = [];\n        loc.parsingAliases = {};\n        loc.parsingTokens = {};\n      }\n\n      function initDefinition() {\n        simpleMerge(loc, def);\n      }\n\n      function initArrayFields() {\n        forEach(LOCALE_ARRAY_FIELDS, function(name) {\n          var val = loc[name];\n          if (isString(val)) {\n            loc[name] = commaSplit(val);\n          } else if (!val) {\n            loc[name] = [];\n          }\n        });\n      }\n\n      // -- Value array build helpers\n\n      function buildValueArray(name, mod, map, fn) {\n        var field = name, all = [], setMap;\n        if (!loc[field]) {\n          field += 's';\n        }\n        if (!map) {\n          map = {};\n          setMap = true;\n        }\n        forAllAlternates(field, function(alt, j, i) {\n          var idx = j * mod + i, val;\n          val = fn ? fn(i) : i;\n          map[alt] = val;\n          map[alt.toLowerCase()] = val;\n          all[idx] = alt;\n        });\n        loc[field] = all;\n        if (setMap) {\n          loc[name + 'Map'] = map;\n        }\n      }\n\n      function forAllAlternates(field, fn) {\n        forEach(loc[field], function(str, i) {\n          forEachAlternate(str, function(alt, j) {\n            fn(alt, j, i);\n          });\n        });\n      }\n\n      function forEachAlternate(str, fn) {\n        var arr = map(str.split('+'), function(split) {\n          return split.replace(/(.+):(.+)$/, function(full, base, suffixes) {\n            return map(suffixes.split('|'), function(suffix) {\n              return base + suffix;\n            }).join('|');\n          });\n        }).join('|');\n        forEach(arr.split('|'), fn);\n      }\n\n      function buildNumerals() {\n        var map = {};\n        buildValueArray('numeral', 10, map);\n        buildValueArray('article', 1, map, function() {\n          return 1;\n        });\n        buildValueArray('placeholder', 4, map, function(n) {\n          return pow(10, n + 1);\n        });\n        loc.numeralMap = map;\n      }\n\n      function buildTimeFormats() {\n        loc.parsingAliases['time'] = getTimeFormat();\n        loc.parsingAliases['tzOffset'] = getTZOffsetFormat();\n      }\n\n      function getTimeFormat(standalone) {\n        var src, sep;\n        sep = getTimeSeparatorSrc(standalone);\n        if (loc.ampmFront) {\n          // \"ampmFront\" exists mostly for CJK locales, which also presume that\n          // time suffixes exist, allowing this to be a simpler regex.\n          src = '{ampm?} {hour} (?:{minute} (?::?{second})?)?';\n        } else if(loc.ampm.length) {\n          src = '{hour}(?:'+sep+'{minute?}(?:'+sep+'{second?})? {ampm?}| {ampm})';\n        } else {\n          src = '{hour}(?:'+sep+'{minute?}(?:'+sep+'{second?})?)';\n        }\n        return src;\n      }\n\n      function getTimeSeparatorSrc() {\n        if (loc.timeSeparator) {\n          return '[:' + loc.timeSeparator + ']';\n        } else {\n          return ':';\n        }\n      }\n\n      function getTZOffsetFormat() {\n        return '(?:{Z}|{GMT?}(?:{tzHour}(?::?{tzMinute}(?: \\\\([\\\\w\\\\s]+\\\\))?)?)?)?';\n      }\n\n      function buildParsingTokens() {\n        forEachProperty(LocalizedParsingTokens, function(token, name) {\n          var src = token.base ? getCoreTokensForBase(token.base) : token.src, arr;\n          if (token.requiresNumerals || loc.numeralUnits) {\n            src += getNumeralSrc();\n          }\n          arr = loc[name + 's'];\n          if (arr && arr.length) {\n            src += '|' + arrayToRegAlternates(arr);\n          }\n          loc.parsingTokens[name] = src;\n        });\n      }\n\n      function getCoreTokensForBase(base) {\n        return map(base.split('|'), function(key) {\n          return CoreParsingTokens[key].src;\n        }).join('|');\n      }\n\n      function getNumeralSrc() {\n        var all, src = '';\n        all = loc.numerals.concat(loc.placeholders).concat(loc.articles);\n        if (loc.allowsFullWidth) {\n          all = all.concat(fullWidthNumbers.split(''));\n        }\n        if (all.length) {\n          src = '|(?:' + arrayToRegAlternates(all) + ')+';\n        }\n        return src;\n      }\n\n      function buildTimeSuffixes() {\n        iterateOverDateUnits(function(unit, i) {\n          var token = loc.timeSuffixes[i];\n          if (token) {\n            loc[(unit.alias || unit.name) + 'Suffix'] = token;\n          }\n        });\n      }\n\n      function buildModifiers() {\n        forEach(loc.modifiers, function(modifier) {\n          var name = modifier.name, mapKey = name + 'Map', map;\n          map = loc[mapKey] || {};\n          forEachAlternate(modifier.src, function(alt, j) {\n            var token = getOwn(loc.parsingTokens, name), val = modifier.value;\n            map[alt] = val;\n            loc.parsingTokens[name] = token ? token + '|' + alt : alt;\n            if (modifier.name === 'sign' && j === 0) {\n              // Hooking in here to set the first \"fromNow\" or \"ago\" modifier\n              // directly on the locale, so that it can be reused in the\n              // relative format.\n              loc[val === 1 ? 'fromNow' : 'ago'] = alt;\n            }\n          });\n          loc[mapKey] = map;\n        });\n      }\n\n      // -- Format adding helpers\n\n      function addCoreFormats() {\n        forEach(CoreParsingFormats, function(df) {\n          var src = df.src;\n          if (df.localeCheck && !df.localeCheck(loc)) {\n            return;\n          }\n          if (df.mdy && loc.mdy) {\n            // Use the mm/dd/yyyy variant if it\n            // exists and the locale requires it\n            src = df.mdy;\n          }\n          if (df.time) {\n            // Core formats that allow time require the time\n            // reg on both sides, so add both versions here.\n            loc.addFormat(getFormatWithTime(src, true));\n            loc.addFormat(getFormatWithTime(src));\n          } else {\n            loc.addFormat(src);\n          }\n        });\n        loc.addFormat('{time}');\n      }\n\n      function addLocaleFormats() {\n        addFormatSet('parse');\n        addFormatSet('timeParse', true);\n        addFormatSet('timeFrontParse', true, true);\n      }\n\n      function addFormatSet(field, allowTime, timeFront) {\n        forEach(loc[field], function(format) {\n          if (allowTime) {\n            format = getFormatWithTime(format, timeFront);\n          }\n          loc.addFormat(format);\n        });\n      }\n\n      function getFormatWithTime(baseFormat, timeBefore) {\n        if (timeBefore) {\n          return getTimeBefore() + baseFormat;\n        }\n        return baseFormat + getTimeAfter();\n      }\n\n      function getTimeBefore() {\n        return getRegNonCapturing('{time}[,\\\\s\\\\u3000]', true);\n      }\n\n      function getTimeAfter() {\n        var markers = ',?[\\\\s\\\\u3000]', localized;\n        localized = arrayToRegAlternates(loc.timeMarkers);\n        if (localized) {\n          markers += '| (?:' + localized + ') ';\n        }\n        markers = getRegNonCapturing(markers, loc.timeMarkerOptional);\n        return getRegNonCapturing(markers + '{time}{tzOffset}', true);\n      }\n\n      initFormats();\n      initDefinition();\n      initArrayFields();\n\n      buildValueArray('month', 12);\n      buildValueArray('weekday', 7);\n      buildValueArray('unit', 8);\n      buildValueArray('ampm', 2);\n\n      buildNumerals();\n      buildTimeFormats();\n      buildParsingTokens();\n      buildTimeSuffixes();\n      buildModifiers();\n\n      // The order of these formats is important. Order is reversed so formats\n      // that are initialized later will take precedence. Generally, this means\n      // that more specific formats should come later.\n      addCoreFormats();\n      addLocaleFormats();\n\n    }\n\n  };\n\n  return new Locale(def);\n}\n\nmodule.exports = getNewLocale;","'use strict';\n\nvar LazyLoadedLocales = require('./LazyLoadedLocales'),\n    AmericanEnglishDefinition = require('./AmericanEnglishDefinition'),\n    getNewLocale = require('../internal/getNewLocale');\n\nvar English, localeManager;\n\nfunction buildLocales() {\n\n  function LocaleManager(loc) {\n    this.locales = {};\n    this.add(loc);\n  }\n\n  LocaleManager.prototype = {\n\n    get: function(code, fallback) {\n      var loc = this.locales[code];\n      if (!loc && LazyLoadedLocales[code]) {\n        loc = this.add(code, LazyLoadedLocales[code]);\n      } else if (!loc && code) {\n        loc = this.locales[code.slice(0, 2)];\n      }\n      return loc || fallback === false ? loc : this.current;\n    },\n\n    getAll: function() {\n      return this.locales;\n    },\n\n    set: function(code) {\n      var loc = this.get(code, false);\n      if (!loc) {\n        throw new TypeError('Invalid Locale: ' + code);\n      }\n      return this.current = loc;\n    },\n\n    add: function(code, def) {\n      if (!def) {\n        def = code;\n        code = def.code;\n      } else {\n        def.code = code;\n      }\n      var loc = def.compiledFormats ? def : getNewLocale(def);\n      this.locales[code] = loc;\n      if (!this.current) {\n        this.current = loc;\n      }\n      return loc;\n    },\n\n    remove: function(code) {\n      if (this.current.code === code) {\n        this.current = this.get('en');\n      }\n      return delete this.locales[code];\n    }\n\n  };\n\n  // Sorry about this guys...\n  English = getNewLocale(AmericanEnglishDefinition);\n  localeManager = new LocaleManager(English);\n}\n\nbuildLocales();\n\nmodule.exports = {\n  English: English,\n  localeManager: localeManager\n};","'use strict';\n\nvar Sugar = require('sugar-core'),\n    LocaleHelpers = require('./var/LocaleHelpers');\n\nvar localeManager = LocaleHelpers.localeManager;\n\nSugar.Date.defineStatic({\n\n  'addLocale': function(code, set) {\n    return localeManager.add(code, set);\n  }\n\n});\n\nmodule.exports = Sugar.Date.addLocale;","'use strict';\n\nmodule.exports = 60 * 1000;","'use strict';\n\nmodule.exports = /^'?(\\d{1,2})$/;","'use strict';\n\nfunction tzOffset(d) {\n  return d.getTimezoneOffset();\n}\n\nmodule.exports = tzOffset;","'use strict';\n\nvar _utc = require('../var/_utc'),\n    callDateGet = require('./callDateGet');\n\nfunction callDateSet(d, method, value, safe) {\n  // \"Safe\" denotes not setting the date if the value is the same as what is\n  // currently set. In theory this should be a noop, however it will cause\n  // timezone shifts when in the middle of a DST fallback. This is unavoidable\n  // as the notation itself is ambiguous (i.e. there are two \"1:00ams\" on\n  // November 1st, 2015 in northern hemisphere timezones that follow DST),\n  // however when advancing or rewinding dates this can throw off calculations\n  // so avoiding this unintentional shifting on an opt-in basis.\n  if (safe && value === callDateGet(d, method, value)) {\n    return;\n  }\n  d['set' + (_utc(d) ? 'UTC' : '') + method](value);\n}\n\nmodule.exports = callDateSet;","'use strict';\n\nvar DateUnitIndexes = require('../var/DateUnitIndexes');\n\nvar HOURS_INDEX = DateUnitIndexes.HOURS_INDEX,\n    DAY_INDEX = DateUnitIndexes.DAY_INDEX,\n    WEEK_INDEX = DateUnitIndexes.WEEK_INDEX,\n    MONTH_INDEX = DateUnitIndexes.MONTH_INDEX;\n\nfunction getLowerUnitIndex(index) {\n  if (index === MONTH_INDEX) {\n    return DAY_INDEX;\n  } else if (index === WEEK_INDEX) {\n    return HOURS_INDEX;\n  }\n  return index - 1;\n}\n\nmodule.exports = getLowerUnitIndex;","'use strict';\n\nvar DateUnits = require('../var/DateUnits'),\n    getLowerUnitIndex = require('./getLowerUnitIndex');\n\nfunction walkUnitDown(unitIndex, fn) {\n  while (unitIndex >= 0) {\n    if (fn(DateUnits[unitIndex], unitIndex) === false) {\n      break;\n    }\n    unitIndex = getLowerUnitIndex(unitIndex);\n  }\n}\n\nmodule.exports = walkUnitDown;","'use strict';\n\nvar isDefined = require('../../common/internal/isDefined'),\n    classChecks = require('../../common/var/classChecks'),\n    callDateSet = require('../../common/internal/callDateSet'),\n    walkUnitDown = require('./walkUnitDown');\n\nvar isFunction = classChecks.isFunction;\n\nfunction setUnitAndLowerToEdge(d, startIndex, stopIndex, end) {\n  walkUnitDown(startIndex, function(unit, i) {\n    var val = end ? unit.end : unit.start;\n    if (isFunction(val)) {\n      val = val(d);\n    }\n    callDateSet(d, unit.method, val);\n    return !isDefined(stopIndex) || i > stopIndex;\n  });\n  return d;\n}\n\nmodule.exports = setUnitAndLowerToEdge;","'use strict';\n\nvar DateUnitIndexes = require('../var/DateUnitIndexes'),\n    setUnitAndLowerToEdge = require('./setUnitAndLowerToEdge');\n\nvar HOURS_INDEX = DateUnitIndexes.HOURS_INDEX;\n\nfunction resetTime(d) {\n  return setUnitAndLowerToEdge(d, HOURS_INDEX);\n}\n\nmodule.exports = resetTime;","'use strict';\n\nfunction defaultNewDate() {\n  return new Date;\n}\n\nmodule.exports = defaultNewDate;","'use strict';\n\nvar defaultNewDate = require('../internal/defaultNewDate');\n\nvar DATE_OPTIONS = {\n  'newDateInternal': defaultNewDate\n};\n\nmodule.exports = DATE_OPTIONS;","'use strict';\n\nvar Sugar = require('sugar-core');\n\nmodule.exports = {\n  sugarObject: Sugar.Object,\n  sugarArray: Sugar.Array,\n  sugarDate: Sugar.Date,\n  sugarString: Sugar.String,\n  sugarNumber: Sugar.Number,\n  sugarFunction: Sugar.Function,\n  sugarRegExp: Sugar.RegExp\n};","'use strict';\n\nvar coreUtilityAliases = require('../var/coreUtilityAliases');\n\nvar setProperty = coreUtilityAliases.setProperty;\n\nfunction defineAccessor(namespace, name, fn) {\n  setProperty(namespace, name, fn);\n}\n\nmodule.exports = defineAccessor;","'use strict';\n\nvar simpleClone = require('./simpleClone'),\n    defineAccessor = require('./defineAccessor'),\n    coreUtilityAliases = require('../var/coreUtilityAliases');\n\nvar forEachProperty = coreUtilityAliases.forEachProperty;\n\nfunction defineOptionsAccessor(namespace, defaults) {\n  var obj = simpleClone(defaults);\n\n  function getOption(name) {\n    return obj[name];\n  }\n\n  function setOption(arg1, arg2) {\n    var options;\n    if (arguments.length === 1) {\n      options = arg1;\n    } else {\n      options = {};\n      options[arg1] = arg2;\n    }\n    forEachProperty(options, function(val, name) {\n      if (val === null) {\n        val = defaults[name];\n      }\n      obj[name] = val;\n    });\n  }\n\n  defineAccessor(namespace, 'getOption', getOption);\n  defineAccessor(namespace, 'setOption', setOption);\n  return getOption;\n}\n\nmodule.exports = defineOptionsAccessor;","'use strict';\n\nvar DATE_OPTIONS = require('./DATE_OPTIONS'),\n    namespaceAliases = require('../../common/var/namespaceAliases'),\n    defineOptionsAccessor = require('../../common/internal/defineOptionsAccessor');\n\nvar sugarDate = namespaceAliases.sugarDate;\n\nmodule.exports = defineOptionsAccessor(sugarDate, DATE_OPTIONS);","'use strict';\n\nvar _dateOptions = require('../var/_dateOptions');\n\nfunction getNewDate() {\n  return _dateOptions('newDateInternal')();\n}\n\nmodule.exports = getNewDate;","'use strict';\n\nvar callDateSet = require('../../common/internal/callDateSet');\n\nfunction setDate(d, val) {\n  callDateSet(d, 'Date', val);\n}\n\nmodule.exports = setDate;","'use strict';\n\nvar callDateGet = require('../../common/internal/callDateGet');\n\nfunction getDate(d) {\n  return callDateGet(d, 'Date');\n}\n\nmodule.exports = getDate;","'use strict';\n\nvar callDateGet = require('../../common/internal/callDateGet');\n\nfunction getWeekday(d) {\n  return callDateGet(d, 'Day');\n}\n\nmodule.exports = getWeekday;","'use strict';\n\nvar setDate = require('./setDate'),\n    getDate = require('./getDate'),\n    getWeekday = require('./getWeekday'),\n    classChecks = require('../../common/var/classChecks'),\n    mathAliases = require('../../common/var/mathAliases');\n\nvar isNumber = classChecks.isNumber,\n    abs = mathAliases.abs;\n\nfunction setWeekday(d, dow, dir) {\n  if (!isNumber(dow)) return;\n  var currentWeekday = getWeekday(d);\n  if (dir) {\n    // Allow a \"direction\" parameter to determine whether a weekday can\n    // be set beyond the current weekday in either direction.\n    var ndir = dir > 0 ? 1 : -1;\n    var offset = dow % 7 - currentWeekday;\n    if (offset && offset / abs(offset) !== ndir) {\n      dow += 7 * ndir;\n    }\n  }\n  setDate(d, getDate(d) + dow - currentWeekday);\n  return d.getTime();\n}\n\nmodule.exports = setWeekday;","'use strict';\n\nvar getLowerUnitIndex = require('./getLowerUnitIndex'),\n    setUnitAndLowerToEdge = require('./setUnitAndLowerToEdge');\n\nfunction resetLowerUnits(d, unitIndex) {\n  return setUnitAndLowerToEdge(d, getLowerUnitIndex(unitIndex));\n}\n\nmodule.exports = resetLowerUnits;","'use strict';\n\nvar DateUnitIndexes = require('../var/DateUnitIndexes');\n\nvar DAY_INDEX = DateUnitIndexes.DAY_INDEX,\n    MONTH_INDEX = DateUnitIndexes.MONTH_INDEX;\n\nfunction getHigherUnitIndex(index) {\n  return index === DAY_INDEX ? MONTH_INDEX : index + 1;\n}\n\nmodule.exports = getHigherUnitIndex;","'use strict';\n\nvar callDateSet = require('../../common/internal/callDateSet');\n\nfunction setYear(d, val) {\n  callDateSet(d, 'FullYear', val);\n}\n\nmodule.exports = setYear;","'use strict';\n\nvar callDateSet = require('../../common/internal/callDateSet');\n\nfunction setMonth(d, val) {\n  callDateSet(d, 'Month', val);\n}\n\nmodule.exports = setMonth;","'use strict';\n\nvar _utc = require('../../common/var/_utc');\n\nfunction cloneDate(d) {\n  // Rhino environments have a bug where new Date(d) truncates\n  // milliseconds so need to call getTime() here.\n  var clone = new Date(d.getTime());\n  _utc(clone, !!_utc(d));\n  return clone;\n}\n\nmodule.exports = cloneDate;","'use strict';\n\nvar setWeekday = require('./setWeekday'),\n    getWeekday = require('./getWeekday'),\n    mathAliases = require('../../common/var/mathAliases');\n\nvar floor = mathAliases.floor;\n\nfunction moveToBeginningOfWeek(d, firstDayOfWeek) {\n  setWeekday(d, floor((getWeekday(d) - firstDayOfWeek) / 7) * 7 + firstDayOfWeek);\n  return d;\n}\n\nmodule.exports = moveToBeginningOfWeek;","'use strict';\n\nvar DateUnitIndexes = require('../var/DateUnitIndexes'),\n    setDate = require('./setDate'),\n    setUnitAndLowerToEdge = require('./setUnitAndLowerToEdge'),\n    moveToBeginningOfWeek = require('./moveToBeginningOfWeek');\n\nvar MONTH_INDEX = DateUnitIndexes.MONTH_INDEX;\n\nfunction moveToFirstDayOfWeekYear(d, firstDayOfWeek, firstDayOfWeekYear) {\n  setUnitAndLowerToEdge(d, MONTH_INDEX);\n  setDate(d, firstDayOfWeekYear);\n  moveToBeginningOfWeek(d, firstDayOfWeek);\n}\n\nmodule.exports = moveToFirstDayOfWeekYear;","'use strict';\n\nvar ISODefaults = require('../var/ISODefaults'),\n    getDate = require('./getDate'),\n    setDate = require('./setDate'),\n    setYear = require('./setYear'),\n    getYear = require('./getYear'),\n    getMonth = require('./getMonth'),\n    setMonth = require('./setMonth'),\n    cloneDate = require('./cloneDate'),\n    getWeekday = require('./getWeekday'),\n    setWeekday = require('./setWeekday'),\n    classChecks = require('../../common/var/classChecks'),\n    moveToFirstDayOfWeekYear = require('./moveToFirstDayOfWeekYear');\n\nvar isNumber = classChecks.isNumber,\n    ISO_FIRST_DAY_OF_WEEK = ISODefaults.ISO_FIRST_DAY_OF_WEEK,\n    ISO_FIRST_DAY_OF_WEEK_YEAR = ISODefaults.ISO_FIRST_DAY_OF_WEEK_YEAR;\n\nfunction setISOWeekNumber(d, num) {\n  if (isNumber(num)) {\n    // Intentionally avoiding updateDate here to prevent circular dependencies.\n    var isoWeek = cloneDate(d), dow = getWeekday(d);\n    moveToFirstDayOfWeekYear(isoWeek, ISO_FIRST_DAY_OF_WEEK, ISO_FIRST_DAY_OF_WEEK_YEAR);\n    setDate(isoWeek, getDate(isoWeek) + 7 * (num - 1));\n    setYear(d, getYear(isoWeek));\n    setMonth(d, getMonth(isoWeek));\n    setDate(d, getDate(isoWeek));\n    setWeekday(d, dow || 7);\n  }\n  return d.getTime();\n}\n\nmodule.exports = setISOWeekNumber;","'use strict';\n\nvar callDateSet = require('../../common/internal/callDateSet'),\n    setISOWeekNumber = require('./setISOWeekNumber');\n\nfunction callDateSetWithWeek(d, method, value, safe) {\n  if (method === 'ISOWeek') {\n    setISOWeekNumber(d, value);\n  } else {\n    callDateSet(d, method, value, safe);\n  }\n}\n\nmodule.exports = callDateSetWithWeek;","'use strict';\n\nvar coreUtilityAliases = require('../var/coreUtilityAliases');\n\nvar hasOwn = coreUtilityAliases.hasOwn;\n\nfunction getOwnKey(obj, key) {\n  if (hasOwn(obj, key)) {\n    return key;\n  }\n}\n\nmodule.exports = getOwnKey;","'use strict';\n\nvar getOwnKey = require('../../common/internal/getOwnKey');\n\nfunction getDateParamKey(params, key) {\n  return getOwnKey(params, key) ||\n         getOwnKey(params, key + 's') ||\n         (key === 'day' && getOwnKey(params, 'date'));\n}\n\nmodule.exports = getDateParamKey;","'use strict';\n\nvar getDateParamKey = require('./getDateParamKey'),\n    coreUtilityAliases = require('../../common/var/coreUtilityAliases');\n\nvar getOwn = coreUtilityAliases.getOwn;\n\nfunction getDateParam(params, key) {\n  return getOwn(params, getDateParamKey(params, key));\n}\n\nmodule.exports = getDateParam;","'use strict';\n\nvar DateUnitIndexes = require('../var/DateUnitIndexes'),\n    isDefined = require('../../common/internal/isDefined'),\n    getDateParam = require('./getDateParam'),\n    iterateOverDateUnits = require('./iterateOverDateUnits');\n\nvar DAY_INDEX = DateUnitIndexes.DAY_INDEX;\n\nfunction iterateOverDateParams(params, fn, startIndex, endIndex) {\n\n  function run(name, unit, i) {\n    var val = getDateParam(params, name);\n    if (isDefined(val)) {\n      fn(name, val, unit, i);\n    }\n  }\n\n  iterateOverDateUnits(function (unit, i) {\n    var result = run(unit.name, unit, i);\n    if (result !== false && i === DAY_INDEX) {\n      // Check for \"weekday\", which has a distinct meaning\n      // in the context of setting a date, but has the same\n      // meaning as \"day\" as a unit of time.\n      result = run('weekday', unit, i);\n    }\n    return result;\n  }, startIndex, endIndex);\n\n}\n\nmodule.exports = iterateOverDateParams;","'use strict';\n\nvar DateUnits = require('../var/DateUnits'),\n    DateUnitIndexes = require('../var/DateUnitIndexes'),\n    trunc = require('../../common/var/trunc'),\n    setDate = require('./setDate'),\n    getDate = require('./getDate'),\n    getMonth = require('./getMonth'),\n    getNewDate = require('./getNewDate'),\n    setWeekday = require('./setWeekday'),\n    mathAliases = require('../../common/var/mathAliases'),\n    callDateGet = require('../../common/internal/callDateGet'),\n    classChecks = require('../../common/var/classChecks'),\n    resetLowerUnits = require('./resetLowerUnits'),\n    getLowerUnitIndex = require('./getLowerUnitIndex'),\n    getHigherUnitIndex = require('./getHigherUnitIndex'),\n    callDateSetWithWeek = require('./callDateSetWithWeek'),\n    iterateOverDateParams = require('./iterateOverDateParams');\n\nvar DAY_INDEX = DateUnitIndexes.DAY_INDEX,\n    WEEK_INDEX = DateUnitIndexes.WEEK_INDEX,\n    MONTH_INDEX = DateUnitIndexes.MONTH_INDEX,\n    YEAR_INDEX = DateUnitIndexes.YEAR_INDEX,\n    round = mathAliases.round,\n    isNumber = classChecks.isNumber;\n\nfunction updateDate(d, params, reset, advance, prefer, weekdayDir, contextDate) {\n  var upperUnitIndex;\n\n  function setUpperUnit(unitName, unitIndex) {\n    if (prefer && !upperUnitIndex) {\n      if (unitName === 'weekday') {\n        upperUnitIndex = WEEK_INDEX;\n      } else {\n        upperUnitIndex = getHigherUnitIndex(unitIndex);\n      }\n    }\n  }\n\n  function setSpecificity(unitIndex) {\n    // Other functions may preemptively set the specificity before arriving\n    // here so concede to them if they have already set more specific units.\n    if (unitIndex > params.specificity) {\n      return;\n    }\n    params.specificity = unitIndex;\n  }\n\n  function canDisambiguate() {\n    if (!upperUnitIndex || upperUnitIndex > YEAR_INDEX) {\n      return;\n    }\n\n    switch(prefer) {\n      case -1: return d >= (contextDate || getNewDate());\n      case  1: return d <= (contextDate || getNewDate());\n    }\n  }\n\n  function disambiguateHigherUnit() {\n    var unit = DateUnits[upperUnitIndex];\n    advance = prefer;\n    setUnit(unit.name, 1, unit, upperUnitIndex);\n  }\n\n  function handleFraction(unit, unitIndex, fraction) {\n    if (unitIndex) {\n      var lowerUnit = DateUnits[getLowerUnitIndex(unitIndex)];\n      var val = round(unit.multiplier / lowerUnit.multiplier * fraction);\n      params[lowerUnit.name] = val;\n    }\n  }\n\n  function monthHasShifted(d, targetMonth) {\n    if (targetMonth < 0) {\n      targetMonth = targetMonth % 12 + 12;\n    }\n    return targetMonth % 12 !== getMonth(d);\n  }\n\n  function setUnit(unitName, value, unit, unitIndex) {\n    var method = unit.method, checkMonth, fraction;\n\n    setUpperUnit(unitName, unitIndex);\n    setSpecificity(unitIndex);\n\n    fraction = value % 1;\n    if (fraction) {\n      handleFraction(unit, unitIndex, fraction);\n      value = trunc(value);\n    }\n\n    if (unitName === 'weekday') {\n      if (!advance) {\n        // Weekdays are always considered absolute units so simply set them\n        // here even if it is an \"advance\" operation. This is to help avoid\n        // ambiguous meanings in \"advance\" as well as to neatly allow formats\n        // like \"Wednesday of next week\" without more complex logic.\n        setWeekday(d, value, weekdayDir);\n      }\n      return;\n    }\n    checkMonth = unitIndex === MONTH_INDEX && getDate(d) > 28;\n\n    // If we are advancing or rewinding, then we need we need to set the\n    // absolute time if the unit is \"hours\" or less. This is due to the fact\n    // that setting by method is ambiguous during DST shifts. For example,\n    // 1:00am on November 1st 2015 occurs twice in North American timezones\n    // with DST, the second time being after the clocks are rolled back at\n    // 2:00am. When springing forward this is automatically handled as there\n    // is no 2:00am so the date automatically jumps to 3:00am. However, when\n    // rolling back, setHours(2) will always choose the first \"2am\" even if\n    // the date is currently set to the second, causing unintended jumps.\n    // This ambiguity is unavoidable when setting dates as the notation is\n    // ambiguous. However when advancing, we clearly want the resulting date\n    // to be an acutal hour ahead, which can only be accomplished by setting\n    // the absolute time. Conversely, any unit higher than \"hours\" MUST use\n    // the internal set methods, as they are ambiguous as absolute units of\n    // time. Years may be 365 or 366 days depending on leap years, months are\n    // all over the place, and even days may be 23-25 hours depending on DST\n    // shifts. Finally, note that the kind of jumping described above will\n    // occur when calling ANY \"set\" method on the date and will occur even if\n    // the value being set is identical to the one currently set (i.e.\n    // setHours(2) on a date at 2am may not be a noop). This is precarious,\n    // so avoiding this situation in callDateSet by checking up front that\n    // the value is not the same before setting.\n    if (advance && !unit.ambiguous) {\n      d.setTime(d.getTime() + (value * advance * unit.multiplier));\n      return;\n    } else if (advance) {\n      if (unitIndex === WEEK_INDEX) {\n        value *= 7;\n        method = DateUnits[DAY_INDEX].method;\n      }\n      value = (value * advance) + callDateGet(d, method);\n    }\n    callDateSetWithWeek(d, method, value, advance);\n    if (checkMonth && monthHasShifted(d, value)) {\n      // As we are setting the units in reverse order, there is a chance that\n      // our date may accidentally traverse into a new month, such as setting\n      // { month: 1, date 15 } on January 31st. Check for this here and reset\n      // the date to the last day of the previous month if this has happened.\n      setDate(d, 0);\n    }\n  }\n\n  if (isNumber(params) && advance) {\n    // If param is a number and advancing, the number is in milliseconds.\n    params = { millisecond: params };\n  } else if (isNumber(params)) {\n    // Otherwise just set the timestamp and return.\n    d.setTime(params);\n    return d;\n  }\n\n  iterateOverDateParams(params, setUnit);\n\n  if (reset && params.specificity) {\n    resetLowerUnits(d, params.specificity);\n  }\n\n  // If past or future is preferred, then the process of \"disambiguation\" will\n  // ensure that an ambiguous time/date (\"4pm\", \"thursday\", \"June\", etc.) will\n  // be in the past or future. Weeks are only considered ambiguous if there is\n  // a weekday, i.e. \"thursday\" is an ambiguous week, but \"the 4th\" is an\n  // ambiguous month.\n  if (canDisambiguate()) {\n    disambiguateHigherUnit();\n  }\n  return d;\n}\n\nmodule.exports = updateDate;","'use strict';\n\nvar updateDate = require('./updateDate');\n\nfunction advanceDate(d, unit, num, reset) {\n  var set = {};\n  set[unit] = num;\n  return updateDate(d, set, reset, 1);\n}\n\nmodule.exports = advanceDate;","'use strict';\n\nfunction dateIsValid(d) {\n  return !isNaN(d.getTime());\n}\n\nmodule.exports = dateIsValid;","'use strict';\n\nvar setWeekday = require('./setWeekday'),\n    getWeekday = require('./getWeekday'),\n    mathAliases = require('../../common/var/mathAliases');\n\nvar ceil = mathAliases.ceil;\n\nfunction moveToEndOfWeek(d, firstDayOfWeek) {\n  var target = firstDayOfWeek - 1;\n  setWeekday(d, ceil((getWeekday(d) - target) / 7) * 7 + target);\n  return d;\n}\n\nmodule.exports = moveToEndOfWeek;","'use strict';\n\nvar LocaleHelpers = require('../var/LocaleHelpers'),\n    DateUnitIndexes = require('../var/DateUnitIndexes'),\n    moveToEndOfWeek = require('./moveToEndOfWeek'),\n    getLowerUnitIndex = require('./getLowerUnitIndex'),\n    setUnitAndLowerToEdge = require('./setUnitAndLowerToEdge');\n\nvar WEEK_INDEX = DateUnitIndexes.WEEK_INDEX,\n    localeManager = LocaleHelpers.localeManager;\n\nfunction moveToEndOfUnit(d, unitIndex, localeCode, stopIndex) {\n  if (unitIndex === WEEK_INDEX) {\n    moveToEndOfWeek(d, localeManager.get(localeCode).getFirstDayOfWeek());\n  }\n  return setUnitAndLowerToEdge(d, getLowerUnitIndex(unitIndex), stopIndex, true);\n}\n\nmodule.exports = moveToEndOfUnit;","'use strict';\n\nvar getDateParamKey = require('./getDateParamKey');\n\nfunction deleteDateParam(params, key) {\n  delete params[getDateParamKey(params, key)];\n}\n\nmodule.exports = deleteDateParam;","'use strict';\n\nvar LocaleHelpers = require('../var/LocaleHelpers'),\n    DateUnitIndexes = require('../var/DateUnitIndexes'),\n    getLowerUnitIndex = require('./getLowerUnitIndex'),\n    moveToBeginningOfWeek = require('./moveToBeginningOfWeek'),\n    setUnitAndLowerToEdge = require('./setUnitAndLowerToEdge');\n\nvar WEEK_INDEX = DateUnitIndexes.WEEK_INDEX,\n    localeManager = LocaleHelpers.localeManager;\n\nfunction moveToBeginningOfUnit(d, unitIndex, localeCode) {\n  if (unitIndex === WEEK_INDEX) {\n    moveToBeginningOfWeek(d, localeManager.get(localeCode).getFirstDayOfWeek());\n  }\n  return setUnitAndLowerToEdge(d, getLowerUnitIndex(unitIndex));\n}\n\nmodule.exports = moveToBeginningOfUnit;","'use strict';\n\nvar getYear = require('./getYear'),\n    mathAliases = require('../../common/var/mathAliases');\n\nvar abs = mathAliases.abs;\n\nfunction getYearFromAbbreviation(str, d, prefer) {\n  // Following IETF here, adding 1900 or 2000 depending on the last two digits.\n  // Note that this makes no accordance for what should happen after 2050, but\n  // intentionally ignoring this for now. https://www.ietf.org/rfc/rfc2822.txt\n  var val = +str, delta;\n  val += val < 50 ? 2000 : 1900;\n  if (prefer) {\n    delta = val - getYear(d);\n    if (delta / abs(delta) !== prefer) {\n      val += prefer * 100;\n    }\n  }\n  return val;\n}\n\nmodule.exports = getYearFromAbbreviation;","'use strict';\n\nvar DateUnitIndexes = require('../var/DateUnitIndexes'),\n    iterateOverDateParams = require('./iterateOverDateParams');\n\nvar DAY_INDEX = DateUnitIndexes.DAY_INDEX,\n    YEAR_INDEX = DateUnitIndexes.YEAR_INDEX;\n\nfunction iterateOverHigherDateParams(params, fn) {\n  iterateOverDateParams(params, fn, YEAR_INDEX, DAY_INDEX);\n}\n\nmodule.exports = iterateOverHigherDateParams;","'use strict';\n\nvar MINUTES = require('../var/MINUTES'),\n    ABBREVIATED_YEAR_REG = require('../var/ABBREVIATED_YEAR_REG'),\n    LocaleHelpers = require('../var/LocaleHelpers'),\n    DateUnitIndexes = require('../var/DateUnitIndexes'),\n    _utc = require('../../common/var/_utc'),\n    trunc = require('../../common/var/trunc'),\n    forEach = require('../../common/internal/forEach'),\n    tzOffset = require('./tzOffset'),\n    isDefined = require('../../common/internal/isDefined'),\n    resetTime = require('./resetTime'),\n    getNewDate = require('./getNewDate'),\n    updateDate = require('./updateDate'),\n    setWeekday = require('./setWeekday'),\n    simpleMerge = require('../../common/internal/simpleMerge'),\n    advanceDate = require('./advanceDate'),\n    isUndefined = require('../../common/internal/isUndefined'),\n    classChecks = require('../../common/var/classChecks'),\n    dateIsValid = require('./dateIsValid'),\n    simpleClone = require('../../common/internal/simpleClone'),\n    isObjectType = require('../../common/internal/isObjectType'),\n    moveToEndOfUnit = require('./moveToEndOfUnit'),\n    deleteDateParam = require('./deleteDateParam'),\n    coreUtilityAliases = require('../../common/var/coreUtilityAliases'),\n    moveToBeginningOfUnit = require('./moveToBeginningOfUnit'),\n    iterateOverDateParams = require('./iterateOverDateParams'),\n    getYearFromAbbreviation = require('./getYearFromAbbreviation'),\n    iterateOverHigherDateParams = require('./iterateOverHigherDateParams');\n\nvar isNumber = classChecks.isNumber,\n    isString = classChecks.isString,\n    isDate = classChecks.isDate,\n    getOwn = coreUtilityAliases.getOwn,\n    English = LocaleHelpers.English,\n    localeManager = LocaleHelpers.localeManager,\n    DAY_INDEX = DateUnitIndexes.DAY_INDEX,\n    WEEK_INDEX = DateUnitIndexes.WEEK_INDEX,\n    MONTH_INDEX = DateUnitIndexes.MONTH_INDEX,\n    YEAR_INDEX = DateUnitIndexes.YEAR_INDEX;\n\nfunction getExtendedDate(contextDate, d, opt, forceClone) {\n\n  // Locals\n  var date, set, loc, afterCallbacks, relative, weekdayDir;\n\n  // Options\n  var optPrefer, optLocale, optFromUTC, optSetUTC, optParams, optClone;\n\n  afterCallbacks = [];\n\n  setupOptions(opt);\n\n  function setupOptions(opt) {\n    opt = isString(opt) ? { locale: opt } : opt || {};\n    optPrefer  = +!!getOwn(opt, 'future') - +!!getOwn(opt, 'past');\n    optLocale  = getOwn(opt, 'locale');\n    optFromUTC = getOwn(opt, 'fromUTC');\n    optSetUTC  = getOwn(opt, 'setUTC');\n    optParams  = getOwn(opt, 'params');\n    optClone   = getOwn(opt, 'clone');\n  }\n\n  function parseFormatValues(match, dif) {\n    var set = optParams || {};\n    forEach(dif.to, function(param, i) {\n      var str = match[i + 1], val;\n      if (!str) return;\n\n      val = parseIrregular(str, param);\n\n      if (isUndefined(val)) {\n        val = loc.parseValue(str, param);\n      }\n\n      set[param] = val;\n    });\n    return set;\n  }\n\n  function parseIrregular(str, param) {\n    if (param === 'utc') {\n      return 1;\n    } else if (param === 'year') {\n      var match = str.match(ABBREVIATED_YEAR_REG);\n      if (match) {\n        return getYearFromAbbreviation(match[1], date, optPrefer);\n      }\n    }\n  }\n\n  // Force the UTC flags to be true if the source date\n  // date is UTC, as they will be overwritten later.\n  function cloneDateByFlag(d, clone) {\n    if (_utc(d) && !isDefined(optFromUTC)) {\n      optFromUTC = true;\n    }\n    if (_utc(d) && !isDefined(optSetUTC)) {\n      optSetUTC = true;\n    }\n    if (clone) {\n      d = new Date(d.getTime());\n    }\n    return d;\n  }\n\n  function afterDateSet(fn) {\n    afterCallbacks.push(fn);\n  }\n\n  function fireCallbacks() {\n    forEach(afterCallbacks, function(fn) {\n      fn.call();\n    });\n  }\n\n  function parseStringDate(str) {\n\n    str = str.toLowerCase();\n\n    // The act of getting the locale will initialize\n    // if it is missing and add the required formats.\n    loc = localeManager.get(optLocale);\n\n    for (var i = 0, dif, match; dif = loc.compiledFormats[i]; i++) {\n      match = str.match(dif.reg);\n      if (match) {\n\n        // Note that caching the format will modify the compiledFormats array\n        // which is not a good idea to do inside its for loop, however we\n        // know at this point that we have a matched format and that we will\n        // break out below, so simpler to do it here.\n        loc.cacheFormat(dif, i);\n\n        set = parseFormatValues(match, dif);\n\n        if (isDefined(set.timestamp)) {\n          date.setTime(set.timestamp);\n          break;\n        }\n\n        if (isDefined(set.ampm)) {\n          handleAmpm(set.ampm);\n        }\n\n        if (set.utc || isDefined(set.tzHour)) {\n          handleTimezoneOffset(set.tzHour, set.tzMinute);\n        }\n\n        if (isDefined(set.shift) && isUndefined(set.unit)) {\n          // \"next january\", \"next monday\", etc\n          handleUnitlessShift();\n        }\n\n        if (isDefined(set.num) && isUndefined(set.unit)) {\n          // \"the second of January\", etc\n          handleUnitlessNum(set.num);\n        }\n\n        if (set.midday) {\n          // \"noon\" and \"midnight\"\n          handleMidday(set.midday);\n        }\n\n        if (isDefined(set.day)) {\n          // Relative day localizations such as \"today\" and \"tomorrow\".\n          handleRelativeDay(set.day);\n        }\n\n        if (isDefined(set.unit)) {\n          // \"3 days ago\", etc\n          handleRelativeUnit(set.unit);\n        }\n\n        if (set.edge) {\n          // \"the end of January\", etc\n          handleEdge(set.edge, set);\n        }\n\n        break;\n      }\n    }\n\n    if (!set) {\n      // TODO: remove in next major version\n      // Fall back to native parsing\n      date = new Date(str);\n      if (optFromUTC && dateIsValid(date)) {\n        // Falling back to system date here which cannot be parsed as UTC,\n        // so if we're forcing UTC then simply add the offset.\n        date.setTime(date.getTime() + (tzOffset(date) * MINUTES));\n      }\n    } else if (relative) {\n      updateDate(date, set, false, 1);\n    } else {\n      updateDate(date, set, true, 0, optPrefer, weekdayDir, contextDate);\n    }\n    fireCallbacks();\n    return date;\n  }\n\n  function handleAmpm(ampm) {\n    if (ampm === 1 && set.hour < 12) {\n      // If the time is 1pm-11pm advance the time by 12 hours.\n      set.hour += 12;\n    } else if (ampm === 0 && set.hour === 12) {\n      // If it is 12:00am then set the hour to 0.\n      set.hour = 0;\n    }\n  }\n\n  function handleTimezoneOffset(tzHour, tzMinute) {\n    // Adjust for timezone offset\n    _utc(date, true);\n\n    // Sign is parsed as part of the hour, so flip\n    // the minutes if it's negative.\n\n    if (tzHour < 0) {\n      tzMinute *= -1;\n    }\n\n    var offset = tzHour * 60 + (tzMinute || 0);\n    if (offset) {\n      set.minute = (set.minute || 0) - offset;\n    }\n  }\n\n  function handleUnitlessShift() {\n    if (isDefined(set.month)) {\n      // \"next January\"\n      set.unit = YEAR_INDEX;\n    } else if (isDefined(set.weekday)) {\n      // \"next Monday\"\n      set.unit = WEEK_INDEX;\n    }\n  }\n\n  function handleUnitlessNum(num) {\n    if (isDefined(set.weekday)) {\n      // \"The second Tuesday of March\"\n      setOrdinalWeekday(num);\n    } else if (isDefined(set.month)) {\n      // \"The second of March\"\n      set.date = set.num;\n    }\n  }\n\n  function handleMidday(hour) {\n    set.hour = hour % 24;\n    if (hour > 23) {\n      // If the date has hours past 24, we need to prevent it from traversing\n      // into a new day as that would make it being part of a new week in\n      // ambiguous dates such as \"Monday\".\n      afterDateSet(function() {\n        advanceDate(date, 'date', trunc(hour / 24));\n      });\n    }\n  }\n\n  function handleRelativeDay() {\n    resetTime(date);\n    if (isUndefined(set.unit)) {\n      set.unit = DAY_INDEX;\n      set.num  = set.day;\n      delete set.day;\n    }\n  }\n\n  function handleRelativeUnit(unitIndex) {\n    var num;\n\n    if (isDefined(set.num)) {\n      num = set.num;\n    } else if (isDefined(set.edge) && isUndefined(set.shift)) {\n      num = 0;\n    } else {\n      num = 1;\n    }\n\n    // If a weekday is defined, there are 3 possible formats being applied:\n    //\n    // 1. \"the day after monday\": unit is days\n    // 2. \"next monday\": short for \"next week monday\", unit is weeks\n    // 3. \"the 2nd monday of next month\": unit is months\n    //\n    // In the first case, we need to set the weekday up front, as the day is\n    // relative to it. The second case also needs to be handled up front for\n    // formats like \"next monday at midnight\" which will have its weekday reset\n    // if not set up front. The last case will set up the params necessary to\n    // shift the weekday and allow separateAbsoluteUnits below to handle setting\n    // it after the date has been shifted.\n    if(isDefined(set.weekday)) {\n      if(unitIndex === MONTH_INDEX) {\n        setOrdinalWeekday(num);\n        num = 1;\n      } else {\n        updateDate(date, { weekday: set.weekday }, true);\n        delete set.weekday;\n      }\n    }\n\n    if (set.half) {\n      // Allow localized \"half\" as a standalone colloquialism. Purposely avoiding\n      // the locale number system to reduce complexity. The units \"month\" and\n      // \"week\" are purposely excluded in the English date formats below, as\n      // \"half a week\" and \"half a month\" are meaningless as exact dates.\n      num *= set.half;\n    }\n\n    if (isDefined(set.shift)) {\n      // Shift and unit, ie \"next month\", \"last week\", etc.\n      num *= set.shift;\n    } else if (set.sign) {\n      // Unit and sign, ie \"months ago\", \"weeks from now\", etc.\n      num *= set.sign;\n    }\n\n    if (isDefined(set.day)) {\n      // \"the day after tomorrow\"\n      num += set.day;\n      delete set.day;\n    }\n\n    // Formats like \"the 15th of last month\" or \"6:30pm of next week\"\n    // contain absolute units in addition to relative ones, so separate\n    // them here, remove them from the params, and set up a callback to\n    // set them after the relative ones have been set.\n    separateAbsoluteUnits(unitIndex);\n\n    // Finally shift the unit.\n    set[English.units[unitIndex]] = num;\n    relative = true;\n  }\n\n  function handleEdge(edge, params) {\n    var edgeIndex = params.unit, weekdayOfMonth;\n    if (!edgeIndex) {\n      // If we have \"the end of January\", then we need to find the unit index.\n      iterateOverHigherDateParams(params, function(unitName, val, unit, i) {\n        if (unitName === 'weekday' && isDefined(params.month)) {\n          // If both a month and weekday exist, then we have a format like\n          // \"the last tuesday in November, 2012\", where the \"last\" is still\n          // relative to the end of the month, so prevent the unit \"weekday\"\n          // from taking over.\n          return;\n        }\n        edgeIndex = i;\n      });\n    }\n    if (edgeIndex === MONTH_INDEX && isDefined(params.weekday)) {\n      // If a weekday in a month exists (as described above),\n      // then set it up to be set after the date has been shifted.\n      weekdayOfMonth = params.weekday;\n      delete params.weekday;\n    }\n    afterDateSet(function() {\n      var stopIndex;\n      // \"edge\" values that are at the very edge are \"2\" so the beginning of the\n      // year is -2 and the end of the year is 2. Conversely, the \"last day\" is\n      // actually 00:00am so it is 1. -1 is reserved but unused for now.\n      if (edge < 0) {\n        moveToBeginningOfUnit(date, edgeIndex, optLocale);\n      } else if (edge > 0) {\n        if (edge === 1) {\n          stopIndex = DAY_INDEX;\n          moveToBeginningOfUnit(date, DAY_INDEX);\n        }\n        moveToEndOfUnit(date, edgeIndex, optLocale, stopIndex);\n      }\n      if (isDefined(weekdayOfMonth)) {\n        setWeekday(date, weekdayOfMonth, -edge);\n        resetTime(date);\n      }\n    });\n    if (edgeIndex === MONTH_INDEX) {\n      params.specificity = DAY_INDEX;\n    } else {\n      params.specificity = edgeIndex - 1;\n    }\n  }\n\n  function setOrdinalWeekday(num) {\n    // If we have \"the 2nd Tuesday of June\", then pass the \"weekdayDir\"\n    // flag along to updateDate so that the date does not accidentally traverse\n    // into the previous month. This needs to be independent of the \"prefer\"\n    // flag because we are only ensuring that the weekday is in the future, not\n    // the entire date.\n    set.weekday = 7 * (num - 1) + set.weekday;\n    set.date = 1;\n    weekdayDir = 1;\n  }\n\n  function separateAbsoluteUnits(unitIndex) {\n    var params;\n\n    iterateOverDateParams(set, function(name, val, unit, i) {\n      // If there is a time unit set that is more specific than\n      // the matched unit we have a string like \"5:30am in 2 minutes\",\n      // which is meaningless, so invalidate the date...\n      if (i >= unitIndex) {\n        date.setTime(NaN);\n        return false;\n      } else if (i < unitIndex) {\n        // ...otherwise set the params to set the absolute date\n        // as a callback after the relative date has been set.\n        params = params || {};\n        params[name] = val;\n        deleteDateParam(set, name);\n      }\n    });\n    if (params) {\n      afterDateSet(function() {\n        updateDate(date, params, true, 0, false, weekdayDir);\n        if (optParams) {\n          simpleMerge(optParams, params);\n        }\n      });\n      if (set.edge) {\n        // \"the end of March of next year\"\n        handleEdge(set.edge, params);\n        delete set.edge;\n      }\n    }\n  }\n\n  if (contextDate && d) {\n    // If a context date is passed (\"get\" and \"unitsFromNow\"),\n    // then use it as the starting point.\n    date = cloneDateByFlag(contextDate, true);\n  } else {\n    date = getNewDate();\n  }\n\n  _utc(date, optFromUTC);\n\n  if (isString(d)) {\n    date = parseStringDate(d);\n  } else if (isDate(d)) {\n    date = cloneDateByFlag(d, optClone || forceClone);\n  } else if (isObjectType(d)) {\n    set = simpleClone(d);\n    updateDate(date, set, true);\n  } else if (isNumber(d) || d === null) {\n    date.setTime(d);\n  }\n  // A date created by parsing a string presumes that the format *itself* is\n  // UTC, but not that the date, once created, should be manipulated as such. In\n  // other words, if you are creating a date object from a server time\n  // \"2012-11-15T12:00:00Z\", in the majority of cases you are using it to create\n  // a date that will, after creation, be manipulated as local, so reset the utc\n  // flag here unless \"setUTC\" is also set.\n  _utc(date, !!optSetUTC);\n  return {\n    set: set,\n    date: date\n  };\n}\n\nmodule.exports = getExtendedDate;","'use strict';\n\nvar getExtendedDate = require('./getExtendedDate');\n\nfunction createDate(d, options, forceClone) {\n  return getExtendedDate(null, d, options, forceClone).date;\n}\n\nmodule.exports = createDate;","'use strict';\n\nfunction setChainableConstructor(sugarNamespace, createFn) {\n  sugarNamespace.prototype.constructor = function() {\n    return createFn.apply(this, arguments);\n  };\n}\n\nmodule.exports = setChainableConstructor;","'use strict';\n\nvar createDate = require('./createDate'),\n    namespaceAliases = require('../../common/var/namespaceAliases'),\n    setChainableConstructor = require('../../common/internal/setChainableConstructor');\n\nvar sugarDate = namespaceAliases.sugarDate;\n\nfunction setDateChainableConstructor() {\n  setChainableConstructor(sugarDate, createDate);\n}\n\nmodule.exports = setDateChainableConstructor;","'use strict';\n\nvar setDateChainableConstructor = require('../internal/setDateChainableConstructor');\n\nsetDateChainableConstructor();","'use strict';\n\nvar Sugar = require('sugar-core'),\n    createDate = require('./internal/createDate');\n\nrequire('./build/setDateChainableConstructorCall');\n\nSugar.Date.defineStatic({\n\n  'create': function(d, options) {\n    return createDate(d, options);\n  }\n\n});\n\nmodule.exports = Sugar.Date.create;","'use strict';\n\nfunction getKeys(obj) {\n  return Object.keys(obj);\n}\n\nmodule.exports = getKeys;","'use strict';\n\nvar Sugar = require('sugar-core'),\n    LocaleHelpers = require('./var/LocaleHelpers'),\n    getKeys = require('../common/internal/getKeys');\n\nvar localeManager = LocaleHelpers.localeManager;\n\nSugar.Date.defineStatic({\n\n  'getAllLocaleCodes': function() {\n    return getKeys(localeManager.getAll());\n  }\n\n});\n\nmodule.exports = Sugar.Date.getAllLocaleCodes;","'use strict';\n\nvar Sugar = require('sugar-core'),\n    LocaleHelpers = require('./var/LocaleHelpers');\n\nvar localeManager = LocaleHelpers.localeManager;\n\nSugar.Date.defineStatic({\n\n  'getAllLocales': function() {\n    return localeManager.getAll();\n  }\n\n});\n\nmodule.exports = Sugar.Date.getAllLocales;","'use strict';\n\nvar Sugar = require('sugar-core'),\n    LocaleHelpers = require('./var/LocaleHelpers');\n\nvar localeManager = LocaleHelpers.localeManager;\n\nSugar.Date.defineStatic({\n\n  'getLocale': function(code) {\n    return localeManager.get(code, !code);\n  }\n\n});\n\nmodule.exports = Sugar.Date.getLocale;","'use strict';\n\nvar Sugar = require('sugar-core'),\n    LocaleHelpers = require('./var/LocaleHelpers');\n\nvar localeManager = LocaleHelpers.localeManager;\n\nSugar.Date.defineStatic({\n\n  'removeLocale': function(code) {\n    return localeManager.remove(code);\n  }\n\n});\n\nmodule.exports = Sugar.Date.removeLocale;","'use strict';\n\nvar Sugar = require('sugar-core'),\n    LocaleHelpers = require('./var/LocaleHelpers');\n\nvar localeManager = LocaleHelpers.localeManager;\n\nSugar.Date.defineStatic({\n\n  'setLocale': function(code) {\n    return localeManager.set(code);\n  }\n\n});\n\nmodule.exports = Sugar.Date.setLocale;","'use strict';\n\nfunction wrapNamespace(method) {\n  return function(sugarNamespace, arg1, arg2) {\n    sugarNamespace[method](arg1, arg2);\n  };\n}\n\nmodule.exports = wrapNamespace;","'use strict';\n\nvar wrapNamespace = require('../internal/wrapNamespace');\n\nmodule.exports = {\n  alias: wrapNamespace('alias'),\n  defineStatic: wrapNamespace('defineStatic'),\n  defineInstance: wrapNamespace('defineInstance'),\n  defineStaticPolyfill: wrapNamespace('defineStaticPolyfill'),\n  defineInstancePolyfill: wrapNamespace('defineInstancePolyfill'),\n  defineInstanceAndStatic: wrapNamespace('defineInstanceAndStatic'),\n  defineInstanceWithArguments: wrapNamespace('defineInstanceWithArguments')\n};","'use strict';\n\nvar forEach = require('./forEach'),\n    spaceSplit = require('./spaceSplit'),\n    classChecks = require('../var/classChecks');\n\nvar isString = classChecks.isString;\n\nfunction collectSimilarMethods(set, fn) {\n  var methods = {};\n  if (isString(set)) {\n    set = spaceSplit(set);\n  }\n  forEach(set, function(el, i) {\n    fn(methods, el, i);\n  });\n  return methods;\n}\n\nmodule.exports = collectSimilarMethods;","'use strict';\n\nvar methodDefineAliases = require('../var/methodDefineAliases'),\n    collectSimilarMethods = require('./collectSimilarMethods');\n\nvar defineInstance = methodDefineAliases.defineInstance;\n\nfunction defineInstanceSimilar(sugarNamespace, set, fn, flags) {\n  defineInstance(sugarNamespace, collectSimilarMethods(set, fn), flags);\n}\n\nmodule.exports = defineInstanceSimilar;","'use strict';\n\nvar DateUnits = require('../var/DateUnits'),\n    createDate = require('./createDate'),\n    mathAliases = require('../../common/var/mathAliases'),\n    advanceDate = require('./advanceDate'),\n    namespaceAliases = require('../../common/var/namespaceAliases'),\n    defineInstanceSimilar = require('../../common/internal/defineInstanceSimilar');\n\nvar sugarNumber = namespaceAliases.sugarNumber,\n    round = mathAliases.round;\n\nfunction buildNumberUnitMethods() {\n  defineInstanceSimilar(sugarNumber, DateUnits, function(methods, unit) {\n    var name = unit.name, base, after, before;\n    base = function(n) {\n      return round(n * unit.multiplier);\n    };\n    after = function(n, d, options) {\n      return advanceDate(createDate(d, options, true), name, n);\n    };\n    before = function(n, d, options) {\n      return advanceDate(createDate(d, options, true), name, -n);\n    };\n    methods[name] = base;\n    methods[name + 's'] = base;\n    methods[name + 'Before'] = before;\n    methods[name + 'sBefore'] = before;\n    methods[name + 'Ago'] = before;\n    methods[name + 'sAgo'] = before;\n    methods[name + 'After'] = after;\n    methods[name + 'sAfter'] = after;\n    methods[name + 'FromNow'] = after;\n    methods[name + 'sFromNow'] = after;\n  });\n}\n\nmodule.exports = buildNumberUnitMethods;","'use strict';\n\nvar buildNumberUnitMethods = require('../internal/buildNumberUnitMethods');\n\nbuildNumberUnitMethods();","'use strict';\n\nvar Sugar = require('sugar-core');\n\nrequire('../date/build/buildNumberUnitMethodsCall');\n\nmodule.exports = Sugar.Number.day;","'use strict';\n\nvar Sugar = require('sugar-core');\n\nrequire('../date/build/buildNumberUnitMethodsCall');\n\nmodule.exports = Sugar.Number.dayAfter;","'use strict';\n\nvar Sugar = require('sugar-core');\n\nrequire('../date/build/buildNumberUnitMethodsCall');\n\nmodule.exports = Sugar.Number.dayAgo;","'use strict';\n\nvar Sugar = require('sugar-core');\n\nrequire('../date/build/buildNumberUnitMethodsCall');\n\nmodule.exports = Sugar.Number.dayBefore;","'use strict';\n\nvar Sugar = require('sugar-core');\n\nrequire('../date/build/buildNumberUnitMethodsCall');\n\nmodule.exports = Sugar.Number.dayFromNow;","'use strict';\n\nvar Sugar = require('sugar-core');\n\nrequire('../date/build/buildNumberUnitMethodsCall');\n\nmodule.exports = Sugar.Number.days;","'use strict';\n\nvar Sugar = require('sugar-core');\n\nrequire('../date/build/buildNumberUnitMethodsCall');\n\nmodule.exports = Sugar.Number.daysAfter;","'use strict';\n\nvar Sugar = require('sugar-core');\n\nrequire('../date/build/buildNumberUnitMethodsCall');\n\nmodule.exports = Sugar.Number.daysAgo;","'use strict';\n\nvar Sugar = require('sugar-core');\n\nrequire('../date/build/buildNumberUnitMethodsCall');\n\nmodule.exports = Sugar.Number.daysBefore;","'use strict';\n\nvar Sugar = require('sugar-core');\n\nrequire('../date/build/buildNumberUnitMethodsCall');\n\nmodule.exports = Sugar.Number.daysFromNow;","'use strict';\n\nvar Sugar = require('sugar-core'),\n    LocaleHelpers = require('../date/var/LocaleHelpers');\n\nvar localeManager = LocaleHelpers.localeManager;\n\nSugar.Number.defineInstance({\n\n  'duration': function(n, localeCode) {\n    return localeManager.get(localeCode).getDuration(n);\n  }\n\n});\n\nmodule.exports = Sugar.Number.duration;","'use strict';\n\nvar Sugar = require('sugar-core');\n\nrequire('../date/build/buildNumberUnitMethodsCall');\n\nmodule.exports = Sugar.Number.hour;","'use strict';\n\nvar Sugar = require('sugar-core');\n\nrequire('../date/build/buildNumberUnitMethodsCall');\n\nmodule.exports = Sugar.Number.hourAfter;","'use strict';\n\nvar Sugar = require('sugar-core');\n\nrequire('../date/build/buildNumberUnitMethodsCall');\n\nmodule.exports = Sugar.Number.hourAgo;","'use strict';\n\nvar Sugar = require('sugar-core');\n\nrequire('../date/build/buildNumberUnitMethodsCall');\n\nmodule.exports = Sugar.Number.hourBefore;","'use strict';\n\nvar Sugar = require('sugar-core');\n\nrequire('../date/build/buildNumberUnitMethodsCall');\n\nmodule.exports = Sugar.Number.hourFromNow;","'use strict';\n\nvar Sugar = require('sugar-core');\n\nrequire('../date/build/buildNumberUnitMethodsCall');\n\nmodule.exports = Sugar.Number.hours;","'use strict';\n\nvar Sugar = require('sugar-core');\n\nrequire('../date/build/buildNumberUnitMethodsCall');\n\nmodule.exports = Sugar.Number.hoursAfter;","'use strict';\n\nvar Sugar = require('sugar-core');\n\nrequire('../date/build/buildNumberUnitMethodsCall');\n\nmodule.exports = Sugar.Number.hoursAgo;","'use strict';\n\nvar Sugar = require('sugar-core');\n\nrequire('../date/build/buildNumberUnitMethodsCall');\n\nmodule.exports = Sugar.Number.hoursBefore;","'use strict';\n\nvar Sugar = require('sugar-core');\n\nrequire('../date/build/buildNumberUnitMethodsCall');\n\nmodule.exports = Sugar.Number.hoursFromNow;","'use strict';\n\nvar Sugar = require('sugar-core');\n\nrequire('../date/build/buildNumberUnitMethodsCall');\n\nmodule.exports = Sugar.Number.millisecond;","'use strict';\n\nvar Sugar = require('sugar-core');\n\nrequire('../date/build/buildNumberUnitMethodsCall');\n\nmodule.exports = Sugar.Number.millisecondAfter;","'use strict';\n\nvar Sugar = require('sugar-core');\n\nrequire('../date/build/buildNumberUnitMethodsCall');\n\nmodule.exports = Sugar.Number.millisecondAgo;","'use strict';\n\nvar Sugar = require('sugar-core');\n\nrequire('../date/build/buildNumberUnitMethodsCall');\n\nmodule.exports = Sugar.Number.millisecondBefore;","'use strict';\n\nvar Sugar = require('sugar-core');\n\nrequire('../date/build/buildNumberUnitMethodsCall');\n\nmodule.exports = Sugar.Number.millisecondFromNow;","'use strict';\n\nvar Sugar = require('sugar-core');\n\nrequire('../date/build/buildNumberUnitMethodsCall');\n\nmodule.exports = Sugar.Number.milliseconds;","'use strict';\n\nvar Sugar = require('sugar-core');\n\nrequire('../date/build/buildNumberUnitMethodsCall');\n\nmodule.exports = Sugar.Number.millisecondsAfter;","'use strict';\n\nvar Sugar = require('sugar-core');\n\nrequire('../date/build/buildNumberUnitMethodsCall');\n\nmodule.exports = Sugar.Number.millisecondsAgo;","'use strict';\n\nvar Sugar = require('sugar-core');\n\nrequire('../date/build/buildNumberUnitMethodsCall');\n\nmodule.exports = Sugar.Number.millisecondsBefore;","'use strict';\n\nvar Sugar = require('sugar-core');\n\nrequire('../date/build/buildNumberUnitMethodsCall');\n\nmodule.exports = Sugar.Number.millisecondsFromNow;","'use strict';\n\nvar Sugar = require('sugar-core');\n\nrequire('../date/build/buildNumberUnitMethodsCall');\n\nmodule.exports = Sugar.Number.minute;","'use strict';\n\nvar Sugar = require('sugar-core');\n\nrequire('../date/build/buildNumberUnitMethodsCall');\n\nmodule.exports = Sugar.Number.minuteAfter;","'use strict';\n\nvar Sugar = require('sugar-core');\n\nrequire('../date/build/buildNumberUnitMethodsCall');\n\nmodule.exports = Sugar.Number.minuteAgo;","'use strict';\n\nvar Sugar = require('sugar-core');\n\nrequire('../date/build/buildNumberUnitMethodsCall');\n\nmodule.exports = Sugar.Number.minuteBefore;","'use strict';\n\nvar Sugar = require('sugar-core');\n\nrequire('../date/build/buildNumberUnitMethodsCall');\n\nmodule.exports = Sugar.Number.minuteFromNow;","'use strict';\n\nvar Sugar = require('sugar-core');\n\nrequire('../date/build/buildNumberUnitMethodsCall');\n\nmodule.exports = Sugar.Number.minutes;","'use strict';\n\nvar Sugar = require('sugar-core');\n\nrequire('../date/build/buildNumberUnitMethodsCall');\n\nmodule.exports = Sugar.Number.minutesAfter;","'use strict';\n\nvar Sugar = require('sugar-core');\n\nrequire('../date/build/buildNumberUnitMethodsCall');\n\nmodule.exports = Sugar.Number.minutesAgo;","'use strict';\n\nvar Sugar = require('sugar-core');\n\nrequire('../date/build/buildNumberUnitMethodsCall');\n\nmodule.exports = Sugar.Number.minutesBefore;","'use strict';\n\nvar Sugar = require('sugar-core');\n\nrequire('../date/build/buildNumberUnitMethodsCall');\n\nmodule.exports = Sugar.Number.minutesFromNow;","'use strict';\n\nvar Sugar = require('sugar-core');\n\nrequire('../date/build/buildNumberUnitMethodsCall');\n\nmodule.exports = Sugar.Number.month;","'use strict';\n\nvar Sugar = require('sugar-core');\n\nrequire('../date/build/buildNumberUnitMethodsCall');\n\nmodule.exports = Sugar.Number.monthAfter;","'use strict';\n\nvar Sugar = require('sugar-core');\n\nrequire('../date/build/buildNumberUnitMethodsCall');\n\nmodule.exports = Sugar.Number.monthAgo;","'use strict';\n\nvar Sugar = require('sugar-core');\n\nrequire('../date/build/buildNumberUnitMethodsCall');\n\nmodule.exports = Sugar.Number.monthBefore;","'use strict';\n\nvar Sugar = require('sugar-core');\n\nrequire('../date/build/buildNumberUnitMethodsCall');\n\nmodule.exports = Sugar.Number.monthFromNow;","'use strict';\n\nvar Sugar = require('sugar-core');\n\nrequire('../date/build/buildNumberUnitMethodsCall');\n\nmodule.exports = Sugar.Number.months;","'use strict';\n\nvar Sugar = require('sugar-core');\n\nrequire('../date/build/buildNumberUnitMethodsCall');\n\nmodule.exports = Sugar.Number.monthsAfter;","'use strict';\n\nvar Sugar = require('sugar-core');\n\nrequire('../date/build/buildNumberUnitMethodsCall');\n\nmodule.exports = Sugar.Number.monthsAgo;","'use strict';\n\nvar Sugar = require('sugar-core');\n\nrequire('../date/build/buildNumberUnitMethodsCall');\n\nmodule.exports = Sugar.Number.monthsBefore;","'use strict';\n\nvar Sugar = require('sugar-core');\n\nrequire('../date/build/buildNumberUnitMethodsCall');\n\nmodule.exports = Sugar.Number.monthsFromNow;","'use strict';\n\nvar Sugar = require('sugar-core');\n\nrequire('../date/build/buildNumberUnitMethodsCall');\n\nmodule.exports = Sugar.Number.second;","'use strict';\n\nvar Sugar = require('sugar-core');\n\nrequire('../date/build/buildNumberUnitMethodsCall');\n\nmodule.exports = Sugar.Number.secondAfter;","'use strict';\n\nvar Sugar = require('sugar-core');\n\nrequire('../date/build/buildNumberUnitMethodsCall');\n\nmodule.exports = Sugar.Number.secondAgo;","'use strict';\n\nvar Sugar = require('sugar-core');\n\nrequire('../date/build/buildNumberUnitMethodsCall');\n\nmodule.exports = Sugar.Number.secondBefore;","'use strict';\n\nvar Sugar = require('sugar-core');\n\nrequire('../date/build/buildNumberUnitMethodsCall');\n\nmodule.exports = Sugar.Number.secondFromNow;","'use strict';\n\nvar Sugar = require('sugar-core');\n\nrequire('../date/build/buildNumberUnitMethodsCall');\n\nmodule.exports = Sugar.Number.seconds;","'use strict';\n\nvar Sugar = require('sugar-core');\n\nrequire('../date/build/buildNumberUnitMethodsCall');\n\nmodule.exports = Sugar.Number.secondsAfter;","'use strict';\n\nvar Sugar = require('sugar-core');\n\nrequire('../date/build/buildNumberUnitMethodsCall');\n\nmodule.exports = Sugar.Number.secondsAgo;","'use strict';\n\nvar Sugar = require('sugar-core');\n\nrequire('../date/build/buildNumberUnitMethodsCall');\n\nmodule.exports = Sugar.Number.secondsBefore;","'use strict';\n\nvar Sugar = require('sugar-core');\n\nrequire('../date/build/buildNumberUnitMethodsCall');\n\nmodule.exports = Sugar.Number.secondsFromNow;","'use strict';\n\nvar Sugar = require('sugar-core');\n\nrequire('../date/build/buildNumberUnitMethodsCall');\n\nmodule.exports = Sugar.Number.week;","'use strict';\n\nvar Sugar = require('sugar-core');\n\nrequire('../date/build/buildNumberUnitMethodsCall');\n\nmodule.exports = Sugar.Number.weekAfter;","'use strict';\n\nvar Sugar = require('sugar-core');\n\nrequire('../date/build/buildNumberUnitMethodsCall');\n\nmodule.exports = Sugar.Number.weekAgo;","'use strict';\n\nvar Sugar = require('sugar-core');\n\nrequire('../date/build/buildNumberUnitMethodsCall');\n\nmodule.exports = Sugar.Number.weekBefore;","'use strict';\n\nvar Sugar = require('sugar-core');\n\nrequire('../date/build/buildNumberUnitMethodsCall');\n\nmodule.exports = Sugar.Number.weekFromNow;","'use strict';\n\nvar Sugar = require('sugar-core');\n\nrequire('../date/build/buildNumberUnitMethodsCall');\n\nmodule.exports = Sugar.Number.weeks;","'use strict';\n\nvar Sugar = require('sugar-core');\n\nrequire('../date/build/buildNumberUnitMethodsCall');\n\nmodule.exports = Sugar.Number.weeksAfter;","'use strict';\n\nvar Sugar = require('sugar-core');\n\nrequire('../date/build/buildNumberUnitMethodsCall');\n\nmodule.exports = Sugar.Number.weeksAgo;","'use strict';\n\nvar Sugar = require('sugar-core');\n\nrequire('../date/build/buildNumberUnitMethodsCall');\n\nmodule.exports = Sugar.Number.weeksBefore;","'use strict';\n\nvar Sugar = require('sugar-core');\n\nrequire('../date/build/buildNumberUnitMethodsCall');\n\nmodule.exports = Sugar.Number.weeksFromNow;","'use strict';\n\nvar Sugar = require('sugar-core');\n\nrequire('../date/build/buildNumberUnitMethodsCall');\n\nmodule.exports = Sugar.Number.year;","'use strict';\n\nvar Sugar = require('sugar-core');\n\nrequire('../date/build/buildNumberUnitMethodsCall');\n\nmodule.exports = Sugar.Number.yearAfter;","'use strict';\n\nvar Sugar = require('sugar-core');\n\nrequire('../date/build/buildNumberUnitMethodsCall');\n\nmodule.exports = Sugar.Number.yearAgo;","'use strict';\n\nvar Sugar = require('sugar-core');\n\nrequire('../date/build/buildNumberUnitMethodsCall');\n\nmodule.exports = Sugar.Number.yearBefore;","'use strict';\n\nvar Sugar = require('sugar-core');\n\nrequire('../date/build/buildNumberUnitMethodsCall');\n\nmodule.exports = Sugar.Number.yearFromNow;","'use strict';\n\nvar Sugar = require('sugar-core');\n\nrequire('../date/build/buildNumberUnitMethodsCall');\n\nmodule.exports = Sugar.Number.years;","'use strict';\n\nvar Sugar = require('sugar-core');\n\nrequire('../date/build/buildNumberUnitMethodsCall');\n\nmodule.exports = Sugar.Number.yearsAfter;","'use strict';\n\nvar Sugar = require('sugar-core');\n\nrequire('../date/build/buildNumberUnitMethodsCall');\n\nmodule.exports = Sugar.Number.yearsAgo;","'use strict';\n\nvar Sugar = require('sugar-core');\n\nrequire('../date/build/buildNumberUnitMethodsCall');\n\nmodule.exports = Sugar.Number.yearsBefore;","'use strict';\n\nvar Sugar = require('sugar-core');\n\nrequire('../date/build/buildNumberUnitMethodsCall');\n\nmodule.exports = Sugar.Number.yearsFromNow;","'use strict';\n\nvar MINUTES = require('../var/MINUTES'),\n    DateUnits = require('../var/DateUnits'),\n    DateUnitIndexes = require('../var/DateUnitIndexes'),\n    _utc = require('../../common/var/_utc'),\n    tzOffset = require('./tzOffset'),\n    cloneDate = require('./cloneDate'),\n    isDefined = require('../../common/internal/isDefined'),\n    advanceDate = require('./advanceDate'),\n    dateIsValid = require('./dateIsValid'),\n    moveToEndOfUnit = require('./moveToEndOfUnit'),\n    getExtendedDate = require('./getExtendedDate'),\n    moveToBeginningOfUnit = require('./moveToBeginningOfUnit');\n\nvar MONTH_INDEX = DateUnitIndexes.MONTH_INDEX;\n\nfunction compareDate(date, d, margin, localeCode, options) {\n  var loMargin = 0, hiMargin = 0, timezoneShift, compareEdges, override, min, max, p, t;\n\n  function getTimezoneShift() {\n    // If there is any specificity in the date then we're implicitly not\n    // checking absolute time, so ignore timezone shifts.\n    if (p.set && p.set.specificity) {\n      return 0;\n    }\n    return (tzOffset(p.date) - tzOffset(date)) * MINUTES;\n  }\n\n  function addSpecificUnit() {\n    var unit = DateUnits[p.set.specificity];\n    return advanceDate(cloneDate(p.date), unit.name, 1).getTime() - 1;\n  }\n\n  if (_utc(date)) {\n    options = options || {};\n    options.fromUTC = true;\n    options.setUTC = true;\n  }\n\n  p = getExtendedDate(null, d, options, true);\n\n  if (margin > 0) {\n    loMargin = hiMargin = margin;\n    override = true;\n  }\n  if (!dateIsValid(p.date)) return false;\n  if (p.set && p.set.specificity) {\n    if (isDefined(p.set.edge) || isDefined(p.set.shift)) {\n      compareEdges = true;\n      moveToBeginningOfUnit(p.date, p.set.specificity, localeCode);\n    }\n    if (compareEdges || p.set.specificity === MONTH_INDEX) {\n      max = moveToEndOfUnit(cloneDate(p.date), p.set.specificity, localeCode).getTime();\n    } else {\n      max = addSpecificUnit();\n    }\n    if (!override && isDefined(p.set.sign) && p.set.specificity) {\n      // If the time is relative, there can occasionally be an disparity between\n      // the relative date and \"now\", which it is being compared to, so set an\n      // extra margin to account for this.\n      loMargin = 50;\n      hiMargin = -50;\n    }\n  }\n  t   = date.getTime();\n  min = p.date.getTime();\n  max = max || min;\n  timezoneShift = getTimezoneShift();\n  // istanbul ignore if\n  if (timezoneShift) {\n    min -= timezoneShift;\n    max -= timezoneShift;\n  }\n  return t >= (min - loMargin) && t <= (max + hiMargin);\n}\n\nmodule.exports = compareDate;","'use strict';\n\nfunction simpleCapitalize(str) {\n  return str.charAt(0).toUpperCase() + str.slice(1);\n}\n\nmodule.exports = simpleCapitalize;","'use strict';\n\nvar trunc = require('../../common/var/trunc'),\n    cloneDate = require('./cloneDate'),\n    advanceDate = require('./advanceDate');\n\nfunction getTimeDistanceForUnit(d1, d2, unit) {\n  var fwd = d2 > d1, num, tmp;\n  if (!fwd) {\n    tmp = d2;\n    d2  = d1;\n    d1  = tmp;\n  }\n  num = d2 - d1;\n  if (unit.multiplier > 1) {\n    num = trunc(num / unit.multiplier);\n  }\n  // For higher order with potential ambiguity, use the numeric calculation\n  // as a starting point, then iterate until we pass the target date. Decrement\n  // starting point by 1 to prevent overshooting the date due to inconsistencies\n  // in ambiguous units numerically. For example, calculating the number of days\n  // from the beginning of the year to August 5th at 11:59:59 by doing a simple\n  // d2 - d1 will produce different results depending on whether or not a\n  // timezone shift was encountered due to DST, however that should not have an\n  // effect on our calculation here, so subtract by 1 to ensure that the\n  // starting point has not already overshot our target date.\n  if (unit.ambiguous) {\n    d1 = cloneDate(d1);\n    if (num) {\n      num -= 1;\n      advanceDate(d1, unit.name, num);\n    }\n    while (d1 < d2) {\n      advanceDate(d1, unit.name, 1);\n      if (d1 > d2) {\n        break;\n      }\n      num += 1;\n    }\n  }\n  return fwd ? -num : num;\n}\n\nmodule.exports = getTimeDistanceForUnit;","'use strict';\n\nvar DateUnits = require('../var/DateUnits'),\n    DateUnitIndexes = require('../var/DateUnitIndexes'),\n    forEach = require('../../common/internal/forEach'),\n    createDate = require('./createDate'),\n    compareDate = require('./compareDate'),\n    advanceDate = require('./advanceDate'),\n    moveToEndOfUnit = require('./moveToEndOfUnit'),\n    namespaceAliases = require('../../common/var/namespaceAliases'),\n    simpleCapitalize = require('../../common/internal/simpleCapitalize'),\n    moveToBeginningOfUnit = require('./moveToBeginningOfUnit'),\n    defineInstanceSimilar = require('../../common/internal/defineInstanceSimilar'),\n    getTimeDistanceForUnit = require('./getTimeDistanceForUnit');\n\nvar sugarDate = namespaceAliases.sugarDate,\n    HOURS_INDEX = DateUnitIndexes.HOURS_INDEX,\n    DAY_INDEX = DateUnitIndexes.DAY_INDEX;\n\nfunction buildDateUnitMethods() {\n\n  defineInstanceSimilar(sugarDate, DateUnits, function(methods, unit, index) {\n    var name = unit.name, caps = simpleCapitalize(name);\n\n    if (index > DAY_INDEX) {\n      forEach(['Last','This','Next'], function(shift) {\n        methods['is' + shift + caps] = function(d, localeCode) {\n          return compareDate(d, shift + ' ' + name, 0, localeCode, { locale: 'en' });\n        };\n      });\n    }\n    if (index > HOURS_INDEX) {\n      methods['beginningOf' + caps] = function(d, localeCode) {\n        return moveToBeginningOfUnit(d, index, localeCode);\n      };\n      methods['endOf' + caps] = function(d, localeCode) {\n        return moveToEndOfUnit(d, index, localeCode);\n      };\n    }\n\n    methods['add' + caps + 's'] = function(d, num, reset) {\n      return advanceDate(d, name, num, reset);\n    };\n\n    var since = function(date, d, options) {\n      return getTimeDistanceForUnit(date, createDate(d, options, true), unit);\n    };\n    var until = function(date, d, options) {\n      return getTimeDistanceForUnit(createDate(d, options, true), date, unit);\n    };\n\n    methods[name + 'sAgo']   = methods[name + 'sUntil']   = until;\n    methods[name + 'sSince'] = methods[name + 'sFromNow'] = since;\n\n  });\n\n}\n\nmodule.exports = buildDateUnitMethods;","'use strict';\n\nvar buildDateUnitMethods = require('../internal/buildDateUnitMethods');\n\nbuildDateUnitMethods();","'use strict';\n\nvar Sugar = require('sugar-core');\n\nrequire('./build/buildDateUnitMethodsCall');\n\nmodule.exports = Sugar.Date.addDays;","'use strict';\n\nvar Sugar = require('sugar-core');\n\nrequire('./build/buildDateUnitMethodsCall');\n\nmodule.exports = Sugar.Date.addHours;","'use strict';\n\nvar Sugar = require('sugar-core');\n\nrequire('./build/buildDateUnitMethodsCall');\n\nmodule.exports = Sugar.Date.addMilliseconds;","'use strict';\n\nvar Sugar = require('sugar-core');\n\nrequire('./build/buildDateUnitMethodsCall');\n\nmodule.exports = Sugar.Date.addMinutes;","'use strict';\n\nvar Sugar = require('sugar-core');\n\nrequire('./build/buildDateUnitMethodsCall');\n\nmodule.exports = Sugar.Date.addMonths;","'use strict';\n\nvar Sugar = require('sugar-core');\n\nrequire('./build/buildDateUnitMethodsCall');\n\nmodule.exports = Sugar.Date.addSeconds;","'use strict';\n\nvar Sugar = require('sugar-core');\n\nrequire('./build/buildDateUnitMethodsCall');\n\nmodule.exports = Sugar.Date.addWeeks;","'use strict';\n\nvar Sugar = require('sugar-core');\n\nrequire('./build/buildDateUnitMethodsCall');\n\nmodule.exports = Sugar.Date.addYears;","'use strict';\n\nvar isUndefined = require('../../common/internal/isUndefined');\n\nfunction getDateParamsFromString(str) {\n  var match, num, params = {};\n  match = str.match(/^(-?\\d*[\\d.]\\d*)?\\s?(\\w+?)s?$/i);\n  if (match) {\n    if (isUndefined(num)) {\n      num = match[1] ? +match[1] : 1;\n    }\n    params[match[2].toLowerCase()] = num;\n  }\n  return params;\n}\n\nmodule.exports = getDateParamsFromString;","'use strict';\n\nvar DateUnitIndexes = require('../var/DateUnitIndexes'),\n    isDefined = require('../../common/internal/isDefined'),\n    walkUnitDown = require('./walkUnitDown');\n\nvar YEAR_INDEX = DateUnitIndexes.YEAR_INDEX;\n\nfunction collectDateParamsFromArguments(args) {\n  var params = {}, index = 0;\n  walkUnitDown(YEAR_INDEX, function(unit) {\n    var arg = args[index++];\n    if (isDefined(arg)) {\n      params[unit.name] = arg;\n    }\n  });\n  return params;\n}\n\nmodule.exports = collectDateParamsFromArguments;","'use strict';\n\nvar classChecks = require('../../common/var/classChecks'),\n    simpleClone = require('../../common/internal/simpleClone'),\n    isObjectType = require('../../common/internal/isObjectType'),\n    getDateParamsFromString = require('./getDateParamsFromString'),\n    collectDateParamsFromArguments = require('./collectDateParamsFromArguments');\n\nvar isNumber = classChecks.isNumber,\n    isString = classChecks.isString;\n\nfunction collectUpdateDateArguments(args, allowDuration) {\n  var arg1 = args[0], arg2 = args[1], params, reset;\n  if (allowDuration && isString(arg1)) {\n    params = getDateParamsFromString(arg1);\n    reset  = arg2;\n  } else if (isNumber(arg1) && isNumber(arg2)) {\n    params = collectDateParamsFromArguments(args);\n  } else {\n    params = isObjectType(arg1) ? simpleClone(arg1) : arg1;\n    reset  = arg2;\n  }\n  return [params, reset];\n}\n\nmodule.exports = collectUpdateDateArguments;","'use strict';\n\nvar updateDate = require('./updateDate'),\n    collectUpdateDateArguments = require('./collectUpdateDateArguments');\n\nfunction advanceDateWithArgs(d, args, dir) {\n  args = collectUpdateDateArguments(args, true);\n  return updateDate(d, args[0], args[1], dir);\n}\n\nmodule.exports = advanceDateWithArgs;","'use strict';\n\nvar Sugar = require('sugar-core'),\n    advanceDateWithArgs = require('./internal/advanceDateWithArgs');\n\nSugar.Date.defineInstanceWithArguments({\n\n  'advance': function(d, args) {\n    return advanceDateWithArgs(d, args, 1);\n  }\n\n});\n\nmodule.exports = Sugar.Date.advance;","'use strict';\n\nvar Sugar = require('sugar-core');\n\nrequire('./build/buildDateUnitMethodsCall');\n\nmodule.exports = Sugar.Date.beginningOfDay;","'use strict';\n\nvar Sugar = require('sugar-core'),\n    resetTime = require('./internal/resetTime'),\n    getWeekday = require('./internal/getWeekday'),\n    setWeekday = require('./internal/setWeekday');\n\nSugar.Date.defineInstance({\n\n  'beginningOfISOWeek': function(date) {\n    var day = getWeekday(date);\n    if (day === 0) {\n      day = -6;\n    } else if (day !== 1) {\n      day = 1;\n    }\n    setWeekday(date, day);\n    return resetTime(date);\n  }\n\n});\n\nmodule.exports = Sugar.Date.beginningOfISOWeek;","'use strict';\n\nvar Sugar = require('sugar-core');\n\nrequire('./build/buildDateUnitMethodsCall');\n\nmodule.exports = Sugar.Date.beginningOfMonth;","'use strict';\n\nvar Sugar = require('sugar-core');\n\nrequire('./build/buildDateUnitMethodsCall');\n\nmodule.exports = Sugar.Date.beginningOfWeek;","'use strict';\n\nvar Sugar = require('sugar-core');\n\nrequire('./build/buildDateUnitMethodsCall');\n\nmodule.exports = Sugar.Date.beginningOfYear;","'use strict';\n\nvar Sugar = require('sugar-core'),\n    cloneDate = require('./internal/cloneDate');\n\nSugar.Date.defineInstance({\n\n  'clone': function(date) {\n    return cloneDate(date);\n  }\n\n});\n\nmodule.exports = Sugar.Date.clone;","'use strict';\n\nvar Sugar = require('sugar-core');\n\nrequire('./build/buildDateUnitMethodsCall');\n\nmodule.exports = Sugar.Date.daysAgo;","'use strict';\n\nvar Sugar = require('sugar-core');\n\nrequire('./build/buildDateUnitMethodsCall');\n\nmodule.exports = Sugar.Date.daysFromNow;","'use strict';\n\nvar Sugar = require('sugar-core'),\n    getDaysInMonth = require('./internal/getDaysInMonth');\n\nSugar.Date.defineInstance({\n\n  'daysInMonth': function(date) {\n    return getDaysInMonth(date);\n  }\n\n});\n\nmodule.exports = Sugar.Date.daysInMonth;","'use strict';\n\nvar Sugar = require('sugar-core');\n\nrequire('./build/buildDateUnitMethodsCall');\n\nmodule.exports = Sugar.Date.daysSince;","'use strict';\n\nvar Sugar = require('sugar-core');\n\nrequire('./build/buildDateUnitMethodsCall');\n\nmodule.exports = Sugar.Date.daysUntil;","'use strict';\n\nvar Sugar = require('sugar-core');\n\nrequire('./build/buildDateUnitMethodsCall');\n\nmodule.exports = Sugar.Date.endOfDay;","'use strict';\n\nvar Sugar = require('sugar-core'),\n    DateUnitIndexes = require('./var/DateUnitIndexes'),\n    getWeekday = require('./internal/getWeekday'),\n    setWeekday = require('./internal/setWeekday'),\n    moveToEndOfUnit = require('./internal/moveToEndOfUnit');\n\nvar DAY_INDEX = DateUnitIndexes.DAY_INDEX;\n\nSugar.Date.defineInstance({\n\n  'endOfISOWeek': function(date) {\n    if (getWeekday(date) !== 0) {\n      setWeekday(date, 7);\n    }\n    return moveToEndOfUnit(date, DAY_INDEX);\n  }\n\n});\n\nmodule.exports = Sugar.Date.endOfISOWeek;","'use strict';\n\nvar Sugar = require('sugar-core');\n\nrequire('./build/buildDateUnitMethodsCall');\n\nmodule.exports = Sugar.Date.endOfMonth;","'use strict';\n\nvar Sugar = require('sugar-core');\n\nrequire('./build/buildDateUnitMethodsCall');\n\nmodule.exports = Sugar.Date.endOfWeek;","'use strict';\n\nvar Sugar = require('sugar-core');\n\nrequire('./build/buildDateUnitMethodsCall');\n\nmodule.exports = Sugar.Date.endOfYear;","'use strict';\n\nvar CoreOutputFormats = {\n  'ISO8601': '{yyyy}-{MM}-{dd}T{HH}:{mm}:{ss}.{SSS}{Z}',\n  'RFC1123': '{Dow}, {dd} {Mon} {yyyy} {HH}:{mm}:{ss} {ZZ}',\n  'RFC1036': '{Weekday}, {dd}-{Mon}-{yy} {HH}:{mm}:{ss} {ZZ}'\n};\n\nmodule.exports = CoreOutputFormats;","'use strict';\n\nmodule.exports = /\\(([-+]\\d{2,4}|\\w{3,5})\\)$/;","'use strict';\n\nvar callDateGet = require('../../common/internal/callDateGet');\n\nfunction getHours(d) {\n  return callDateGet(d, 'Hours');\n}\n\nmodule.exports = getHours;","'use strict';\n\nfunction repeatString(str, num) {\n  var result = '';\n  str = str.toString();\n  while (num > 0) {\n    if (num & 1) {\n      result += str;\n    }\n    if (num >>= 1) {\n      str += str;\n    }\n  }\n  return result;\n}\n\nmodule.exports = repeatString;","'use strict';\n\nvar mathAliases = require('../var/mathAliases'),\n    repeatString = require('./repeatString');\n\nvar abs = mathAliases.abs;\n\nfunction padNumber(num, place, sign, base, replacement) {\n  var str = abs(num).toString(base || 10);\n  str = repeatString(replacement || '0', place - str.replace(/\\.\\d+/, '').length) + str;\n  if (sign || num < 0) {\n    str = (num < 0 ? '-' : '+') + str;\n  }\n  return str;\n}\n\nmodule.exports = padNumber;","'use strict';\n\nvar ISODefaults = require('../var/ISODefaults'),\n    setDate = require('./setDate'),\n    getDate = require('./getDate'),\n    cloneDate = require('./cloneDate'),\n    isUndefined = require('../../common/internal/isUndefined'),\n    moveToEndOfWeek = require('./moveToEndOfWeek'),\n    moveToBeginningOfWeek = require('./moveToBeginningOfWeek'),\n    moveToFirstDayOfWeekYear = require('./moveToFirstDayOfWeekYear');\n\nvar ISO_FIRST_DAY_OF_WEEK = ISODefaults.ISO_FIRST_DAY_OF_WEEK,\n    ISO_FIRST_DAY_OF_WEEK_YEAR = ISODefaults.ISO_FIRST_DAY_OF_WEEK_YEAR;\n\nfunction getWeekNumber(d, allowPrevious, firstDayOfWeek, firstDayOfWeekYear) {\n  var isoWeek, n = 0;\n  if (isUndefined(firstDayOfWeek)) {\n    firstDayOfWeek = ISO_FIRST_DAY_OF_WEEK;\n  }\n  if (isUndefined(firstDayOfWeekYear)) {\n    firstDayOfWeekYear = ISO_FIRST_DAY_OF_WEEK_YEAR;\n  }\n  // Moving to the end of the week allows for forward year traversal, ie\n  // Dec 29 2014 is actually week 01 of 2015.\n  isoWeek = moveToEndOfWeek(cloneDate(d), firstDayOfWeek);\n  moveToFirstDayOfWeekYear(isoWeek, firstDayOfWeek, firstDayOfWeekYear);\n  if (allowPrevious && d < isoWeek) {\n    // If the date is still before the start of the year, then it should be\n    // the last week of the previous year, ie Jan 1 2016 is actually week 53\n    // of 2015, so move to the beginning of the week to traverse the year.\n    isoWeek = moveToBeginningOfWeek(cloneDate(d), firstDayOfWeek);\n    moveToFirstDayOfWeekYear(isoWeek, firstDayOfWeek, firstDayOfWeekYear);\n  }\n  while (isoWeek <= d) {\n    // Doing a very simple walk to get the week number.\n    setDate(isoWeek, getDate(isoWeek) + 7);\n    n++;\n  }\n  return n;\n}\n\nmodule.exports = getWeekNumber;","'use strict';\n\nvar LocaleHelpers = require('../var/LocaleHelpers'),\n    getYear = require('./getYear'),\n    getMonth = require('./getMonth'),\n    getWeekNumber = require('./getWeekNumber');\n\nvar localeManager = LocaleHelpers.localeManager;\n\nfunction getWeekYear(d, localeCode, iso) {\n  var year, month, firstDayOfWeek, firstDayOfWeekYear, week, loc;\n  year = getYear(d);\n  month = getMonth(d);\n  if (month === 0 || month === 11) {\n    if (!iso) {\n      loc = localeManager.get(localeCode);\n      firstDayOfWeek = loc.getFirstDayOfWeek(localeCode);\n      firstDayOfWeekYear = loc.getFirstDayOfWeekYear(localeCode);\n    }\n    week = getWeekNumber(d, false, firstDayOfWeek, firstDayOfWeekYear);\n    if (month === 0 && week === 0) {\n      year -= 1;\n    } else if (month === 11 && week === 1) {\n      year += 1;\n    }\n  }\n  return year;\n}\n\nmodule.exports = getWeekYear;","'use strict';\n\nvar _utc = require('../../common/var/_utc'),\n    trunc = require('../../common/var/trunc'),\n    tzOffset = require('./tzOffset'),\n    padNumber = require('../../common/internal/padNumber'),\n    mathAliases = require('../../common/var/mathAliases');\n\nvar abs = mathAliases.abs;\n\nfunction getUTCOffset(d, iso) {\n  var offset = _utc(d) ? 0 : tzOffset(d), hours, mins, colon;\n  colon  = iso === true ? ':' : '';\n  if (!offset && iso) return 'Z';\n  hours = padNumber(trunc(-offset / 60), 2, true);\n  mins = padNumber(abs(offset % 60), 2);\n  return  hours + colon + mins;\n}\n\nmodule.exports = getUTCOffset;","'use strict';\n\nvar DateUnits = require('../var/DateUnits'),\n    DateUnitIndexes = require('../var/DateUnitIndexes'),\n    getTimeDistanceForUnit = require('./getTimeDistanceForUnit');\n\nvar DAY_INDEX = DateUnitIndexes.DAY_INDEX;\n\nfunction getDaysSince(d1, d2) {\n  return getTimeDistanceForUnit(d1, d2, DateUnits[DAY_INDEX]);\n}\n\nmodule.exports = getDaysSince;","'use strict';\n\nvar LocaleHelpers = require('../var/LocaleHelpers'),\n    trunc = require('../../common/var/trunc'),\n    getHours = require('./getHours');\n\nvar localeManager = LocaleHelpers.localeManager;\n\nfunction getMeridiemToken(d, localeCode) {\n  var hours = getHours(d);\n  return localeManager.get(localeCode).ampm[trunc(hours / 12)] || '';\n}\n\nmodule.exports = getMeridiemToken;","'use strict';\n\nvar TIMEZONE_ABBREVIATION_REG = require('./TIMEZONE_ABBREVIATION_REG'),\n    LocaleHelpers = require('./LocaleHelpers'),\n    DateUnitIndexes = require('./DateUnitIndexes'),\n    trunc = require('../../common/var/trunc'),\n    getDate = require('../internal/getDate'),\n    getYear = require('../internal/getYear'),\n    getHours = require('../internal/getHours'),\n    getMonth = require('../internal/getMonth'),\n    cloneDate = require('../internal/cloneDate'),\n    padNumber = require('../../common/internal/padNumber'),\n    getWeekday = require('../internal/getWeekday'),\n    callDateGet = require('../../common/internal/callDateGet'),\n    mathAliases = require('../../common/var/mathAliases'),\n    getWeekYear = require('../internal/getWeekYear'),\n    getUTCOffset = require('../internal/getUTCOffset'),\n    getDaysSince = require('../internal/getDaysSince'),\n    getWeekNumber = require('../internal/getWeekNumber'),\n    getMeridiemToken = require('../internal/getMeridiemToken'),\n    setUnitAndLowerToEdge = require('../internal/setUnitAndLowerToEdge');\n\nvar localeManager = LocaleHelpers.localeManager,\n    MONTH_INDEX = DateUnitIndexes.MONTH_INDEX,\n    ceil = mathAliases.ceil;\n\nvar FormatTokensBase = [\n  {\n    ldml: 'Dow',\n    strf: 'a',\n    lowerToken: 'dow',\n    get: function(d, localeCode) {\n      return localeManager.get(localeCode).getWeekdayName(getWeekday(d), 2);\n    }\n  },\n  {\n    ldml: 'Weekday',\n    strf: 'A',\n    lowerToken: 'weekday',\n    allowAlternates: true,\n    get: function(d, localeCode, alternate) {\n      return localeManager.get(localeCode).getWeekdayName(getWeekday(d), alternate);\n    }\n  },\n  {\n    ldml: 'Mon',\n    strf: 'b h',\n    lowerToken: 'mon',\n    get: function(d, localeCode) {\n      return localeManager.get(localeCode).getMonthName(getMonth(d), 2);\n    }\n  },\n  {\n    ldml: 'Month',\n    strf: 'B',\n    lowerToken: 'month',\n    allowAlternates: true,\n    get: function(d, localeCode, alternate) {\n      return localeManager.get(localeCode).getMonthName(getMonth(d), alternate);\n    }\n  },\n  {\n    strf: 'C',\n    get: function(d) {\n      return getYear(d).toString().slice(0, 2);\n    }\n  },\n  {\n    ldml: 'd date day',\n    strf: 'd',\n    strfPadding: 2,\n    ldmlPaddedToken: 'dd',\n    ordinalToken: 'do',\n    get: function(d) {\n      return getDate(d);\n    }\n  },\n  {\n    strf: 'e',\n    get: function(d) {\n      return padNumber(getDate(d), 2, false, 10, ' ');\n    }\n  },\n  {\n    ldml: 'H 24hr',\n    strf: 'H',\n    strfPadding: 2,\n    ldmlPaddedToken: 'HH',\n    get: function(d) {\n      return getHours(d);\n    }\n  },\n  {\n    ldml: 'h hours 12hr',\n    strf: 'I',\n    strfPadding: 2,\n    ldmlPaddedToken: 'hh',\n    get: function(d) {\n      return getHours(d) % 12 || 12;\n    }\n  },\n  {\n    ldml: 'D',\n    strf: 'j',\n    strfPadding: 3,\n    ldmlPaddedToken: 'DDD',\n    get: function(d) {\n      var s = setUnitAndLowerToEdge(cloneDate(d), MONTH_INDEX);\n      return getDaysSince(d, s) + 1;\n    }\n  },\n  {\n    ldml: 'M',\n    strf: 'm',\n    strfPadding: 2,\n    ordinalToken: 'Mo',\n    ldmlPaddedToken: 'MM',\n    get: function(d) {\n      return getMonth(d) + 1;\n    }\n  },\n  {\n    ldml: 'm minutes',\n    strf: 'M',\n    strfPadding: 2,\n    ldmlPaddedToken: 'mm',\n    get: function(d) {\n      return callDateGet(d, 'Minutes');\n    }\n  },\n  {\n    ldml: 'Q',\n    get: function(d) {\n      return ceil((getMonth(d) + 1) / 3);\n    }\n  },\n  {\n    ldml: 'TT',\n    strf: 'p',\n    get: function(d, localeCode) {\n      return getMeridiemToken(d, localeCode);\n    }\n  },\n  {\n    ldml: 'tt',\n    strf: 'P',\n    get: function(d, localeCode) {\n      return getMeridiemToken(d, localeCode).toLowerCase();\n    }\n  },\n  {\n    ldml: 'T',\n    lowerToken: 't',\n    get: function(d, localeCode) {\n      return getMeridiemToken(d, localeCode).charAt(0);\n    }\n  },\n  {\n    ldml: 's seconds',\n    strf: 'S',\n    strfPadding: 2,\n    ldmlPaddedToken: 'ss',\n    get: function(d) {\n      return callDateGet(d, 'Seconds');\n    }\n  },\n  {\n    ldml: 'S ms',\n    strfPadding: 3,\n    ldmlPaddedToken: 'SSS',\n    get: function(d) {\n      return callDateGet(d, 'Milliseconds');\n    }\n  },\n  {\n    ldml: 'e',\n    strf: 'u',\n    ordinalToken: 'eo',\n    get: function(d) {\n      return getWeekday(d) || 7;\n    }\n  },\n  {\n    strf: 'U',\n    strfPadding: 2,\n    get: function(d) {\n      // Sunday first, 0-53\n      return getWeekNumber(d, false, 0);\n    }\n  },\n  {\n    ldml: 'W',\n    strf: 'V',\n    strfPadding: 2,\n    ordinalToken: 'Wo',\n    ldmlPaddedToken: 'WW',\n    get: function(d) {\n      // Monday first, 1-53 (ISO8601)\n      return getWeekNumber(d, true);\n    }\n  },\n  {\n    strf: 'w',\n    get: function(d) {\n      return getWeekday(d);\n    }\n  },\n  {\n    ldml: 'w',\n    ordinalToken: 'wo',\n    ldmlPaddedToken: 'ww',\n    get: function(d, localeCode) {\n      // Locale dependent, 1-53\n      var loc = localeManager.get(localeCode),\n          dow = loc.getFirstDayOfWeek(localeCode),\n          doy = loc.getFirstDayOfWeekYear(localeCode);\n      return getWeekNumber(d, true, dow, doy);\n    }\n  },\n  {\n    strf: 'W',\n    strfPadding: 2,\n    get: function(d) {\n      // Monday first, 0-53\n      return getWeekNumber(d, false);\n    }\n  },\n  {\n    ldmlPaddedToken: 'gggg',\n    ldmlTwoDigitToken: 'gg',\n    get: function(d, localeCode) {\n      return getWeekYear(d, localeCode);\n    }\n  },\n  {\n    strf: 'G',\n    strfPadding: 4,\n    strfTwoDigitToken: 'g',\n    ldmlPaddedToken: 'GGGG',\n    ldmlTwoDigitToken: 'GG',\n    get: function(d, localeCode) {\n      return getWeekYear(d, localeCode, true);\n    }\n  },\n  {\n    ldml: 'year',\n    ldmlPaddedToken: 'yyyy',\n    ldmlTwoDigitToken: 'yy',\n    strf: 'Y',\n    strfPadding: 4,\n    strfTwoDigitToken: 'y',\n    get: function(d) {\n      return getYear(d);\n    }\n  },\n  {\n    ldml: 'ZZ',\n    strf: 'z',\n    get: function(d) {\n      return getUTCOffset(d);\n    }\n  },\n  {\n    ldml: 'X',\n    get: function(d) {\n      return trunc(d.getTime() / 1000);\n    }\n  },\n  {\n    ldml: 'x',\n    get: function(d) {\n      return d.getTime();\n    }\n  },\n  {\n    ldml: 'Z',\n    get: function(d) {\n      return getUTCOffset(d, true);\n    }\n  },\n  {\n    ldml: 'z',\n    strf: 'Z',\n    get: function(d) {\n      // Note that this is not accurate in all browsing environments!\n      // https://github.com/moment/moment/issues/162\n      // It will continue to be supported for Node and usage with the\n      // understanding that it may be blank.\n      var match = d.toString().match(TIMEZONE_ABBREVIATION_REG);\n      // istanbul ignore next\n      return match ? match[1] : '';\n    }\n  },\n  {\n    strf: 'D',\n    alias: '%m/%d/%y'\n  },\n  {\n    strf: 'F',\n    alias: '%Y-%m-%d'\n  },\n  {\n    strf: 'r',\n    alias: '%I:%M:%S %p'\n  },\n  {\n    strf: 'R',\n    alias: '%H:%M'\n  },\n  {\n    strf: 'T',\n    alias: '%H:%M:%S'\n  },\n  {\n    strf: 'x',\n    alias: '{short}'\n  },\n  {\n    strf: 'X',\n    alias: '{time}'\n  },\n  {\n    strf: 'c',\n    alias: '{stamp}'\n  }\n];\n\nmodule.exports = FormatTokensBase;","'use strict';\n\nmodule.exports = /([{}])\\1|{([^}]*)}|(%)%|(%(\\w*))/g;","'use strict';\n\nvar INTERNAL_MEMOIZE_LIMIT = require('../var/INTERNAL_MEMOIZE_LIMIT'),\n    coreUtilityAliases = require('../var/coreUtilityAliases');\n\nvar hasOwn = coreUtilityAliases.hasOwn;\n\nfunction memoizeFunction(fn) {\n  var memo = {}, counter = 0;\n\n  return function(key) {\n    if (hasOwn(memo, key)) {\n      return memo[key];\n    }\n    // istanbul ignore if\n    if (counter === INTERNAL_MEMOIZE_LIMIT) {\n      memo = {};\n      counter = 0;\n    }\n    counter++;\n    return memo[key] = fn(key);\n  };\n}\n\nmodule.exports = memoizeFunction;","'use strict';\n\nmodule.exports = 1000;","'use strict';\n\nvar STRING_FORMAT_REG = require('../var/STRING_FORMAT_REG'),\n    CommonChars = require('../var/CommonChars'),\n    memoizeFunction = require('./memoizeFunction');\n\nvar OPEN_BRACE = CommonChars.OPEN_BRACE,\n    CLOSE_BRACE = CommonChars.CLOSE_BRACE;\n\nfunction createFormatMatcher(bracketMatcher, percentMatcher, precheck) {\n\n  var reg = STRING_FORMAT_REG;\n  var compileMemoized = memoizeFunction(compile);\n\n  function getToken(format, match) {\n    var get, token, literal, fn;\n    var bKey = match[2];\n    var pLit = match[3];\n    var pKey = match[5];\n    if (match[4] && percentMatcher) {\n      token = pKey;\n      get = percentMatcher;\n    } else if (bKey) {\n      token = bKey;\n      get = bracketMatcher;\n    } else if (pLit && percentMatcher) {\n      literal = pLit;\n    } else {\n      literal = match[1] || match[0];\n    }\n    if (get) {\n      assertPassesPrecheck(precheck, bKey, pKey);\n      fn = function(obj, opt) {\n        return get(obj, token, opt);\n      };\n    }\n    format.push(fn || getLiteral(literal));\n  }\n\n  function getSubstring(format, str, start, end) {\n    if (end > start) {\n      var sub = str.slice(start, end);\n      assertNoUnmatched(sub, OPEN_BRACE);\n      assertNoUnmatched(sub, CLOSE_BRACE);\n      format.push(function() {\n        return sub;\n      });\n    }\n  }\n\n  function getLiteral(str) {\n    return function() {\n      return str;\n    };\n  }\n\n  function assertPassesPrecheck(precheck, bt, pt) {\n    if (precheck && !precheck(bt, pt)) {\n      throw new TypeError('Invalid token '+ (bt || pt) +' in format string');\n    }\n  }\n\n  function assertNoUnmatched(str, chr) {\n    if (str.indexOf(chr) !== -1) {\n      throw new TypeError('Unmatched '+ chr +' in format string');\n    }\n  }\n\n  function compile(str) {\n    var format = [], lastIndex = 0, match;\n    reg.lastIndex = 0;\n    while(match = reg.exec(str)) {\n      getSubstring(format, str, lastIndex, match.index);\n      getToken(format, match);\n      lastIndex = reg.lastIndex;\n    }\n    getSubstring(format, str, lastIndex, str.length);\n    return format;\n  }\n\n  return function(str, obj, opt) {\n    var format = compileMemoized(str), result = '';\n    for (var i = 0; i < format.length; i++) {\n      result += format[i](obj, opt);\n    }\n    return result;\n  };\n}\n\nmodule.exports = createFormatMatcher;","'use strict';\n\nvar LocaleHelpers = require('./LocaleHelpers'),\n    FormatTokensBase = require('./FormatTokensBase'),\n    CoreOutputFormats = require('./CoreOutputFormats'),\n    forEach = require('../../common/internal/forEach'),\n    padNumber = require('../../common/internal/padNumber'),\n    spaceSplit = require('../../common/internal/spaceSplit'),\n    namespaceAliases = require('../../common/var/namespaceAliases'),\n    coreUtilityAliases = require('../../common/var/coreUtilityAliases'),\n    createFormatMatcher = require('../../common/internal/createFormatMatcher'),\n    defineInstanceSimilar = require('../../common/internal/defineInstanceSimilar');\n\nvar localeManager = LocaleHelpers.localeManager,\n    hasOwn = coreUtilityAliases.hasOwn,\n    getOwn = coreUtilityAliases.getOwn,\n    forEachProperty = coreUtilityAliases.forEachProperty,\n    sugarDate = namespaceAliases.sugarDate;\n\nvar ldmlTokens, strfTokens;\n\nfunction buildDateFormatTokens() {\n\n  function addFormats(target, tokens, fn) {\n    if (tokens) {\n      forEach(spaceSplit(tokens), function(token) {\n        target[token] = fn;\n      });\n    }\n  }\n\n  function buildLowercase(get) {\n    return function(d, localeCode) {\n      return get(d, localeCode).toLowerCase();\n    };\n  }\n\n  function buildOrdinal(get) {\n    return function(d, localeCode) {\n      var n = get(d, localeCode);\n      return n + localeManager.get(localeCode).getOrdinal(n);\n    };\n  }\n\n  function buildPadded(get, padding) {\n    return function(d, localeCode) {\n      return padNumber(get(d, localeCode), padding);\n    };\n  }\n\n  function buildTwoDigits(get) {\n    return function(d, localeCode) {\n      return get(d, localeCode) % 100;\n    };\n  }\n\n  function buildAlias(alias) {\n    return function(d, localeCode) {\n      return dateFormatMatcher(alias, d, localeCode);\n    };\n  }\n\n  function buildAlternates(f) {\n    for (var n = 1; n <= 5; n++) {\n      buildAlternate(f, n);\n    }\n  }\n\n  function buildAlternate(f, n) {\n    var alternate = function(d, localeCode) {\n      return f.get(d, localeCode, n);\n    };\n    addFormats(ldmlTokens, f.ldml + n, alternate);\n    if (f.lowerToken) {\n      ldmlTokens[f.lowerToken + n] = buildLowercase(alternate);\n    }\n  }\n\n  function getIdentityFormat(name) {\n    return function(d, localeCode) {\n      var loc = localeManager.get(localeCode);\n      return dateFormatMatcher(loc[name], d, localeCode);\n    };\n  }\n\n  ldmlTokens = {};\n  strfTokens = {};\n\n  forEach(FormatTokensBase, function(f) {\n    var get = f.get, getPadded;\n    if (f.lowerToken) {\n      ldmlTokens[f.lowerToken] = buildLowercase(get);\n    }\n    if (f.ordinalToken) {\n      ldmlTokens[f.ordinalToken] = buildOrdinal(get, f);\n    }\n    if (f.ldmlPaddedToken) {\n      ldmlTokens[f.ldmlPaddedToken] = buildPadded(get, f.ldmlPaddedToken.length);\n    }\n    if (f.ldmlTwoDigitToken) {\n      ldmlTokens[f.ldmlTwoDigitToken] = buildPadded(buildTwoDigits(get), 2);\n    }\n    if (f.strfTwoDigitToken) {\n      strfTokens[f.strfTwoDigitToken] = buildPadded(buildTwoDigits(get), 2);\n    }\n    if (f.strfPadding) {\n      getPadded = buildPadded(get, f.strfPadding);\n    }\n    if (f.alias) {\n      get = buildAlias(f.alias);\n    }\n    if (f.allowAlternates) {\n      buildAlternates(f);\n    }\n    addFormats(ldmlTokens, f.ldml, get);\n    addFormats(strfTokens, f.strf, getPadded || get);\n  });\n\n  forEachProperty(CoreOutputFormats, function(src, name) {\n    addFormats(ldmlTokens, name, buildAlias(src));\n  });\n\n  defineInstanceSimilar(sugarDate, 'short medium long full', function(methods, name) {\n    var fn = getIdentityFormat(name);\n    addFormats(ldmlTokens, name, fn);\n    methods[name] = fn;\n  });\n\n  addFormats(ldmlTokens, 'time', getIdentityFormat('time'));\n  addFormats(ldmlTokens, 'stamp', getIdentityFormat('stamp'));\n}\n\nvar dateFormatMatcher;\n\nfunction buildDateFormatMatcher() {\n\n  function getLdml(d, token, localeCode) {\n    return getOwn(ldmlTokens, token)(d, localeCode);\n  }\n\n  function getStrf(d, token, localeCode) {\n    return getOwn(strfTokens, token)(d, localeCode);\n  }\n\n  function checkDateToken(ldml, strf) {\n    return hasOwn(ldmlTokens, ldml) || hasOwn(strfTokens, strf);\n  }\n\n  // Format matcher for LDML or STRF tokens.\n  dateFormatMatcher = createFormatMatcher(getLdml, getStrf, checkDateToken);\n}\n\nbuildDateFormatTokens();\n\nbuildDateFormatMatcher();\n\nmodule.exports = {\n  ldmlTokens: ldmlTokens,\n  strfTokens: strfTokens,\n  dateFormatMatcher: dateFormatMatcher\n};","'use strict';\n\nvar dateIsValid = require('./dateIsValid');\n\nfunction assertDateIsValid(d) {\n  if (!dateIsValid(d)) {\n    throw new TypeError('Date is not valid');\n  }\n}\n\nmodule.exports = assertDateIsValid;","'use strict';\n\nvar CoreOutputFormats = require('../var/CoreOutputFormats'),\n    formattingTokens = require('../var/formattingTokens'),\n    assertDateIsValid = require('./assertDateIsValid');\n\nvar dateFormatMatcher = formattingTokens.dateFormatMatcher;\n\nfunction dateFormat(d, format, localeCode) {\n  assertDateIsValid(d);\n  format = CoreOutputFormats[format] || format || '{long}';\n  return dateFormatMatcher(format, d, localeCode);\n}\n\nmodule.exports = dateFormat;","'use strict';\n\nvar Sugar = require('sugar-core'),\n    dateFormat = require('./internal/dateFormat');\n\nSugar.Date.defineInstance({\n\n  'format': function(date, f, localeCode) {\n    return dateFormat(date, f, localeCode);\n  }\n\n});\n\nmodule.exports = Sugar.Date.format;","'use strict';\n\nvar getExtendedDate = require('./getExtendedDate');\n\nfunction createDateWithContext(contextDate, d, options, forceClone) {\n  return getExtendedDate(contextDate, d, options, forceClone).date;\n}\n\nmodule.exports = createDateWithContext;","'use strict';\n\nvar Sugar = require('sugar-core'),\n    createDateWithContext = require('./internal/createDateWithContext');\n\nSugar.Date.defineInstance({\n\n  'get': function(date, d, options) {\n    return createDateWithContext(date, d, options);\n  }\n\n});\n\nmodule.exports = Sugar.Date.get;","'use strict';\n\nvar Sugar = require('sugar-core'),\n    getWeekNumber = require('./internal/getWeekNumber');\n\nSugar.Date.defineInstance({\n\n  'getISOWeek': function(date) {\n    return getWeekNumber(date, true);\n  }\n\n});\n\nmodule.exports = Sugar.Date.getISOWeek;","'use strict';\n\nvar Sugar = require('sugar-core'),\n    getUTCOffset = require('./internal/getUTCOffset');\n\nSugar.Date.defineInstance({\n\n  'getUTCOffset': function(date, iso) {\n    return getUTCOffset(date, iso);\n  }\n\n});\n\nmodule.exports = Sugar.Date.getUTCOffset;","'use strict';\n\nvar Sugar = require('sugar-core');\n\nSugar.Date.defineInstance({\n\n  'getUTCWeekday': function(date) {\n    return date.getUTCDay();\n  }\n\n});\n\nmodule.exports = Sugar.Date.getUTCWeekday;","'use strict';\n\nvar Sugar = require('sugar-core'),\n    getWeekday = require('./internal/getWeekday');\n\nSugar.Date.defineInstance({\n\n  'getWeekday': function(date) {\n    return getWeekday(date);\n  }\n\n});\n\nmodule.exports = Sugar.Date.getWeekday;","'use strict';\n\nvar Sugar = require('sugar-core');\n\nrequire('./build/buildDateUnitMethodsCall');\n\nmodule.exports = Sugar.Date.hoursAgo;","'use strict';\n\nvar Sugar = require('sugar-core');\n\nrequire('./build/buildDateUnitMethodsCall');\n\nmodule.exports = Sugar.Date.hoursFromNow;","'use strict';\n\nvar Sugar = require('sugar-core');\n\nrequire('./build/buildDateUnitMethodsCall');\n\nmodule.exports = Sugar.Date.hoursSince;","'use strict';\n\nvar Sugar = require('sugar-core');\n\nrequire('./build/buildDateUnitMethodsCall');\n\nmodule.exports = Sugar.Date.hoursUntil;","'use strict';\n\nfunction trim(str) {\n  return str.trim();\n}\n\nmodule.exports = trim;","'use strict';\n\nvar setDate = require('./setDate'),\n    getDate = require('./getDate'),\n    getYear = require('./getYear'),\n    getMonth = require('./getMonth'),\n    getNewDate = require('./getNewDate');\n\nfunction compareDay(d, shift) {\n  var comp = getNewDate();\n  if (shift) {\n    setDate(comp, getDate(comp) + shift);\n  }\n  return getYear(d) === getYear(comp) &&\n         getMonth(d) === getMonth(comp) &&\n         getDate(d) === getDate(comp);\n}\n\nmodule.exports = compareDay;","'use strict';\n\nvar LocaleHelpers = require('../var/LocaleHelpers'),\n    trim = require('../../common/internal/trim'),\n    getMonth = require('./getMonth'),\n    isDefined = require('../../common/internal/isDefined'),\n    getNewDate = require('./getNewDate'),\n    compareDay = require('./compareDay'),\n    getWeekday = require('./getWeekday'),\n    dateIsValid = require('./dateIsValid'),\n    classChecks = require('../../common/var/classChecks'),\n    compareDate = require('./compareDate');\n\nvar isString = classChecks.isString,\n    English = LocaleHelpers.English;\n\nfunction fullCompareDate(date, d, margin) {\n  var tmp;\n  if (!dateIsValid(date)) return;\n  if (isString(d)) {\n    d = trim(d).toLowerCase();\n    switch(true) {\n      case d === 'future':    return date.getTime() > getNewDate().getTime();\n      case d === 'past':      return date.getTime() < getNewDate().getTime();\n      case d === 'today':     return compareDay(date);\n      case d === 'tomorrow':  return compareDay(date,  1);\n      case d === 'yesterday': return compareDay(date, -1);\n      case d === 'weekday':   return getWeekday(date) > 0 && getWeekday(date) < 6;\n      case d === 'weekend':   return getWeekday(date) === 0 || getWeekday(date) === 6;\n\n      case (isDefined(tmp = English.weekdayMap[d])):\n        return getWeekday(date) === tmp;\n      case (isDefined(tmp = English.monthMap[d])):\n        return getMonth(date) === tmp;\n    }\n  }\n  return compareDate(date, d, margin);\n}\n\nmodule.exports = fullCompareDate;","'use strict';\n\nvar Sugar = require('sugar-core'),\n    fullCompareDate = require('./internal/fullCompareDate');\n\nSugar.Date.defineInstance({\n\n  'is': function(date, d, margin) {\n    return fullCompareDate(date, d, margin);\n  }\n\n});\n\nmodule.exports = Sugar.Date.is;","'use strict';\n\nvar Sugar = require('sugar-core'),\n    createDate = require('./internal/createDate');\n\nSugar.Date.defineInstance({\n\n  'isAfter': function(date, d, margin) {\n    return date.getTime() > createDate(d).getTime() - (margin || 0);\n  }\n\n});\n\nmodule.exports = Sugar.Date.isAfter;","'use strict';\n\nvar Sugar = require('sugar-core'),\n    createDate = require('./internal/createDate');\n\nSugar.Date.defineInstance({\n\n  'isBefore': function(date, d, margin) {\n    return date.getTime() < createDate(d).getTime() + (margin || 0);\n  }\n\n});\n\nmodule.exports = Sugar.Date.isBefore;","'use strict';\n\nvar Sugar = require('sugar-core'),\n    createDate = require('./internal/createDate'),\n    mathAliases = require('../common/var/mathAliases');\n\nvar min = mathAliases.min,\n    max = mathAliases.max;\n\nSugar.Date.defineInstance({\n\n  'isBetween': function(date, d1, d2, margin) {\n    var t  = date.getTime();\n    var t1 = createDate(d1).getTime();\n    var t2 = createDate(d2).getTime();\n    var lo = min(t1, t2);\n    var hi = max(t1, t2);\n    margin = margin || 0;\n    return (lo - margin <= t) && (hi + margin >= t);\n  }\n\n});\n\nmodule.exports = Sugar.Date.isBetween;","'use strict';\n\nvar LocaleHelpers = require('../var/LocaleHelpers'),\n    spaceSplit = require('../../common/internal/spaceSplit'),\n    fullCompareDate = require('./fullCompareDate'),\n    namespaceAliases = require('../../common/var/namespaceAliases'),\n    defineInstanceSimilar = require('../../common/internal/defineInstanceSimilar');\n\nvar English = LocaleHelpers.English,\n    sugarDate = namespaceAliases.sugarDate;\n\nfunction buildRelativeAliases() {\n  var special  = spaceSplit('Today Yesterday Tomorrow Weekday Weekend Future Past');\n  var weekdays = English.weekdays.slice(0, 7);\n  var months   = English.months.slice(0, 12);\n  var together = special.concat(weekdays).concat(months);\n  defineInstanceSimilar(sugarDate, together, function(methods, name) {\n    methods['is'+ name] = function(d) {\n      return fullCompareDate(d, name);\n    };\n  });\n}\n\nmodule.exports = buildRelativeAliases;","'use strict';\n\nvar buildRelativeAliases = require('../internal/buildRelativeAliases');\n\nbuildRelativeAliases();","'use strict';\n\nvar Sugar = require('sugar-core');\n\nrequire('./build/buildRelativeAliasesCall');\n\nmodule.exports = Sugar.Date.isFriday;","'use strict';\n\nvar Sugar = require('sugar-core');\n\nrequire('./build/buildRelativeAliasesCall');\n\nmodule.exports = Sugar.Date.isFuture;","'use strict';\n\nvar Sugar = require('sugar-core');\n\nrequire('./build/buildDateUnitMethodsCall');\n\nmodule.exports = Sugar.Date.isLastMonth;","'use strict';\n\nvar Sugar = require('sugar-core');\n\nrequire('./build/buildDateUnitMethodsCall');\n\nmodule.exports = Sugar.Date.isLastWeek;","'use strict';\n\nvar Sugar = require('sugar-core');\n\nrequire('./build/buildDateUnitMethodsCall');\n\nmodule.exports = Sugar.Date.isLastYear;","'use strict';\n\nvar Sugar = require('sugar-core'),\n    getYear = require('./internal/getYear');\n\nSugar.Date.defineInstance({\n\n  'isLeapYear': function(date) {\n    var year = getYear(date);\n    return (year % 4 === 0 && year % 100 !== 0) || (year % 400 === 0);\n  }\n\n});\n\nmodule.exports = Sugar.Date.isLeapYear;","'use strict';\n\nvar Sugar = require('sugar-core');\n\nrequire('./build/buildRelativeAliasesCall');\n\nmodule.exports = Sugar.Date.isMonday;","'use strict';\n\nvar Sugar = require('sugar-core');\n\nrequire('./build/buildDateUnitMethodsCall');\n\nmodule.exports = Sugar.Date.isNextMonth;","'use strict';\n\nvar Sugar = require('sugar-core');\n\nrequire('./build/buildDateUnitMethodsCall');\n\nmodule.exports = Sugar.Date.isNextWeek;","'use strict';\n\nvar Sugar = require('sugar-core');\n\nrequire('./build/buildDateUnitMethodsCall');\n\nmodule.exports = Sugar.Date.isNextYear;","'use strict';\n\nvar Sugar = require('sugar-core');\n\nrequire('./build/buildRelativeAliasesCall');\n\nmodule.exports = Sugar.Date.isPast;","'use strict';\n\nvar Sugar = require('sugar-core');\n\nrequire('./build/buildRelativeAliasesCall');\n\nmodule.exports = Sugar.Date.isSaturday;","'use strict';\n\nvar Sugar = require('sugar-core');\n\nrequire('./build/buildRelativeAliasesCall');\n\nmodule.exports = Sugar.Date.isSunday;","'use strict';\n\nvar Sugar = require('sugar-core');\n\nrequire('./build/buildDateUnitMethodsCall');\n\nmodule.exports = Sugar.Date.isThisMonth;","'use strict';\n\nvar Sugar = require('sugar-core');\n\nrequire('./build/buildDateUnitMethodsCall');\n\nmodule.exports = Sugar.Date.isThisWeek;","'use strict';\n\nvar Sugar = require('sugar-core');\n\nrequire('./build/buildDateUnitMethodsCall');\n\nmodule.exports = Sugar.Date.isThisYear;","'use strict';\n\nvar Sugar = require('sugar-core');\n\nrequire('./build/buildRelativeAliasesCall');\n\nmodule.exports = Sugar.Date.isThursday;","'use strict';\n\nvar Sugar = require('sugar-core');\n\nrequire('./build/buildRelativeAliasesCall');\n\nmodule.exports = Sugar.Date.isToday;","'use strict';\n\nvar Sugar = require('sugar-core');\n\nrequire('./build/buildRelativeAliasesCall');\n\nmodule.exports = Sugar.Date.isTomorrow;","'use strict';\n\nvar Sugar = require('sugar-core');\n\nrequire('./build/buildRelativeAliasesCall');\n\nmodule.exports = Sugar.Date.isTuesday;","'use strict';\n\nvar _utc = require('../../common/var/_utc'),\n    tzOffset = require('./tzOffset');\n\nfunction isUTC(d) {\n  return !!_utc(d) || tzOffset(d) === 0;\n}\n\nmodule.exports = isUTC;","'use strict';\n\nvar Sugar = require('sugar-core'),\n    isUTC = require('./internal/isUTC');\n\nSugar.Date.defineInstance({\n\n  'isUTC': function(date) {\n    return isUTC(date);\n  }\n\n});\n\nmodule.exports = Sugar.Date.isUTC;","'use strict';\n\nvar Sugar = require('sugar-core'),\n    dateIsValid = require('./internal/dateIsValid');\n\nSugar.Date.defineInstance({\n\n  'isValid': function(date) {\n    return dateIsValid(date);\n  }\n\n});\n\nmodule.exports = Sugar.Date.isValid;","'use strict';\n\nvar Sugar = require('sugar-core');\n\nrequire('./build/buildRelativeAliasesCall');\n\nmodule.exports = Sugar.Date.isWednesday;","'use strict';\n\nvar Sugar = require('sugar-core');\n\nrequire('./build/buildRelativeAliasesCall');\n\nmodule.exports = Sugar.Date.isWeekday;","'use strict';\n\nvar Sugar = require('sugar-core');\n\nrequire('./build/buildRelativeAliasesCall');\n\nmodule.exports = Sugar.Date.isWeekend;","'use strict';\n\nvar Sugar = require('sugar-core');\n\nrequire('./build/buildRelativeAliasesCall');\n\nmodule.exports = Sugar.Date.isYesterday;","'use strict';\n\nvar Sugar = require('sugar-core');\n\nSugar.Date.defineInstance({\n\n  'iso': function(date) {\n    return date.toISOString();\n  }\n\n});\n\nmodule.exports = Sugar.Date.iso;","'use strict';\n\nvar Sugar = require('sugar-core');\n\nrequire('./build/buildDateUnitMethodsCall');\n\nmodule.exports = Sugar.Date.millisecondsAgo;","'use strict';\n\nvar Sugar = require('sugar-core');\n\nrequire('./build/buildDateUnitMethodsCall');\n\nmodule.exports = Sugar.Date.millisecondsFromNow;","'use strict';\n\nvar Sugar = require('sugar-core');\n\nrequire('./build/buildDateUnitMethodsCall');\n\nmodule.exports = Sugar.Date.millisecondsSince;","'use strict';\n\nvar Sugar = require('sugar-core');\n\nrequire('./build/buildDateUnitMethodsCall');\n\nmodule.exports = Sugar.Date.millisecondsUntil;","'use strict';\n\nvar Sugar = require('sugar-core');\n\nrequire('./build/buildDateUnitMethodsCall');\n\nmodule.exports = Sugar.Date.minutesAgo;","'use strict';\n\nvar Sugar = require('sugar-core');\n\nrequire('./build/buildDateUnitMethodsCall');\n\nmodule.exports = Sugar.Date.minutesFromNow;","'use strict';\n\nvar Sugar = require('sugar-core');\n\nrequire('./build/buildDateUnitMethodsCall');\n\nmodule.exports = Sugar.Date.minutesSince;","'use strict';\n\nvar Sugar = require('sugar-core');\n\nrequire('./build/buildDateUnitMethodsCall');\n\nmodule.exports = Sugar.Date.minutesUntil;","'use strict';\n\nvar Sugar = require('sugar-core');\n\nrequire('./build/buildDateUnitMethodsCall');\n\nmodule.exports = Sugar.Date.monthsAgo;","'use strict';\n\nvar Sugar = require('sugar-core');\n\nrequire('./build/buildDateUnitMethodsCall');\n\nmodule.exports = Sugar.Date.monthsFromNow;","'use strict';\n\nvar Sugar = require('sugar-core');\n\nrequire('./build/buildDateUnitMethodsCall');\n\nmodule.exports = Sugar.Date.monthsSince;","'use strict';\n\nvar Sugar = require('sugar-core');\n\nrequire('./build/buildDateUnitMethodsCall');\n\nmodule.exports = Sugar.Date.monthsUntil;","'use strict';\n\nvar getNewDate = require('./getNewDate'),\n    mathAliases = require('../../common/var/mathAliases'),\n    getAdjustedUnit = require('./getAdjustedUnit'),\n    getTimeDistanceForUnit = require('./getTimeDistanceForUnit');\n\nvar abs = mathAliases.abs;\n\nfunction getAdjustedUnitForDate(d, dRelative) {\n  var ms;\n  if (!dRelative) {\n    dRelative = getNewDate();\n    if (d > dRelative) {\n      // If our date is greater than the one that we got from getNewDate, it\n      // means that we are finding the unit for a date that is in the future\n      // relative to now. However, often the incoming date was created in\n      // the same cycle as our comparison, but our \"now\" date will have been\n      // created an instant after it, creating situations where \"5 minutes from\n      // now\" becomes \"4 minutes from now\" in the same tick. To prevent this,\n      // subtract a buffer of 10ms to compensate.\n      dRelative = new Date(dRelative.getTime() - 10);\n    }\n  }\n  ms = d - dRelative;\n  return getAdjustedUnit(ms, function(u) {\n    return abs(getTimeDistanceForUnit(d, dRelative, u));\n  });\n}\n\nmodule.exports = getAdjustedUnitForDate;","'use strict';\n\nvar LocaleHelpers = require('../var/LocaleHelpers'),\n    dateFormat = require('./dateFormat'),\n    classChecks = require('../../common/var/classChecks'),\n    assertDateIsValid = require('./assertDateIsValid'),\n    getAdjustedUnitForDate = require('./getAdjustedUnitForDate');\n\nvar isFunction = classChecks.isFunction,\n    localeManager = LocaleHelpers.localeManager;\n\nfunction dateRelative(d, dRelative, arg1, arg2) {\n  var adu, format, type, localeCode, fn;\n  assertDateIsValid(d);\n  if (isFunction(arg1)) {\n    fn = arg1;\n  } else {\n    localeCode = arg1;\n    fn = arg2;\n  }\n  adu = getAdjustedUnitForDate(d, dRelative);\n  if (fn) {\n    format = fn.apply(d, adu.concat(localeManager.get(localeCode)));\n    if (format) {\n      return dateFormat(d, format, localeCode);\n    }\n  }\n  // Adjust up if time is in ms, as this doesn't\n  // look very good for a standard relative date.\n  if (adu[1] === 0) {\n    adu[1] = 1;\n    adu[0] = 1;\n  }\n  if (dRelative) {\n    type = 'duration';\n  } else if (adu[2] > 0) {\n    type = 'future';\n  } else {\n    type = 'past';\n  }\n  return localeManager.get(localeCode).getRelativeFormat(adu, type);\n}\n\nmodule.exports = dateRelative;","'use strict';\n\nvar Sugar = require('sugar-core'),\n    dateRelative = require('./internal/dateRelative');\n\nSugar.Date.defineInstance({\n\n  'relative': function(date, localeCode, relativeFn) {\n    return dateRelative(date, null, localeCode, relativeFn);\n  }\n\n});\n\nmodule.exports = Sugar.Date.relative;","'use strict';\n\nvar Sugar = require('sugar-core'),\n    createDate = require('./internal/createDate'),\n    dateRelative = require('./internal/dateRelative');\n\nSugar.Date.defineInstance({\n\n  'relativeTo': function(date, d, localeCode) {\n    return dateRelative(date, createDate(d), localeCode);\n  }\n\n});\n\nmodule.exports = Sugar.Date.relativeTo;","'use strict';\n\nvar iterateOverDateParams = require('./iterateOverDateParams');\n\nfunction getUnitIndexForParamName(name) {\n  var params = {}, unitIndex;\n  params[name] = 1;\n  iterateOverDateParams(params, function(name, val, unit, i) {\n    unitIndex = i;\n    return false;\n  });\n  return unitIndex;\n}\n\nmodule.exports = getUnitIndexForParamName;","'use strict';\n\nvar Sugar = require('sugar-core'),\n    DateUnitIndexes = require('./var/DateUnitIndexes'),\n    moveToBeginningOfUnit = require('./internal/moveToBeginningOfUnit'),\n    getUnitIndexForParamName = require('./internal/getUnitIndexForParamName');\n\nvar DAY_INDEX = DateUnitIndexes.DAY_INDEX;\n\nSugar.Date.defineInstance({\n\n  'reset': function(date, unit, localeCode) {\n    var unitIndex = unit ? getUnitIndexForParamName(unit) : DAY_INDEX;\n    moveToBeginningOfUnit(date, unitIndex, localeCode);\n    return date;\n  }\n\n});\n\nmodule.exports = Sugar.Date.reset;","'use strict';\n\nvar Sugar = require('sugar-core'),\n    advanceDateWithArgs = require('./internal/advanceDateWithArgs');\n\nSugar.Date.defineInstanceWithArguments({\n\n  'rewind': function(d, args) {\n    return advanceDateWithArgs(d, args, -1);\n  }\n\n});\n\nmodule.exports = Sugar.Date.rewind;","'use strict';\n\nvar Sugar = require('sugar-core');\n\nrequire('./build/buildDateUnitMethodsCall');\n\nmodule.exports = Sugar.Date.secondsAgo;","'use strict';\n\nvar Sugar = require('sugar-core');\n\nrequire('./build/buildDateUnitMethodsCall');\n\nmodule.exports = Sugar.Date.secondsFromNow;","'use strict';\n\nvar Sugar = require('sugar-core');\n\nrequire('./build/buildDateUnitMethodsCall');\n\nmodule.exports = Sugar.Date.secondsSince;","'use strict';\n\nvar Sugar = require('sugar-core');\n\nrequire('./build/buildDateUnitMethodsCall');\n\nmodule.exports = Sugar.Date.secondsUntil;","'use strict';\n\nvar Sugar = require('sugar-core'),\n    updateDate = require('./internal/updateDate'),\n    collectUpdateDateArguments = require('./internal/collectUpdateDateArguments');\n\nSugar.Date.defineInstanceWithArguments({\n\n  'set': function(d, args) {\n    args = collectUpdateDateArguments(args);\n    return updateDate(d, args[0], args[1]);\n  }\n\n});\n\nmodule.exports = Sugar.Date.set;","'use strict';\n\nvar Sugar = require('sugar-core'),\n    setISOWeekNumber = require('./internal/setISOWeekNumber');\n\nSugar.Date.defineInstance({\n\n  'setISOWeek': function(date, num) {\n    return setISOWeekNumber(date, num);\n  }\n\n});\n\nmodule.exports = Sugar.Date.setISOWeek;","'use strict';\n\nvar Sugar = require('sugar-core'),\n    _utc = require('../common/var/_utc');\n\nSugar.Date.defineInstance({\n\n  'setUTC': function(date, on) {\n    return _utc(date, on);\n  }\n\n});\n\nmodule.exports = Sugar.Date.setUTC;","'use strict';\n\nvar Sugar = require('sugar-core'),\n    setWeekday = require('./internal/setWeekday');\n\nSugar.Date.defineInstance({\n\n  'setWeekday': function(date, dow) {\n    return setWeekday(date, dow);\n  }\n\n});\n\nmodule.exports = Sugar.Date.setWeekday;","'use strict';\n\nvar Sugar = require('sugar-core');\n\nrequire('./build/buildDateUnitMethodsCall');\n\nmodule.exports = Sugar.Date.weeksAgo;","'use strict';\n\nvar Sugar = require('sugar-core');\n\nrequire('./build/buildDateUnitMethodsCall');\n\nmodule.exports = Sugar.Date.weeksFromNow;","'use strict';\n\nvar Sugar = require('sugar-core');\n\nrequire('./build/buildDateUnitMethodsCall');\n\nmodule.exports = Sugar.Date.weeksSince;","'use strict';\n\nvar Sugar = require('sugar-core');\n\nrequire('./build/buildDateUnitMethodsCall');\n\nmodule.exports = Sugar.Date.weeksUntil;","'use strict';\n\nvar Sugar = require('sugar-core');\n\nrequire('./build/buildDateUnitMethodsCall');\n\nmodule.exports = Sugar.Date.yearsAgo;","'use strict';\n\nvar Sugar = require('sugar-core');\n\nrequire('./build/buildDateUnitMethodsCall');\n\nmodule.exports = Sugar.Date.yearsFromNow;","'use strict';\n\nvar Sugar = require('sugar-core');\n\nrequire('./build/buildDateUnitMethodsCall');\n\nmodule.exports = Sugar.Date.yearsSince;","'use strict';\n\nvar Sugar = require('sugar-core');\n\nrequire('./build/buildDateUnitMethodsCall');\n\nmodule.exports = Sugar.Date.yearsUntil;","'use strict';\n\nvar Sugar = require('sugar-core'),\n    _dateOptions = require('./var/_dateOptions');\n\nmodule.exports = Sugar.Date.getOption;","'use strict';\n\nvar Sugar = require('sugar-core'),\n    _dateOptions = require('./var/_dateOptions');\n\nmodule.exports = Sugar.Date.setOption;","'use strict';\n\nvar classChecks = require('../../common/var/classChecks');\n\nvar isDate = classChecks.isDate;\n\nfunction getRangeMemberPrimitiveValue(m) {\n  if (m == null) return m;\n  return isDate(m) ? m.getTime() : m.valueOf();\n}\n\nmodule.exports = getRangeMemberPrimitiveValue;","'use strict';\n\nvar classChecks = require('../../common/var/classChecks'),\n    getRangeMemberPrimitiveValue = require('./getRangeMemberPrimitiveValue');\n\nvar isDate = classChecks.isDate;\n\nfunction cloneRangeMember(m) {\n  if (isDate(m)) {\n    return new Date(m.getTime());\n  } else {\n    return getRangeMemberPrimitiveValue(m);\n  }\n}\n\nmodule.exports = cloneRangeMember;","'use strict';\n\nvar cloneRangeMember = require('./cloneRangeMember');\n\nfunction Range(start, end) {\n  this.start = cloneRangeMember(start);\n  this.end   = cloneRangeMember(end);\n}\n\nmodule.exports = Range;","'use strict';\n\nvar classChecks = require('../../common/var/classChecks'),\n    namespaceAliases = require('../../common/var/namespaceAliases');\n\nvar isDate = classChecks.isDate,\n    sugarDate = namespaceAliases.sugarDate;\n\nfunction getDateForRange(d) {\n  if (isDate(d)) {\n    return d;\n  } else if (d == null) {\n    return new Date();\n  } else if (sugarDate.create) {\n    return sugarDate.create(d);\n  }\n  return new Date(d);\n}\n\nmodule.exports = getDateForRange;","'use strict';\n\nmodule.exports = 'year|month|week|day|hour|minute|second|millisecond';","'use strict';\n\nvar DURATION_UNITS = require('./DURATION_UNITS');\n\nmodule.exports = '((?:\\\\d+)?\\\\s*(?:' + DURATION_UNITS + '))s?';","'use strict';\n\nvar FULL_CAPTURED_DURATION = require('./FULL_CAPTURED_DURATION');\n\nmodule.exports = {\n  RANGE_REG_FROM_TO: /(?:from)?\\s*(.+)\\s+(?:to|until)\\s+(.+)$/i,\n  RANGE_REG_REAR_DURATION: RegExp('(.+)\\\\s*for\\\\s*' + FULL_CAPTURED_DURATION, 'i'),\n  RANGE_REG_FRONT_DURATION: RegExp('(?:for)?\\\\s*'+ FULL_CAPTURED_DURATION +'\\\\s*(?:starting)?\\\\s(?:at\\\\s)?(.+)', 'i')\n};","'use strict';\n\nvar MULTIPLIERS = {\n  'Hours': 60 * 60 * 1000,\n  'Minutes': 60 * 1000,\n  'Seconds': 1000,\n  'Milliseconds': 1\n};\n\nmodule.exports = MULTIPLIERS;","'use strict';\n\nvar MULTIPLIERS = require('../var/MULTIPLIERS'),\n    callDateSet = require('../../common/internal/callDateSet'),\n    callDateGet = require('../../common/internal/callDateGet');\n\nfunction incrementDate(src, amount, unit) {\n  var mult = MULTIPLIERS[unit], d;\n  if (mult) {\n    d = new Date(src.getTime() + (amount * mult));\n  } else {\n    d = new Date(src);\n    callDateSet(d, unit, callDateGet(src, unit) + amount);\n  }\n  return d;\n}\n\nmodule.exports = incrementDate;","'use strict';\n\nvar DURATION_UNITS = require('./DURATION_UNITS');\n\nmodule.exports = RegExp('(\\\\d+)?\\\\s*('+ DURATION_UNITS +')s?', 'i');","'use strict';\n\nvar DURATION_REG = require('../var/DURATION_REG'),\n    classChecks = require('../../common/var/classChecks'),\n    simpleCapitalize = require('../../common/internal/simpleCapitalize');\n\nvar isNumber = classChecks.isNumber;\n\nfunction getDateIncrementObject(amt) {\n  var match, val, unit;\n  if (isNumber(amt)) {\n    return [amt, 'Milliseconds'];\n  }\n  match = amt.match(DURATION_REG);\n  val = +match[1] || 1;\n  unit = simpleCapitalize(match[2].toLowerCase());\n  if (unit.match(/hour|minute|second/i)) {\n    unit += 's';\n  } else if (unit === 'Year') {\n    unit = 'FullYear';\n  } else if (unit === 'Week') {\n    unit = 'Date';\n    val *= 7;\n  } else if (unit === 'Day') {\n    unit = 'Date';\n  }\n  return [val, unit];\n}\n\nmodule.exports = getDateIncrementObject;","'use strict';\n\nvar Range = require('./Range'),\n    DurationTextFormats = require('../var/DurationTextFormats'),\n    incrementDate = require('./incrementDate'),\n    getDateForRange = require('./getDateForRange'),\n    namespaceAliases = require('../../common/var/namespaceAliases'),\n    getDateIncrementObject = require('./getDateIncrementObject');\n\nvar sugarDate = namespaceAliases.sugarDate,\n    RANGE_REG_FROM_TO = DurationTextFormats.RANGE_REG_FROM_TO,\n    RANGE_REG_REAR_DURATION = DurationTextFormats.RANGE_REG_REAR_DURATION,\n    RANGE_REG_FRONT_DURATION = DurationTextFormats.RANGE_REG_FRONT_DURATION;\n\nfunction createDateRangeFromString(str) {\n  var match, datetime, duration, dio, start, end;\n  if (sugarDate.get && (match = str.match(RANGE_REG_FROM_TO))) {\n    start = getDateForRange(match[1].replace('from', 'at'));\n    end = sugarDate.get(start, match[2]);\n    return new Range(start, end);\n  }\n  if (match = str.match(RANGE_REG_FRONT_DURATION)) {\n    duration = match[1];\n    datetime = match[2];\n  }\n  if (match = str.match(RANGE_REG_REAR_DURATION)) {\n    datetime = match[1];\n    duration = match[2];\n  }\n  if (datetime && duration) {\n    start = getDateForRange(datetime);\n    dio = getDateIncrementObject(duration);\n    end = incrementDate(start, dio[0], dio[1]);\n  } else {\n    start = str;\n  }\n  return new Range(getDateForRange(start), getDateForRange(end));\n}\n\nmodule.exports = createDateRangeFromString;","'use strict';\n\nvar Range = require('../internal/Range'),\n    classChecks = require('../../common/var/classChecks'),\n    getDateForRange = require('../internal/getDateForRange'),\n    createDateRangeFromString = require('../internal/createDateRangeFromString');\n\nvar isString = classChecks.isString;\n\nvar DateRangeConstructor = function(start, end) {\n  if (arguments.length === 1 && isString(start)) {\n    return createDateRangeFromString(start);\n  }\n  return new Range(getDateForRange(start), getDateForRange(end));\n};\n\nmodule.exports = DateRangeConstructor;","'use strict';\n\nvar Sugar = require('sugar-core'),\n    DateRangeConstructor = require('../range/var/DateRangeConstructor');\n\nSugar.Date.defineStatic({\n\n  'range': DateRangeConstructor\n\n});\n\nmodule.exports = Sugar.Date.range;","'use strict';\n\nvar cloneRangeMember = require('./cloneRangeMember');\n\nfunction rangeClamp(range, obj) {\n  var clamped,\n      start = range.start,\n      end = range.end,\n      min = end < start ? end : start,\n      max = start > end ? start : end;\n  if (obj < min) {\n    clamped = min;\n  } else if (obj > max) {\n    clamped = max;\n  } else {\n    clamped = obj;\n  }\n  return cloneRangeMember(clamped);\n}\n\nmodule.exports = rangeClamp;","'use strict';\n\nvar coreUtilityAliases = require('../var/coreUtilityAliases');\n\nvar forEachProperty = coreUtilityAliases.forEachProperty;\n\nfunction defineOnPrototype(ctor, methods) {\n  var proto = ctor.prototype;\n  forEachProperty(methods, function(val, key) {\n    proto[key] = val;\n  });\n}\n\nmodule.exports = defineOnPrototype;","'use strict';\n\nvar Range = require('./internal/Range'),\n    rangeClamp = require('./internal/rangeClamp'),\n    defineOnPrototype = require('../common/internal/defineOnPrototype');\n\ndefineOnPrototype(Range, {\n\n  'clamp': function(el) {\n    return rangeClamp(this, el);\n  }\n\n});\n\n// This package does not export anything as it is\n// simply defining \"clamp\" on Range.prototype.","'use strict';\n\nvar Range = require('./internal/Range'),\n    defineOnPrototype = require('../common/internal/defineOnPrototype');\n\ndefineOnPrototype(Range, {\n\n  'clone': function() {\n    return new Range(this.start, this.end);\n  }\n\n});\n\n// This package does not export anything as it is\n// simply defining \"clone\" on Range.prototype.","'use strict';\n\nvar Range = require('./internal/Range'),\n    defineOnPrototype = require('../common/internal/defineOnPrototype');\n\ndefineOnPrototype(Range, {\n\n  'contains': function(el) {\n    if (el == null) return false;\n    if (el.start && el.end) {\n      return el.start >= this.start && el.start <= this.end &&\n             el.end   >= this.start && el.end   <= this.end;\n    } else {\n      return el >= this.start && el <= this.end;\n    }\n  }\n\n});\n\n// This package does not export anything as it is\n// simply defining \"contains\" on Range.prototype.","'use strict';\n\nfunction valueIsNotInfinite(m) {\n  return m !== -Infinity && m !== Infinity;\n}\n\nmodule.exports = valueIsNotInfinite;","'use strict';\n\nvar valueIsNotInfinite = require('./valueIsNotInfinite'),\n    getRangeMemberPrimitiveValue = require('./getRangeMemberPrimitiveValue');\n\nfunction isValidRangeMember(m) {\n  var val = getRangeMemberPrimitiveValue(m);\n  return (!!val || val === 0) && valueIsNotInfinite(m);\n}\n\nmodule.exports = isValidRangeMember;","'use strict';\n\nvar isValidRangeMember = require('./isValidRangeMember');\n\nfunction rangeIsValid(range) {\n  return isValidRangeMember(range.start) &&\n         isValidRangeMember(range.end) &&\n         typeof range.start === typeof range.end;\n}\n\nmodule.exports = rangeIsValid;","'use strict';\n\nvar withPrecision = require('../../common/internal/withPrecision');\n\nfunction incrementNumber(current, amount, precision) {\n  return withPrecision(current + amount, precision);\n}\n\nmodule.exports = incrementNumber;","'use strict';\n\nvar chr = require('../../common/var/chr');\n\nfunction incrementString(current, amount) {\n  return chr(current.charCodeAt(0) + amount);\n}\n\nmodule.exports = incrementString;","'use strict';\n\nvar CommonChars = require('../var/CommonChars');\n\nvar HALF_WIDTH_PERIOD = CommonChars.HALF_WIDTH_PERIOD;\n\nfunction periodSplit(str) {\n  return str.split(HALF_WIDTH_PERIOD);\n}\n\nmodule.exports = periodSplit;","'use strict';\n\nvar periodSplit = require('../../common/internal/periodSplit');\n\nfunction getPrecision(n) {\n  var split = periodSplit(n.toString());\n  return split[1] ? split[1].length : 0;\n}\n\nmodule.exports = getPrecision;","'use strict';\n\nvar mathAliases = require('../../common/var/mathAliases'),\n    getPrecision = require('./getPrecision');\n\nvar max = mathAliases.max;\n\nfunction getGreaterPrecision(n1, n2) {\n  return max(getPrecision(n1), getPrecision(n2));\n}\n\nmodule.exports = getGreaterPrecision;","'use strict';\n\nvar classChecks = require('../../common/var/classChecks'),\n    rangeIsValid = require('./rangeIsValid'),\n    incrementDate = require('./incrementDate'),\n    incrementNumber = require('./incrementNumber'),\n    incrementString = require('./incrementString'),\n    getGreaterPrecision = require('./getGreaterPrecision'),\n    getDateIncrementObject = require('./getDateIncrementObject');\n\nvar isNumber = classChecks.isNumber,\n    isString = classChecks.isString,\n    isDate = classChecks.isDate,\n    isFunction = classChecks.isFunction;\n\nfunction rangeEvery(range, step, countOnly, fn) {\n  var increment,\n      precision,\n      dio,\n      unit,\n      start   = range.start,\n      end     = range.end,\n      inverse = end < start,\n      current = start,\n      index   = 0,\n      result  = [];\n\n  if (!rangeIsValid(range)) {\n    return countOnly ? NaN : [];\n  }\n  if (isFunction(step)) {\n    fn = step;\n    step = null;\n  }\n  step = step || 1;\n  if (isNumber(start)) {\n    precision = getGreaterPrecision(start, step);\n    increment = function() {\n      return incrementNumber(current, step, precision);\n    };\n  } else if (isString(start)) {\n    increment = function() {\n      return incrementString(current, step);\n    };\n  } else if (isDate(start)) {\n    dio  = getDateIncrementObject(step);\n    step = dio[0];\n    unit = dio[1];\n    increment = function() {\n      return incrementDate(current, step, unit);\n    };\n  }\n  // Avoiding infinite loops\n  if (inverse && step > 0) {\n    step *= -1;\n  }\n  while(inverse ? current >= end : current <= end) {\n    if (!countOnly) {\n      result.push(current);\n    }\n    if (fn) {\n      fn(current, index, range);\n    }\n    current = increment();\n    index++;\n  }\n  return countOnly ? index - 1 : result;\n}\n\nmodule.exports = rangeEvery;","'use strict';\n\nvar MULTIPLIERS = require('../var/MULTIPLIERS'),\n    DURATION_UNITS = require('../var/DURATION_UNITS'),\n    Range = require('./Range'),\n    trunc = require('../../common/var/trunc'),\n    forEach = require('../../common/internal/forEach'),\n    rangeEvery = require('./rangeEvery'),\n    simpleCapitalize = require('../../common/internal/simpleCapitalize'),\n    defineOnPrototype = require('../../common/internal/defineOnPrototype');\n\nfunction buildDateRangeUnits() {\n  var methods = {};\n  forEach(DURATION_UNITS.split('|'), function(unit, i) {\n    var name = unit + 's', mult, fn;\n    if (i < 4) {\n      fn = function() {\n        return rangeEvery(this, unit, true);\n      };\n    } else {\n      mult = MULTIPLIERS[simpleCapitalize(name)];\n      fn = function() {\n        return trunc((this.end - this.start) / mult);\n      };\n    }\n    methods[name] = fn;\n  });\n  defineOnPrototype(Range, methods);\n}\n\nmodule.exports = buildDateRangeUnits;","'use strict';\n\nvar buildDateRangeUnits = require('../internal/buildDateRangeUnits');\n\nbuildDateRangeUnits();","'use strict';\n\nvar Range = require('./internal/Range'),\n    rangeEvery = require('./internal/rangeEvery'),\n    defineOnPrototype = require('../common/internal/defineOnPrototype');\n\ndefineOnPrototype(Range, {\n\n  'every': function(amount, everyFn) {\n    return rangeEvery(this, amount, false, everyFn);\n  }\n\n});\n\n// This package does not export anything as it is\n// simply defining \"every\" on Range.prototype.","'use strict';\n\nvar Range = require('./internal/Range'),\n    defineOnPrototype = require('../common/internal/defineOnPrototype');\n\ndefineOnPrototype(Range, {\n\n  'intersect': function(range) {\n    if (range.start > this.end || range.end < this.start) {\n      return new Range(NaN, NaN);\n    }\n    return new Range(\n      this.start > range.start ? this.start : range.start,\n      this.end   < range.end   ? this.end   : range.end\n    );\n  }\n\n});\n\n// This package does not export anything as it is\n// simply defining \"intersect\" on Range.prototype.","'use strict';\n\nvar Range = require('./internal/Range'),\n    rangeIsValid = require('./internal/rangeIsValid'),\n    defineOnPrototype = require('../common/internal/defineOnPrototype');\n\ndefineOnPrototype(Range, {\n\n  'isValid': function() {\n    return rangeIsValid(this);\n  }\n\n});\n\n// This package does not export anything as it is\n// simply defining \"isValid\" on Range.prototype.","'use strict';\n\nvar classChecks = require('../../common/var/classChecks');\n\nvar isString = classChecks.isString;\n\nfunction getRangeMemberNumericValue(m) {\n  return isString(m) ? m.charCodeAt(0) : m;\n}\n\nmodule.exports = getRangeMemberNumericValue;","'use strict';\n\nvar Range = require('./internal/Range'),\n    mathAliases = require('../common/var/mathAliases'),\n    rangeIsValid = require('./internal/rangeIsValid'),\n    defineOnPrototype = require('../common/internal/defineOnPrototype'),\n    getRangeMemberNumericValue = require('./internal/getRangeMemberNumericValue');\n\nvar abs = mathAliases.abs;\n\ndefineOnPrototype(Range, {\n\n  'span': function() {\n    var n = getRangeMemberNumericValue(this.end) - getRangeMemberNumericValue(this.start);\n    return rangeIsValid(this) ? abs(n) + 1 : NaN;\n  }\n\n});\n\n// This package does not export anything as it is\n// simply defining \"span\" on Range.prototype.","'use strict';\n\nvar Range = require('./internal/Range'),\n    rangeEvery = require('./internal/rangeEvery'),\n    defineOnPrototype = require('../common/internal/defineOnPrototype');\n\ndefineOnPrototype(Range, {\n\n  'toArray': function() {\n    return rangeEvery(this);\n  }\n\n});\n\n// This package does not export anything as it is\n// simply defining \"toArray\" on Range.prototype.","'use strict';\n\nvar Range = require('./internal/Range'),\n    rangeIsValid = require('./internal/rangeIsValid'),\n    defineOnPrototype = require('../common/internal/defineOnPrototype');\n\ndefineOnPrototype(Range, {\n\n  'toString': function() {\n    return rangeIsValid(this) ? this.start + '..' + this.end : 'Invalid Range';\n  }\n\n});\n\n// This package does not export anything as it is\n// simply defining \"toString\" on Range.prototype.","'use strict';\n\nvar Range = require('./internal/Range'),\n    defineOnPrototype = require('../common/internal/defineOnPrototype');\n\ndefineOnPrototype(Range, {\n\n  'union': function(range) {\n    return new Range(\n      this.start < range.start ? this.start : range.start,\n      this.end   > range.end   ? this.end   : range.end\n    );\n  }\n\n});\n\n// This package does not export anything as it is\n// simply defining \"union\" on Range.prototype.","'use strict';\n\nrequire('./date');\nrequire('./range');\n\nmodule.exports = require('sugar-core');","// Unique ID creation requires a high quality random # generator. In the browser we therefore\n// require the crypto API and do not support built-in fallback to lower quality random number\n// generators (like Math.random()).\nvar getRandomValues;\nvar rnds8 = new Uint8Array(16);\nexport default function rng() {\n  // lazy load so that environments that need to polyfill have a chance to do so\n  if (!getRandomValues) {\n    // getRandomValues needs to be invoked in a context where \"this\" is a Crypto implementation. Also,\n    // find the complete implementation of crypto (msCrypto) on IE11.\n    getRandomValues = typeof crypto !== 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto) || typeof msCrypto !== 'undefined' && typeof msCrypto.getRandomValues === 'function' && msCrypto.getRandomValues.bind(msCrypto);\n\n    if (!getRandomValues) {\n      throw new Error('crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported');\n    }\n  }\n\n  return getRandomValues(rnds8);\n}","<script>\r\n    import { onMount } from \"svelte\";\r\n    import { createEventDispatcher } from 'svelte';\r\n    import Sugar from 'sugar-date';\r\n\r\n\r\n    const dispatch = createEventDispatcher();\r\n    let inputBox;\r\n    let bgColor = 'rgb(29, 29, 29)'\r\n    export let position;\r\n    \r\n    function hide(e) {\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n        dispatch('hide');\r\n    }\r\n    \r\n    function onInputClicked(e) {\r\n        e.stopPropagation();\r\n    }\r\n    \r\n    function parseDate(s) {\r\n        let newDate = Sugar.Date.create(s);\r\n        if(newDate == 'Invalid Date') {\r\n            return null;\r\n        } else {\r\n            return newDate;\r\n        }\r\n    }\r\n\r\n    function onKeyUp(e) {\r\n        e.preventDefault();\r\n        if(e.key == 'Enter'){\r\n            let newDate = parseDate(inputBox.value);\r\n            if(newDate) {\r\n                dispatch('updateDeadline', newDate);\r\n                inputBox.value = null;\r\n            } else {\r\n                bgColor = 'rgb(255,0,0,0.5)';\r\n            }\r\n        }\r\n    }\r\n\r\n    onMount(() => {\r\n        inputBox.style.top = position.Y + \"px\";\r\n        inputBox.style.left = position.X + \"px\";\r\n        inputBox.focus();\r\n    });\r\n</script>\r\n<div on:click={hide}>\r\n    <input style='background-color:{bgColor}' bind:this={inputBox} on:keyup={onKeyUp} on:click={onInputClicked} type='text' placeholder='When?'/>\r\n</div>\r\n\r\n<style>\r\n    div {\r\n        position:absolute;\r\n        left:0;\r\n        top:0;\r\n        width:100%;\r\n        height:100%;\r\n\r\n        background-color: rgba(0, 0, 0, 0.2);\r\n        z-index:1;\r\n\r\n\r\n        display:flex;\r\n        justify-content: center;\r\n    }\r\n\r\n    input {\r\n        position:absolute;\r\n        padding: 0.85em;\r\n        border: solid 1px rgba(0, 0, 0, 0.25);\r\n        font-size: 1em;\r\n        color:white;\r\n        text-shadow: 1px 1px rgba(0, 0, 0, 0.5);  \r\n    }\r\n\r\n\r\n\r\n\r\n    input::placeholder {\r\n        color: rgba(255, 255, 255, 0.2);\r\n    }\r\n\r\n    input:focus {     \r\n        outline: none;\r\n        border: solid 1px rgba(0, 0, 0, 0.75);\r\n    }\r\n\r\n</style>\r\n\r\n","<script>\r\n    import { afterUpdate, onMount } from \"svelte\";\r\n    import ToDoDeadlineSelector from \"./ToDoDeadlineSelector.svelte\";\r\n    import { createEventDispatcher } from 'svelte';\r\n\r\n    import { tweened } from \"svelte/motion\";\r\n  import { quartInOut } from \"svelte/easing\";\r\n\r\n    const dispatch = createEventDispatcher();\r\n    export let item;\r\n    let el;\r\n    let active = false;\r\n    let clickPos;\r\n\r\n    let dateColor = 'rgb(255,255,255,0.25)';\r\n\r\n    function boldHalf(word) {\r\n        let half = Math.max(1,Math.round(word.length * 0.5));\r\n        let boldedPart = word.substring(0, half);\r\n        let otherPart = word.substring(half);\r\n        return '<span class=\"bolded\">' + boldedPart + '</span>' + '<span class=\"unbolded\">' + otherPart + '</span>';\r\n    }\r\n\r\n    function processText() {\r\n        if(!active) {\r\n            let processed = '';\r\n            let split = item.text.split(' ');\r\n            \r\n            for(let i = 0; i < split.length; i++) {\r\n                processed += boldHalf(split[i]) + ' ';\r\n            }\r\n            if(el){\r\n                el.innerHTML = processed;\r\n            }\r\n        }\r\n    }\r\n\r\n    function complete() {\r\n        dispatch('complete', { id: item.id });\r\n    }\r\n\r\n    function toggleActive(e) {\r\n        console.log(el);\r\n\r\n        clickPos = {  X: e.clientX, Y: e.clientY };\r\n        active = !active;\r\n    }\r\n\r\n    let interval = null;\r\n    function onUpdateDeadline(e) {\r\n        dispatch('updateDeadline', { id: item.id, deadline: new Date(e.detail) });\r\n\r\n        active = false;\r\n        dateColor = 'rgb(0,255,0,1.0)';\r\n        if(interval)   clearInterval(interval);\r\n        interval = setInterval(() => {\r\n            dateColor = 'rgb(255,255,255,0.25)';\r\n        }, 2000);\r\n    }\r\n\r\n\r\n    onMount(() => {\r\n        processText();\r\n    });\r\n\r\n    afterUpdate(() => {\r\n        processText();\r\n    });\r\n\r\n</script>\r\n\r\n<div id='outer' on:click={toggleActive}>\r\n    {#if active}\r\n        <ToDoDeadlineSelector position={clickPos} on:hide={toggleActive} on:updateDeadline={onUpdateDeadline}/>\r\n    {/if}\r\n\r\n    <div id='left'>\r\n        <p bind:this={el}/>\r\n        <p id='date' style='color:{dateColor}'>{new Date(item.deadline).toLocaleString()}</p>\r\n    </div>\r\n    <div id='right'>\r\n        <button on:click={complete}>Complete</button>\r\n    </div>\r\n\r\n</div>\r\n\r\n<style>\r\n    p {\r\n        font-size: 14px;\r\n        cursor: pointer;\r\n        text-shadow: 1px 1px rgba(0, 0, 0, 0.5);\r\n    }\r\n\r\n    #outer {\r\n        cursor: pointer;\r\n        display: flex;\r\n    }\r\n\r\n    #outer:hover {\r\n        background-color: rgba(255, 255, 255, 0.05);\r\n    }\r\n\r\n    #date {\r\n        font-size: 12px;\r\n        padding-top:0.25em;\r\n        transition: color 0.25s;\r\n    }\r\n\r\n    #left {\r\n        padding:0.5em;\r\n    }\r\n\r\n    #right {\r\n        margin-left:auto;\r\n        visibility: hidden;\r\n        padding:0.5em;\r\n    }\r\n\r\n    button {\r\n        cursor: pointer;\r\n        padding:0.5em;\r\n        background:transparent;\r\n        color:white;\r\n        text-shadow: 1px 1px rgba(0, 0, 0, 0.5);\r\n        border-radius: 4px;\r\n        border-color: rgba(255,255,255,0.1);\r\n    }\r\n\r\n    button:hover {\r\n        background-color: rgb(214, 214, 214);\r\n        color:black;\r\n        text-shadow: none;\r\n    }\r\n\r\n    button:active {\r\n        background-color: rgb(77, 77, 77);\r\n        color:white;\r\n    }\r\n\r\n    #outer:hover #right {\r\n        visibility:visible;\r\n    }\r\n\r\n</style>","<script>\r\n    import ToDoItem from './ToDoItem.svelte'\r\n    export let todos;\r\n\r\n    $: {\r\n        if(todos) { filteredList = Object.values(todos);} \r\n    }\r\n\r\n    let filteredList = [];\r\n</script>\r\n\r\n\r\n<div id='todos'>\r\n    {#each filteredList as todo (todo.id)}\r\n        <ToDoItem item={todo} on:complete on:updateDeadline/>\r\n    {/each}\r\n\r\n</div>\r\n\r\n<style>\r\n    #todos {\r\n        border: solid 1px rgba(0, 0, 0, 0.2);\r\n        display: flex;\r\n        flex-direction: column;\r\n        overflow-y:auto;\r\n        padding:1em;\r\n    }\r\n</style>\r\n","export default /^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;","import REGEX from './regex.js';\n\nfunction validate(uuid) {\n  return typeof uuid === 'string' && REGEX.test(uuid);\n}\n\nexport default validate;","import validate from './validate.js';\n/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\n\nvar byteToHex = [];\n\nfor (var i = 0; i < 256; ++i) {\n  byteToHex.push((i + 0x100).toString(16).substr(1));\n}\n\nfunction stringify(arr) {\n  var offset = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n  // Note: Be careful editing this code!  It's been tuned for performance\n  // and works in ways you may not expect. See https://github.com/uuidjs/uuid/pull/434\n  var uuid = (byteToHex[arr[offset + 0]] + byteToHex[arr[offset + 1]] + byteToHex[arr[offset + 2]] + byteToHex[arr[offset + 3]] + '-' + byteToHex[arr[offset + 4]] + byteToHex[arr[offset + 5]] + '-' + byteToHex[arr[offset + 6]] + byteToHex[arr[offset + 7]] + '-' + byteToHex[arr[offset + 8]] + byteToHex[arr[offset + 9]] + '-' + byteToHex[arr[offset + 10]] + byteToHex[arr[offset + 11]] + byteToHex[arr[offset + 12]] + byteToHex[arr[offset + 13]] + byteToHex[arr[offset + 14]] + byteToHex[arr[offset + 15]]).toLowerCase(); // Consistency check for valid UUID.  If this throws, it's likely due to one\n  // of the following:\n  // - One or more input array values don't map to a hex octet (leading to\n  // \"undefined\" in the uuid)\n  // - Invalid input values for the RFC `version` or `variant` fields\n\n  if (!validate(uuid)) {\n    throw TypeError('Stringified UUID is invalid');\n  }\n\n  return uuid;\n}\n\nexport default stringify;","import rng from './rng.js';\nimport stringify from './stringify.js';\n\nfunction v4(options, buf, offset) {\n  options = options || {};\n  var rnds = options.random || (options.rng || rng)(); // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n\n  rnds[6] = rnds[6] & 0x0f | 0x40;\n  rnds[8] = rnds[8] & 0x3f | 0x80; // Copy bytes to buffer, if provided\n\n  if (buf) {\n    offset = offset || 0;\n\n    for (var i = 0; i < 16; ++i) {\n      buf[offset + i] = rnds[i];\n    }\n\n    return buf;\n  }\n\n  return stringify(rnds);\n}\n\nexport default v4;","<script>\r\n    import ToDoInput from './ToDoInput.svelte'\r\n    import ToDoList from './ToDoList.svelte'\r\n    import {v4 as uuid} from 'uuid'\r\n    import { onMount } from 'svelte';\r\n    import Sugar from 'sugar-date';\r\n\r\n    let data = {};\r\n\r\n    function saveData() {\r\n        data.todos = data.todos;\r\n        localStorage.setItem('data', JSON.stringify(data));\r\n    }\r\n\r\n    function completeToDo(e) {\r\n        let id = e.detail.id;\r\n        delete data.todos[id];\r\n\r\n        saveData();\r\n    }\r\n\r\n    function addToDo(e) {\r\n        let text = e.detail.text;\r\n        let id = uuid();\r\n        let deadline = Sugar.Date.create('in 2 hours');\r\n\r\n        data.todos[id] = { text, deadline, id };\r\n\r\n        saveData();\r\n    }\r\n\r\n    function createPlaceholderToDos() {\r\n        console.log('Creating placeholder items..');\r\n        data = {};\r\n        data.todos = {};\r\n\r\n        addToDo({detail: {text: 'Do something.'}});\r\n\r\n        saveData();\r\n    }\r\n\r\n    function updateDeadline(e) {\r\n        data.todos[e.detail.id].deadline = e.detail.deadline;\r\n        saveData();\r\n    }\r\n\r\n    onMount(() => {\r\n        data = JSON.parse(window.localStorage.getItem('data'));\r\n        if(data == null ) createPlaceholderToDos()\r\n\r\n        //createPlaceholderToDos();\r\n        \r\n        console.log(data);\r\n    });\r\n</script>\r\n\r\n<div id='outer'>\r\n    <ToDoInput on:add={addToDo}/>\r\n    <ToDoList todos={data.todos} on:complete={completeToDo} on:updateDeadline={updateDeadline}/>\r\n</div>\r\n\r\n<style>\r\n    #outer {\r\n        display:flex;\r\n        flex-direction: column;\r\n        overflow:hidden;\r\n        margin:0.5em;\r\n\r\n    }\r\n\r\n    @media (min-width: 768px) {\r\n        #outer {\r\n            margin:4em;\r\n            width: 800px;\r\n        }\r\n    }\r\n</style>","<script>\n\timport TodoApp from \"./ToDo/ToDoApp.svelte\";\n</script>\n\n<main>\n\t<TodoApp/>\n</main>\n\n<style>\n\tmain {\n\t\toverflow: hidden;\n\t\tdisplay:flex;\n\t\tflex-direction: column;\n\t\t\n\t}\n</style>","import App from './App.svelte';\n\nconst app = new App({\n\ttarget: document.body,\n\tprops: {\n\t}\n});\n\nexport default app;"],"names":["noop","run","fn","blank_object","Object","create","run_all","fns","forEach","is_function","thing","safe_not_equal","a","b","append","target","node","appendChild","insert","anchor","insertBefore","detach","parentNode","removeChild","element","name","document","createElement","text","data","createTextNode","space","listen","event","handler","options","addEventListener","removeEventListener","attr","attribute","value","removeAttribute","getAttribute","setAttribute","set_style","key","important","style","removeProperty","setProperty","current_component","set_current_component","component","get_current_component","Error","onMount","$$","on_mount","push","createEventDispatcher","type","detail","cancelable","callbacks","bubbles","e","createEvent","initCustomEvent","custom_event","slice","call","defaultPrevented","bubble","this","dirty_components","binding_callbacks","render_callbacks","flush_callbacks","resolved_promise","Promise","resolve","update_scheduled","add_render_callback","seen_callbacks","Set","flushidx","flush","saved_component","length","update","pop","i","callback","has","add","clear","fragment","before_update","dirty","p","ctx","after_update","outroing","outros","group_outros","r","c","check_outros","transition_in","block","local","delete","transition_out","o","d","outro_and_destroy_block","lookup","create_component","mount_component","customElement","on_destroy","m","new_on_destroy","map","filter","destroy_component","detaching","make_dirty","then","fill","init","instance","create_fragment","not_equal","props","append_styles","parent_component","bound","on_disconnect","context","Map","skip_bound","root","ready","ret","rest","hydrate","nodes","Array","from","childNodes","children","l","intro","SvelteComponent","$destroy","$on","index","indexOf","splice","$set","$$props","obj","$$set","keys","input","dispatch","inputBox","preventDefault","stopPropagation","$$value","Sugar","SUGAR_GLOBAL","PROPERTY_DESCRIPTOR_SUPPORT","defineProperty","defineProperties","globalContext","testGlobal","global","window","allowObjectPrototype","namespacesByName","namespacesByClassString","prop","descriptor","DefaultChainable","getNewChainableClass","createNamespace","isObject","sugarNamespace","defineWithOptionCollect","methodName","args","arg1","arg2","arg3","opts","collectDefineOptions","methods","flags","forEachProperty","method","instanceMethod","staticMethod","wrapMethodWithArguments","wrapInstanceMethodFixed","wrapInstanceMethod","setMethod","active","extend","defineMethods","last","INSTANCE","extendNative","prototype","defineChainableMethod","source","methodsByName","field","val","nativeClass","nativeProto","staticMethods","instanceMethods","arrayOptionExists","arr","el","canExtend","objectRestricted","disallowedByFlags","methodIsExcepted","objectPrototype","hasOwn","mapNativeToChainable","setObjectChainableOnNamespace","mapObjectChainablesToNamespace","toString","startCollect","len","collectedArgs","Math","max","arguments","apply","polyfill","override","arg","constructor","raw","existing","collision","dcp","wrapped","wrapWithChainableResult","disambiguate","classToString","disambiguateMethod","mapObjectChainableToAllNamespaces","proto","methodNames","ownPropertyNames","nativeMethodProhibited","getOwnPropertyNames","internalToString","internalHasOwnProperty","hasOwnProperty","enumerable","configurable","writable","getOwn","module","exports","split","setupGlobal","NO_KEYS_IN_STRING_OBJECTS","TRIM_CHARS","sugarObject","sugarArray","sugarDate","Date","sugarString","String","Number","isString","isFunction","isArray","sugarFunction","Function","isClass","className","str","wrapNamespace","RegExp","defineStaticPolyfill","defineInstancePolyfill","assertCallable","TypeError","isArrayIndex","n","iterateOverSparseArray","fromIndex","loop","indexes","getSparseArrayIndexes","fromRight","sort","aLoop","spaceSplit","fullWidthNumberMap","trunc","isFinite","ceil","floor","padNumber","num","place","sign","base","replacement","abs","result","repeatString","replace","chr","fromCharCode","names","knownTypes","addKnownType","buildClassCheck","globalObject","ctorStr","getToStringClassCheck","buildPrimitiveClassCheck","toLowerCase","t","buildClassChecks","digit","buildFullWidthNumber","DONT_ENUM_PROPS","arrayIndexOf","search","defaultFromIndex","increment","sparseIndexOf","undefined","shift","arrayReduce","initialValue","count","defined","propertyIsEnumerable","forEachEnumerableProperty","buildDontEnumFix","nativeTokens","dateTokens","addDateTokens","prefix","tokens","defineNativeMethodsOnChainable","assertNonNull","isPrimitive","charAt","forceStringCoercion","coercePrimitiveToObject","every","some","lastIndexOf","eachFn","reduce","reduceFn","reduceRight","TRIM_REG","trim","bind","boundArgs","$i","$len","concat","now","getTime","toISOString","getUTCFullYear","getUTCMonth","getUTCDate","getUTCHours","getUTCMinutes","getUTCSeconds","getUTCMilliseconds","toJSON","UTC","EnglishLocaleBaseDefinition_1","code","plural","timeMarkers","ampm","units","months","weekdays","numerals","articles","time","past","future","duration","modifiers","src","parse","timeParse","timeFrontParse","coreUtilityAliases","util","simpleMerge_1","simpleClone_1","simpleMerge","getEnglishVariant_1","v","simpleClone","EnglishLocaleBaseDefinition","BritishEnglishDefinition_1","getEnglishVariant","short","medium","long","full","stamp","AmericanEnglishDefinition_1","mdy","firstDayOfWeek","firstDayOfWeekYear","CanadianEnglishDefinition","LazyLoadedLocales_1","AmericanEnglishDefinition","BritishEnglishDefinition","LOCALE_ARRAY_FIELDS_1","ISODefaults","CoreParsingTokens_1","yyyy","param","yy","y","ayy","MM","dd","hh","mm","ss","tzHour","tzMinute","iyyyy","ihh","imm","GMT","Z","timestamp","CoreParsingFormats_1","localeCheck","loc","timeSeparator","LocalizedParsingTokens_1","year","requiresSuffix","month","date","hour","requiresSuffixOr","minute","second","requiresNumerals","map_1","filter_1","isArrayIndex_1","getSparseArrayIndexes_1","iterateOverSparseArray_1","forEach_1","isDefined_1","CommonChars","HALF_WIDTH_COMMA","commaSplit_1","isClass_1","spaceSplit_1","isObjectType_1","hasOwnEnumeratedProperties_1","objectProto","hasValidPlainObjectPrototype_1","hasConstructor","isSerializable","isBoolean","isNumber","isDate","isRegExp","isSet","isMap","isError","isPlainObject_1","isObjectType","hasValidPlainObjectPrototype","hasOwnEnumeratedProperties","isKnownType","isPlainObject","classChecks","mathAliases","pow","min","round","isUndefined_1","getOrdinalSuffix_1","getArrayWithOffset_1","alternate","offset","getRegNonCapturing_1","opt","privatePropertyAccessor_1","privateKey","_utc","privatePropertyAccessor","callDateGet_1","getYear_1","callDateGet","getMonth_1","getDaysInMonth_1","getYear","getMonth","DateUnits_1","multiplier","start","end","alias","ambiguous","getDaysInMonth","DateUnitIndexes","YEAR_INDEX","iterateOverDateUnits_1","startIndex","endIndex","isUndefined","DateUnits","escapeRegExp_1","arrayToRegAlternates_1","joined","join","escapeRegExp","fullWidthNumberReg","fullWidthNumbers","allCharsReg_1","HALF_WIDTH_ZERO","FULL_WIDTH_ZERO","HALF_WIDTH_PERIOD","FULL_WIDTH_PERIOD","fwp","hwp","hwc","fwn","allCharsReg","fullwidthNumberHelpers","trunc_1","withPrecision_1","precision","getAdjustedUnit_1","ms","unitIndex","iterateOverDateUnits","unit","getAdjustedUnitForNumber_1","getAdjustedUnit","withPrecision","getParsingTokenWithSuffix_1","suffix","token","LocalizedParsingTokens","getRegNonCapturing","require$$0","ISO_FIRST_DAY_OF_WEEK","ISO_FIRST_DAY_OF_WEEK_YEAR","English","localeManager","getNewLocale_1","def","Locale","getMonthName","monthSuffix","getArrayWithOffset","getWeekdayName","parseValue","parseNumber","numeralMap","isNaN","parseRegularNumerals","parseIrregularNumerals","lastWasPlace","isPlace","numeral","getOrdinal","ordinalSuffix","getOrdinalSuffix","getRelativeFormat","adu","convertAdjustedToFormat","getDuration","getAdjustedUnitForNumber","getFirstDayOfWeek","isDefined","getFirstDayOfWeekYear","mult","u","format","relative","match","cacheFormat","dif","compiledFormats","unshift","addFormat","to","getTokenSrc","tmp","nc","parsingAliases","formatToSrc","CoreParsingTokens","parsingTokens","mod","arrayToRegAlternates","getParsingTokenWithSuffix","addRawFormat","reg","sep","buildValueArray","setMap","all","forEachAlternate","alt","j","forAllAlternates","idx","suffixes","addFormatSet","allowTime","timeFront","getFormatWithTime","baseFormat","timeBefore","localized","markers","timeMarkerOptional","getTimeAfter","LOCALE_ARRAY_FIELDS","commaSplit","buildNumerals","ampmFront","numeralUnits","placeholders","allowsFullWidth","getNumeralSrc","timeSuffixes","modifier","mapKey","CoreParsingFormats","df","LocaleManager","locales","get","fallback","LazyLoadedLocales","current","getAll","set","getNewLocale","remove","buildLocales","LocaleHelpers","defineStatic","addLocale","sugarCore","ABBREVIATED_YEAR_REG","tzOffset_1","getTimezoneOffset","callDateSet_1","safe","HOURS_INDEX","DAY_INDEX","WEEK_INDEX","MONTH_INDEX","getLowerUnitIndex_1","walkUnitDown_1","getLowerUnitIndex","setUnitAndLowerToEdge_1","stopIndex","walkUnitDown","callDateSet","resetTime_1","setUnitAndLowerToEdge","DATE_OPTIONS_1","newDateInternal","namespaceAliases","sugarNumber","sugarRegExp","defineAccessor_1","namespace","defineOptionsAccessor_1","defaults","getOption","defineAccessor","_dateOptions","defineOptionsAccessor","DATE_OPTIONS","getNewDate_1","setDate_1","getDate_1","getWeekday_1","setWeekday_1","dow","dir","currentWeekday","getWeekday","ndir","setDate","getDate","resetLowerUnits_1","getHigherUnitIndex_1","setYear_1","setMonth_1","cloneDate_1","clone","moveToBeginningOfWeek_1","setWeekday","moveToFirstDayOfWeekYear_1","moveToBeginningOfWeek","setISOWeekNumber_1","isoWeek","cloneDate","moveToFirstDayOfWeekYear","setYear","setMonth","callDateSetWithWeek_1","setISOWeekNumber","getOwnKey_1","getDateParamKey_1","params","getOwnKey","getDateParam_1","getDateParamKey","iterateOverDateParams_1","getDateParam","updateDate_1","reset","advance","prefer","weekdayDir","contextDate","upperUnitIndex","setUnit","unitName","checkMonth","fraction","getHigherUnitIndex","setUpperUnit","specificity","setSpecificity","lowerUnit","handleFraction","callDateSetWithWeek","targetMonth","monthHasShifted","setTime","millisecond","iterateOverDateParams","resetLowerUnits","getNewDate","canDisambiguate","advanceDate_1","updateDate","dateIsValid_1","moveToEndOfWeek_1","moveToEndOfUnit_1","localeCode","moveToEndOfWeek","deleteDateParam_1","moveToBeginningOfUnit_1","getYearFromAbbreviation_1","delta","iterateOverHigherDateParams_1","getExtendedDate_1","forceClone","afterCallbacks","optPrefer","optLocale","optFromUTC","optSetUTC","optParams","optClone","parseFormatValues","getYearFromAbbreviation","parseIrregular","cloneDateByFlag","afterDateSet","handleAmpm","handleTimezoneOffset","handleUnitlessShift","weekday","handleUnitlessNum","setOrdinalWeekday","handleMidday","advanceDate","handleRelativeDay","resetTime","day","handleRelativeUnit","edge","half","NaN","deleteDateParam","handleEdge","separateAbsoluteUnits","weekdayOfMonth","edgeIndex","iterateOverHigherDateParams","moveToBeginningOfUnit","moveToEndOfUnit","locale","setupOptions","utc","midday","dateIsValid","tzOffset","parseStringDate","createDate_1","getExtendedDate","setChainableConstructor_1","createFn","setChainableConstructor","createDate","setDateChainableConstructor","getKeys_1","getAllLocaleCodes","getKeys","getAllLocales","getLocale","removeLocale","setLocale","wrapNamespace_1","methodDefineAliases","defineInstance","defineInstanceAndStatic","defineInstanceWithArguments","collectSimilarMethods_1","defineInstanceSimilar_1","collectSimilarMethods","defineInstanceSimilar","after","before","buildNumberUnitMethods","dayAfter","dayAgo","dayBefore","dayFromNow","days","daysAfter","daysAgo","daysBefore","daysFromNow","hourAfter","hourAgo","hourBefore","hourFromNow","hours","hoursAfter","hoursAgo","hoursBefore","hoursFromNow","millisecondAfter","millisecondAgo","millisecondBefore","millisecondFromNow","milliseconds","millisecondsAfter","millisecondsAgo","millisecondsBefore","millisecondsFromNow","minuteAfter","minuteAgo","minuteBefore","minuteFromNow","minutes","minutesAfter","minutesAgo","minutesBefore","minutesFromNow","monthAfter","monthAgo","monthBefore","monthFromNow","monthsAfter","monthsAgo","monthsBefore","monthsFromNow","secondAfter","secondAgo","secondBefore","secondFromNow","seconds","secondsAfter","secondsAgo","secondsBefore","secondsFromNow","week","weekAfter","weekAgo","weekBefore","weekFromNow","weeks","weeksAfter","weeksAgo","weeksBefore","weeksFromNow","yearAfter","yearAgo","yearBefore","yearFromNow","years","yearsAfter","yearsAgo","yearsBefore","yearsFromNow","compareDate_1","margin","timezoneShift","compareEdges","loMargin","hiMargin","fromUTC","setUTC","simpleCapitalize_1","toUpperCase","getTimeDistanceForUnit_1","d1","d2","fwd","caps","simpleCapitalize","compareDate","getTimeDistanceForUnit","buildDateUnitMethods","addDays","addHours","addMilliseconds","addMinutes","addMonths","addSeconds","addWeeks","addYears","getDateParamsFromString_1","collectDateParamsFromArguments_1","collectUpdateDateArguments_1","allowDuration","getDateParamsFromString","collectDateParamsFromArguments","advanceDateWithArgs_1","collectUpdateDateArguments","advanceDateWithArgs","beginningOfDay","beginningOfISOWeek","beginningOfMonth","beginningOfWeek","beginningOfYear","daysInMonth","daysSince","daysUntil","endOfDay","endOfISOWeek","endOfMonth","endOfWeek","endOfYear","CoreOutputFormats_1","ISO8601","RFC1123","RFC1036","TIMEZONE_ABBREVIATION_REG","getHours_1","repeatString_1","padNumber_1","getWeekNumber_1","allowPrevious","getWeekYear_1","iso","getWeekNumber","getUTCOffset_1","colon","getDaysSince_1","getMeridiemToken_1","getHours","FormatTokensBase_1","ldml","strf","lowerToken","allowAlternates","strfPadding","ldmlPaddedToken","ordinalToken","s","getDaysSince","getMeridiemToken","doy","ldmlTwoDigitToken","getWeekYear","strfTwoDigitToken","getUTCOffset","STRING_FORMAT_REG","memoizeFunction_1","memo","counter","OPEN_BRACE","CLOSE_BRACE","ldmlTokens","strfTokens","dateFormatMatcher","createFormatMatcher_1","bracketMatcher","percentMatcher","precheck","compileMemoized","memoizeFunction","lastIndex","exec","getSubstring","getToken","literal","bKey","pLit","pKey","bt","pt","assertPassesPrecheck","sub","assertNoUnmatched","addFormats","buildLowercase","buildPadded","padding","buildTwoDigits","buildAlias","buildAlternate","f","getIdentityFormat","FormatTokensBase","getPadded","buildOrdinal","buildAlternates","CoreOutputFormats","buildDateFormatTokens","createFormatMatcher","assertDateIsValid_1","dateFormat_1","assertDateIsValid","dateFormat","createDateWithContext_1","createDateWithContext","getISOWeek","getUTCWeekday","getUTCDay","hoursSince","hoursUntil","trim_1","compareDay_1","comp","fullCompareDate_1","compareDay","weekdayMap","monthMap","is","fullCompareDate","isAfter","isBefore","isBetween","t1","t2","lo","hi","special","together","buildRelativeAliases","isFriday","isFuture","isLastMonth","isLastWeek","isLastYear","isLeapYear","isMonday","isNextMonth","isNextWeek","isNextYear","isPast","isSaturday","isSunday","isThisMonth","isThisWeek","isThisYear","isThursday","isToday","isTomorrow","isTuesday","isUTC_1","isUTC","isValid","isWednesday","isWeekday","isWeekend","isYesterday","millisecondsSince","millisecondsUntil","minutesSince","minutesUntil","monthsSince","monthsUntil","getAdjustedUnitForDate_1","dRelative","dateRelative_1","getAdjustedUnitForDate","relativeFn","dateRelative","relativeTo","getUnitIndexForParamName_1","getUnitIndexForParamName","rewind","secondsSince","secondsUntil","setISOWeek","on","weeksSince","weeksUntil","yearsSince","yearsUntil","setOption","getRangeMemberPrimitiveValue_1","valueOf","cloneRangeMember_1","getRangeMemberPrimitiveValue","Range_1","cloneRangeMember","getDateForRange_1","DURATION_UNITS","FULL_CAPTURED_DURATION","DurationTextFormats","RANGE_REG_FROM_TO","RANGE_REG_REAR_DURATION","RANGE_REG_FRONT_DURATION","MULTIPLIERS_1","Hours","Minutes","Seconds","Milliseconds","incrementDate_1","amount","MULTIPLIERS","DURATION_REG","getDateIncrementObject_1","amt","createDateRangeFromString_1","datetime","dio","getDateForRange","Range","getDateIncrementObject","incrementDate","DateRangeConstructor_1","createDateRangeFromString","range","DateRangeConstructor","rangeClamp_1","defineOnPrototype_1","ctor","clamp","rangeClamp","contains","valueIsNotInfinite_1","Infinity","isValidRangeMember_1","valueIsNotInfinite","rangeIsValid_1","isValidRangeMember","incrementNumber_1","incrementString_1","charCodeAt","periodSplit_1","getPrecision_1","periodSplit","getGreaterPrecision_1","n1","n2","getPrecision","rangeEvery_1","step","countOnly","inverse","rangeIsValid","getGreaterPrecision","incrementNumber","incrementString","buildDateRangeUnits_1","rangeEvery","defineOnPrototype","buildDateRangeUnits","everyFn","intersect","getRangeMemberNumericValue_1","span","getRangeMemberNumericValue","toArray","union","getRandomValues","div","onInputClicked","bgColor","position","top","Y","left","X","focus","newDate","parseDate","$$invalidate","t2_value","deadline","toLocaleString","create_if_block","div2","div0","p0","p1","div1","button","wholeText","set_data","boldHalf","word","substring","clickPos","item","dateColor","processText","processed","innerHTML","interval","afterUpdate","id","console","log","clientX","clientY","clearInterval","setInterval","get_key","old_blocks","dynamic","list","destroy","create_each_block","next","get_context","old_indexes","new_blocks","new_lookup","deltas","child_ctx","will_move","did_move","first","new_block","old_block","new_key","old_key","todos","filteredList","values","rnds8","Uint8Array","rng","crypto","msCrypto","REGEX","validate","uuid","test","byteToHex","substr","v4","buf","rnds","random","stringify","todolist","ToDoList","todolist_changes","saveData","localStorage","setItem","JSON","addToDo","getItem","main","body"],"mappings":"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"}